(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"/Ww0":function(n,l,e){"use strict";var t=e("8Y7J"),i=e("SVse"),a=e("VDRc"),o=e("/q54"),u=e("s6ns"),h=e("bujt"),d=e("Fwaw"),c=e("5GAg"),s=e("omvX"),r=e("Mr+X"),T=e("Gi4r"),g=e("l+Q0"),m=e("cUpR"),p=e("5mnX"),f=e.n(p);class C{constructor(n,l,e){this.route=n,this.dialogRef=l,this.dataItem=e,this.Title=null,this.soTien=0,this.tenBenhNhan=null,this.dataSourcedanhsachThuoc={data:[],total:0},this.icClose=f.a,this.dataSourcedanhsachThuoc.data=e.Model.DanhSachDonThuocs,this.soTien=e.Model.DanhSachDonThuocs.reduce((n,l)=>n+l.BNConPhaiThanhToan,0),this.tenBenhNhan=e.Model.HoTenBenhNhan,this.Title=e.Title}ngOnInit(){}close(n){this.dialogRef.close(n)}}var x=e("iInd");e.d(l,"a",(function(){return D}));var S=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function b(n){return t["\u0275vid"](0,[t["\u0275pid"](0,i.g,[t.LOCALE_ID]),(n()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](2,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](3,671744,null,0,a.b,[t.ElementRef,o.i,[2,a.g],o.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,81920,null,0,u.m,[[2,u.l],t.ElementRef,u.e],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""])),(n()(),t["\u0275eld"](7,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close("No answer")&&t),t}),h.d,h.b)),t["\u0275did"](8,180224,null,0,d.b,[t.ElementRef,c.g,[2,s.a]],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,r.b,r.a)),t["\u0275did"](10,9158656,null,0,T.b,[t.ElementRef,T.d,[8,null],[2,T.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](11,606208,null,0,g.a,[m.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](12,0,null,null,8,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n thu c\u1ee7a ng\u01b0\u1eddi b\u1ec7nh "])),(n()(),t["\u0275eld"](14,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),t["\u0275ted"](15,null,["",""])),(n()(),t["\u0275ted"](-1,null,[" v\u1edbi s\u1ed1 ti\u1ec1n "])),(n()(),t["\u0275eld"](17,0,null,null,2,"b",[],null,null,null,null,null)),(n()(),t["\u0275ted"](18,null,["",""])),t["\u0275ppd"](19,3),(n()(),t["\u0275ted"](-1,null,[" hay kh\xf4ng?\n"])),(n()(),t["\u0275eld"](21,0,null,null,6,"div",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](22,0,null,null,2,"button",[["class","mr-1 mt-2"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close("No answer")&&t),t}),h.d,h.b)),t["\u0275did"](23,180224,null,0,d.b,[t.ElementRef,c.g,[2,s.a]],null,null),(n()(),t["\u0275ted"](-1,0,["Kh\xf4ng"])),(n()(),t["\u0275eld"](25,0,null,null,2,"button",[["class","mr-1 mt-2"],["color","primary"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close("Yes")&&t),t}),h.d,h.b)),t["\u0275did"](26,180224,null,0,d.b,[t.ElementRef,c.g,[2,s.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["C\xf3"]))],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,4,0),n(l,10,0),n(l,11,0,e.icClose),n(l,26,0,"primary")}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).id),n(l,6,0,e.Title),n(l,7,0,t["\u0275nov"](l,8).disabled||null,"NoopAnimations"===t["\u0275nov"](l,8)._animationMode),n(l,9,0,t["\u0275nov"](l,10).inline,"primary"!==t["\u0275nov"](l,10).color&&"accent"!==t["\u0275nov"](l,10).color&&"warn"!==t["\u0275nov"](l,10).color,t["\u0275nov"](l,11).inline,t["\u0275nov"](l,11).size,t["\u0275nov"](l,11).iconHTML),n(l,15,0,e.tenBenhNhan);var i=t["\u0275unv"](l,18,0,n(l,19,0,t["\u0275nov"](l,0),e.soTien,"0.2-2","vi-VN"));n(l,18,0,i),n(l,22,0,t["\u0275nov"](l,23).disabled||null,"NoopAnimations"===t["\u0275nov"](l,23)._animationMode),n(l,25,0,t["\u0275nov"](l,26).disabled||null,"NoopAnimations"===t["\u0275nov"](l,26)._animationMode)}))}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-xac-nhan-pop-up",[],null,null,null,b,S)),t["\u0275did"](1,114688,null,0,C,[x.a,u.l,[2,u.a]],null,null)],(function(n,l){n(l,1,0)}),null)}var D=t["\u0275ccf"]("app-quay-thuoc-xac-nhan-pop-up",C,y,{},{},[])},"3S9l":function(n,l,e){"use strict";var t=e("8Y7J"),i=e("VDRc"),a=e("/q54"),o=e("uShY"),u=e("7OI1"),h=e("teW0"),d=e("7dP1"),c=e("iInd"),s=e("Y4+Y"),r=e("s7LF"),T=e("s6ns"),g=e("0MWk"),m=e("Ex7W"),p=e("bujt"),f=e("Fwaw"),C=e("5GAg"),x=e("omvX"),S=e("IP0z"),b=e("SVse"),y=e("H+pe");class D{constructor(n,l,e,i){this.route=n,this.apiService=l,this.cdRef=e,this.notificationService=i,this.gridChildColumns2=[],this.idMYCTN=this.route.snapshot.params.id,this.apDungCongNo=!1,this.thongTinBenhNhantam=[],this.valueChangeBaoHiem=new t.EventEmitter,this.valueChangeMg=new t.EventEmitter,this.dataSourceDanhSachBHTN={data:[],total:0},this.checkHaveBHTN=!1,this.flagEnableVoucher=!1,this.flagApDung=!1,this.thongTinMienGiamThem=[],this.thongTinMienGiamVoucher=[],this.disabledVoucher=!1,this.flagEnableMGThem=!1,this.disabledMGThem=!1,this.disabledSoTienMG=!0,this.disabledTiLeMG=!0,this.isExistFile=!1,this.soTienMgCheck=!0,this.tiLeMgCheck=!1,this.listVouchers=[],this.listOldVouchers=[],this.quayThuocValidationErrors=[],this.apDungMienGiam=!1,this.idBenhNhan=0,this.tongTienBNThanhToanPrivate=0,this.checkHiddenSoTienConLai=!1,this.loaiVoucher=0,this.khachVangLaiMuaThuoc=!1,this.format="n2"}ngOnInit(){this.documentType=y.b.QuayThuoc,this.gridChildColumns2=[{Field:"TenCongTy",Title:"C\xf4ng Ty",Width:231},{Field:"SoThe",Title:"S\u1ed1 Th\u1ebb",Width:111},{Field:"TuNgayHienThi",Title:"T\u1eeb ng\xe0y",Width:96},{Field:"DenNgayHienThi",Title:"\u0110\u1ebfn ng\xe0y",Width:104},{Field:"DienThoai",Title:"\u0110i\u1ec7n tho\u1ea1i",Width:122},{Field:"DiaChi",Title:"\u0110\u1ecba ch\u1ec9",Width:240},{Field:"CongNo",Title:"C\xf4ng n\u1ee3",Width:115,Template:this.actionTemplateSTCongNo},{Field:"",Title:"",Width:125,Template:this.actionTemplateSubmitCongNo}],this.idBenhNhan=this.route.snapshot.params.idsub,this.getDanhSachBHTN()}ngOnChanges(){this.tongTienBNThanhToanPrivate=this.tongTienBNThanhToan}getDanhSachBHTN(){this.apiService.get("QuayThuoc/GetListCongTyBaoHiemTuNhans?tiepNhanId="+this.idMYCTN).subscribe(n=>{null!=n&&null!=n&&(this.dataSourceDanhSachBHTN.data=n,this.dataSourceDanhSachBHTN.data.forEach(n=>{this.thongTinBenhNhantam.push({Id:n.Id,CongNoId:n.CongNoId,SoTien:n.SoTien,TenCongTy:n.TenCongTy})}),this.CheckThongTinBenhNhan(this.idMYCTN))})}CheckThongTinBenhNhan(n){this.apiService.post("QuayThuoc/CheckBenhNhanExistBaoHiemTuNhan?yctnId="+n).subscribe(l=>{this.checkHaveBHTN=l.length>0,this.getThongTinMienGiam(n)},()=>{})}getThongTinMienGiam(n){this.apiService.get("ThuNgan/GetThongTinMienGiam?yeuCauTiepNhanId="+n).subscribe(n=>{null!=n&&(this.khachVangLaiMuaThuoc=n.KhachVangLaiMuaThuoc,null==n.ThongTinMienGiamVoucherVo&&null==n.ThongTinMienGiamVoucherVo||(this.flagApDung=!0,this.flagEnableVoucher=!0,!0===this.flagEnableVoucher&&(this.disabledVoucher=!0),this.listVouchers=[],n.ThongTinMienGiamVoucherVo.MaVouchers.forEach(n=>{this.listVouchers.push(n.KeyId),this.listOldVouchers.push(n.KeyId)}),this.thongTinMienGiamVoucher={MaVouchers:n.ThongTinMienGiamVoucherVo.MaVouchers,DuocPhamMienGiamTheoTiLes:n.ThongTinMienGiamVoucherVo.DuocPhamMienGiamTheoTiLes,LoaiVoucher:n.ThongTinMienGiamVoucherVo.LoaiVoucher,TenVoucher:n.ThongTinMienGiamVoucherVo.TenVoucher,SoTienVoucherMiemGiam:n.ThongTinMienGiamVoucherVo.LoaiVoucher.SoTienVoucherMiemGiam},this.loaiVoucher=n.ThongTinMienGiamVoucherVo.LoaiVoucher),null!=n.ThongTinMienGiamThemVo||null!=n.ThongTinMienGiamThemVo?(this.flagApDung=!0,this.flagEnableMGThem=!0,!0===this.flagEnableMGThem&&(this.disabledMGThem=!0),this.thongTinMienGiamThem={LoaiMienGiamThem:n.ThongTinMienGiamThemVo.LoaiMienGiamThem,LyDoMiemGiam:n.ThongTinMienGiamThemVo.LyDoMiemGiam,SoTienMG:n.ThongTinMienGiamThemVo.SoTienMG,SoTienMGConLai:n.ThongTinMienGiamThemVo.SoTienMGConLai,TiLeMienGiam:n.ThongTinMienGiamThemVo.TiLeMienGiam,NhanVienDuyetMienGiamThemId:n.ThongTinMienGiamThemVo.NhanVienDuyetMienGiamThemId,TenNhanVienDuyet:n.ThongTinMienGiamThemVo.TenNhanVienDuyet,TaiLieuDinhKemGiayMiemGiam:{Id:n.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Id,Ma:n.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Ma,DuongDan:n.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.DuongDan,MoTa:n.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.MoTa,KichThuoc:n.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.KichThuoc,LoaiTapTin:n.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.LoaiTapTin,Ten:n.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.Ten,TenGuid:n.ThongTinMienGiamThemVo.TaiLieuDinhKemGiayMiemGiam.TenGuid}},0!=this.thongTinMienGiamThem.SoTienMG&&(this.disabledSoTienMG=!1,this.soTienMgCheck=!0,this.tiLeMgCheck=!1),0!=this.thongTinMienGiamThem.TiLeMienGiam&&(this.disabledTiLeMG=!1,this.soTienMgCheck=!1,this.tiLeMgCheck=!0),null!=this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam.Ten&&(this.isExistFile=!0)):(this.disabledSoTienMG=!1,this.thongTinMienGiamThem={LoaiMienGiamThem:null,LyDoMiemGiam:null,SoTienMG:0,SoTienMGConLai:0,TiLeMienGiam:0,TaiLieuDinhKemGiayMiemGiam:{Ma:null,DuongDan:null,MoTa:null,KichThuoc:null,LoaiTapTin:null,Ten:null,TenGuid:null}}))})}uploadFileDone(n){this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam=n,this.cdRef.detectChanges()}onApplyMGThem(){this.thongTinMienGiamVo={ThongTinMienGiamVoucherVo:this.thongTinMienGiamVoucher,ThongTinMienGiamThemVo:this.thongTinMienGiamThem},this.apDungMienGiam=!0;var n=1;this.soTienMgCheck&&(n=1),this.tiLeMgCheck&&(n=2),0!=this.thongTinMienGiamThem.SoTienMG&&(this.thongTinMienGiamThem.LoaiMienGiamThem=1,this.thongTinMienGiamThem.TiLeMienGiam=0),0!=this.thongTinMienGiamThem.TiLeMienGiam&&(this.thongTinMienGiamThem.LoaiMienGiamThem=2,this.thongTinMienGiamThem.SoTienMG=0);var l={ValidateVoucher:this.flagEnableVoucher,IdYeuCauTiepNhan:this.idMYCTN,ListVouchers:this.listVouchers,ValidateMGThem:this.flagEnableMGThem,LoaiMienGiamThem:n,LyDoMienGiam:this.thongTinMienGiamThem.LyDoMiemGiam,TaiLieuDinhKem:this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam,SoTienMG:this.thongTinMienGiamThem.SoTienMG,TiLeMienGiam:this.thongTinMienGiamThem.TiLeMienGiam,SoTienMGConLai:this.thongTinMienGiamThem.SoTienMGConLai,BenhNhanId:this.idBenhNhan,NhanVienDuyetMienGiamThemId:this.thongTinMienGiamThem.NhanVienDuyetMienGiamThemId};this.quayThuocValidationErrors=null,this.apiService.post("ThuNgan/ThemThongTinMiemGiamThemVaVoucher",l).subscribe(n=>{n&&this.getThongTinMienGiam(this.idMYCTN),this.apDungMienGiam=!0,this.valueChangeMg.emit({apDungMienGiam:this.apDungMienGiam,thongTinMienGiam:this.thongTinMienGiamVo})},l=>{this.quayThuocValidationErrors=l.ValidationErrors,this.disabledSoTienMG=!0,this.thongTinMienGiamThem={LoaiMienGiamThem:n,LyDoMiemGiam:this.thongTinMienGiamThem.LyDoMiemGiam,SoTienMG:this.thongTinMienGiamThem.SoTienMG,TiLeMienGiam:this.thongTinMienGiamThem.TiLeMienGiam,SoTienMGConLai:this.thongTinMienGiamThem.SoTienMGConLai,TaiLieuDinhKemGiayMiemGiam:this.thongTinMienGiamThem.TaiLieuDinhKemGiayMiemGiam}})}onChangeLoaiMg(n){1===n&&(this.soTienMgCheck=!0,this.tiLeMgCheck=!1,this.disabledSoTienMG=!1,this.disabledTiLeMG=!0,this.checkHiddenSoTienConLai=!1,this.thongTinMienGiamThem.TiLeMienGiam=0),2===n&&(this.soTienMgCheck=!1,this.tiLeMgCheck=!0,this.disabledSoTienMG=!0,this.disabledTiLeMG=!1,this.checkHiddenSoTienConLai=!0,this.thongTinMienGiamThem.SoTienMG=0)}onKeyCongNo(n,l){"Enter"==n.key&&this.ApDungCongNo(l)}ApDungCongNo(n){if(0!=this.dataSourceDanhSachBHTN.data[n].SoTien){this.thongTinBenhNhantam[n].SoTien=this.dataSourceDanhSachBHTN.data[n].SoTien,this.apDungCongNo=!0;var l={apDungCongNoThuoc:this.apDungCongNo,viTri:n,thongTinTam:this.thongTinBenhNhantam};this.dataSourceDanhSachBHTN.data[n].SoTien=0,this.valueChangeBaoHiem.emit(l)}}onChangeVoucher(n){if(!1===n){if(this.flagEnableVoucher=!1,this.flagEnableMGThem)return void(this.flagApDung=!0);this.flagApDung=!1}else{this.flagEnableVoucher=!0,this.flagApDung=!0,null==this.quayThuocValidationErrors&&(this.quayThuocValidationErrors=[]);var l=this.quayThuocValidationErrors.length;if(0!=l)for(let n=0;n<l&&!(this.quayThuocValidationErrors.length-1<n);n++)"ListVouchers"==this.quayThuocValidationErrors[n].Field&&(this.quayThuocValidationErrors.splice(n,1),0!=n&&n--)}}onChangeMienGiam(n){if(!1===n)this.flagEnableMGThem=!1,0==this.flagEnableVoucher&&0==this.flagEnableMGThem&&(this.flagApDung=!1),1==this.flagEnableVoucher&&(this.flagApDung=!0);else{this.flagEnableMGThem=!0,this.flagApDung=!0,this.soTienMgCheck=!0,this.tiLeMgCheck=!1,null==this.quayThuocValidationErrors&&(this.quayThuocValidationErrors=[]);var l=this.quayThuocValidationErrors.length;if(0!=l)for(let n=0;n<l&&!(this.quayThuocValidationErrors.length-1<n);n++)"SoTienMG"==this.quayThuocValidationErrors[n].Field&&(this.quayThuocValidationErrors.splice(n,1),0!=n&&n--),"LyDoMienGiam"==this.quayThuocValidationErrors[n].Field&&(this.quayThuocValidationErrors.splice(n,1),0!=n&&n--),"TiLeMienGiam"==this.quayThuocValidationErrors[n].Field&&(this.quayThuocValidationErrors.splice(n,1),0!=n&&n--),"TaiLieuDinhKem"==this.quayThuocValidationErrors[n].Field&&(this.quayThuocValidationErrors.splice(n,1),0!=n&&n--)}}onOpenChange(){this.voucherList.getDataForLookup()}onSelectChangeVoucher(n){0==n.length&&(this.loaiVoucher=0);var l=n[n.length-1];this.apiService.post("ThuNgan/GetMaVoucher?loaiVoucher="+this.loaiVoucher).subscribe(n=>{null!=n&&n.forEach(n=>{n.KeyId==l&&(this.loaiVoucher=n.LoaiVoucher)})})}valueChangeTheVoucher(n){var l=[];n.length>this.listOldVouchers.length&&(this.listOldVouchers=n),n.length<this.listOldVouchers.length&&(0==n.length?(this.disabledVoucher=!1,l=this.listOldVouchers,this.flagEnableVoucher=!1,!1===this.flagEnableMGThem&&(this.flagApDung=!1,this.apDungMienGiam=!0)):l=this.differenceOf2Arrays(this.listOldVouchers,n),this.apiService.post("ThuNgan/DeleteTheVoucher",{VoucherIds:l,YeucauTiepNhanId:this.idMYCTN}).subscribe(n=>{null!=n&&n.Item1&&(this.notificationService.showSuccess(n.Item2),this.getThongTinMienGiam(this.idMYCTN),this.apDungMienGiam=!0,this.valueChangeMg.emit({apDungMienGiam:this.apDungMienGiam,thongTinMienGiam:this.thongTinMienGiamVo}))}),this.listOldVouchers=n)}differenceOf2Arrays(n,l){const e=[];for(var t in n=n.toString().split(",").map(Number),l=l.toString().split(",").map(Number),n)l.includes(n[t])||e.push(n[t]);for(t in l)n.includes(l[t])||e.push(l[t]);return e.sort((n,l)=>n-l)}}var v=e("qc5V"),N=t["\u0275crt"]({encapsulation:0,styles:[["fieldset[_ngcontent-%COMP%]{display:block;margin-left:2px;margin-right:2px;border:1px #e0e0e0;border-style:inherit;padding:.35em .75em .625em!important}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{margin-left:15px;text-transform:uppercase}fieldset[_ngcontent-%COMP%]   .item_right[_ngcontent-%COMP%]{text-align:right!important;float:right}fieldset[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:15px!important}fieldset[_ngcontent-%COMP%]   ul.inline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block!important}"]],data:{}});function M(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"fieldset",[["class","mb-3"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](2,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Th\xf4ng tin b\u1ea3o hi\u1ec3m t\u01b0 nh\xe2n"])),(n()(),t["\u0275eld"](4,0,null,null,2,"div",[["class"," mt-1"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"app-grid",[["class","k-grid-border"],["style","width: 1px;"]],null,null,null,o.b,o.a)),t["\u0275did"](6,1818624,null,0,u.a,[h.a,d.a,c.o,s.a,t.ChangeDetectorRef,r.g,T.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],gridDataSource:[1,"gridDataSource"],useHeaderDefault:[2,"useHeaderDefault"],useActionDefault:[3,"useActionDefault"],pageable:[4,"pageable"],autoHeight:[5,"autoHeight"],documentType:[6,"documentType"],lazyLoadPage:[7,"lazyLoadPage"],useAddDeault:[8,"useAddDeault"],checkboxAble:[9,"checkboxAble"]},null)],(function(n,l){var e=l.component;n(l,1,0,"100%"),n(l,6,0,e.gridChildColumns2,e.dataSourceDanhSachBHTN,!1,!1,!1,!0,e.documentType,!0,!1,!1)}),null)}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-textboxnumeric",[["class","no-label"],["decimals","2"],["min","0.00"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(n.context.$implicit.SoTien=e)&&t),"keyup"===l&&(t=!1!==i.onKeyCongNo(e,n.context.rowIndex)&&t),t}),g.b,g.a)),t["\u0275did"](1,4833280,null,0,m.a,[],{model:[0,"model"],min:[1,"min"],format:[2,"format"],step:[3,"step"],decimals:[4,"decimals"]},{modelChange:"modelChange"})],(function(n,l){n(l,1,0,l.context.$implicit.SoTien,"0.00",l.component.format,100,"2")}),null)}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["cdkFocusInitial",""],["color","primary"],["mat-button",""],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ApDungCongNo(n.context.rowIndex)&&t),t}),p.d,p.b)),t["\u0275did"](1,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["\xc1p d\u1ee5ng"]))],(function(n,l){n(l,1,0,"primary")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode)}))}function G(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{actionTemplateSTCongNo:0}),t["\u0275qud"](402653184,2,{actionTemplateSubmitCongNo:0}),t["\u0275qud"](671088640,3,{voucherList:0}),(n()(),t["\u0275eld"](3,0,null,null,6,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","0 grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](4,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](5,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,M)),t["\u0275did"](7,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,[[1,2],["actionTemplateSTCongNo",2]],null,0,null,L)),(n()(),t["\u0275and"](0,[[2,2],["actionTemplateSubmitCongNo",2]],null,0,null,P))],(function(n,l){var e=l.component;n(l,4,0,"row wrap","column"),n(l,5,0,"0 grid","0"),n(l,7,0,!0===e.checkHaveBHTN)}),null)}var I=e("TXUA"),R=e("5AHi"),w=e("BHPW"),k=e("PrTX"),H=e("XBGS"),E=e("Mr+X"),K=e("Gi4r"),F=e("l+Q0"),V=e("cUpR"),B=e("byyG"),q=e("usaP"),A=e("gM18"),O=e("qwqc"),_=e("5mnX"),Q=e.n(_),X=e("pJhR"),$=e("FIHo"),Y=e("pN9m"),z=e.n(Y),W=e("Knx4"),U=e("PpHG"),Z=e("oRGT");class j{constructor(n,l,e,t,i,a){this.route=n,this.notificationService=l,this.apiService=e,this.authService=t,this.router=i,this.dialog=a,this.src="",this.icClose=Q.a,this.icEdit=z.a,this.kiemtraPhieuInManhinh=!1,this.confrim=null,this.thongTinSoPhieuDaThu=new $.u,this.trangThaiThuTienBenhNhan=new $.x}ngOnInit(){this.getThongSoPhieu()}total(n){switch(n){case"ThanhTien":return this.thongTinSoPhieuDaThu.DanhSachThuPhis.reduce((n,l)=>n+l.ThanhTien,0);case"BHYTThanhToan":return this.thongTinSoPhieuDaThu.DanhSachThuPhis.reduce((n,l)=>n+l.BHYTThanhToan,0);case"TongCongNo":return this.thongTinSoPhieuDaThu.DanhSachThuPhis.reduce((n,l)=>n+l.TongCongNo,0);case"SoTienMG":return this.thongTinSoPhieuDaThu.DanhSachThuPhis.reduce((n,l)=>n+l.SoTienMG,0);case"DaThanhToan":return this.thongTinSoPhieuDaThu.DanhSachThuPhis.reduce((n,l)=>n+l.DaThanhToan,0)}}getThongSoPhieu(){this.apiService.post("QuayThuoc/GetSoPhieuQuayThuoc/"+this.yeuCauTiepNhanId).subscribe(n=>{null!=n&&(this.dataSoPhieus=n,n.length>0&&this.xemThongTinPhieu(n[0].KeyId))})}xemThongTinPhieu(n){let l=this.dialog.open(X.a,{disableClose:!0,width:"200px",height:"90px",data:{}});this.apiService.get("QuayThuoc/GetThongTinPhieuThu/"+n).subscribe(e=>{null!=e&&(this.thongTinSoPhieuDaThu=e,this.thongTinSoPhieuDaThu.SoPhieuId=n,this.thongTinSoPhieuDaThu.TenSoPhieu=e.SoPhieu,l.close())})}selectionChangeSoPhieu(n){null!=n&&null!=n?(this.thongTinSoPhieuDaThu.SoPhieuId=n.KeyId,this.thongTinSoPhieuDaThu.LoaiPhieu=n.LoaiPhieu,this.thongTinSoPhieuDaThu.TinhTrang=n.TinhTrang,this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan=n.LoaiPhieuThuChiThuNgan,this.xemThongTinPhieu(n.KeyId)):this.thongTinSoPhieuDaThu=new $.u}huyPhieuThu(n,l){let e=new $.t;e.SoPhieu=n.Id,e.TenPhieuThuChi=n.LoaiPhieu,e.TenSoPhieu=this.thongTinSoPhieuDaThu.TenSoPhieu,e.LoaiPhieuThuChiThuNgan=this.thongTinSoPhieuDaThu.LoaiPhieuThuChiThuNgan,this.dialog.open(W.a,{disableClose:!0,width:"800px",data:{thongTinHuyPhieu:e,thuHoiPhieu:l,loaiType:!0}}).afterClosed().subscribe(n=>{null!=n&&null!==n&&""!==n&&(this.getThongSoPhieu(),this.notificationService.showSuccess("Hu\u0309y phi\xea\u0301u thu tha\u0300nh c\xf4ng."))},n=>{"Validation Failed"!=n.Message&&this.notificationService.showError(n.Message)})}phieuIn(){const n=this,l=window.location.protocol+"//"+window.location.host;let e=new Z.e;n.apiService.postExportPdf("QuayThuoc/XacNhanIn",e={TaiKhoanBenhNhanThuId:this.thongTinSoPhieuDaThu.SoPhieuId,Hosting:l,InBangKe:!1,InPhieuThu:!0}).subscribe(l=>{n.dialog.open(U.a,{disableClose:!0,width:"1000px",data:{Model:l}}).afterClosed().subscribe(()=>{})})}}var J=t["\u0275crt"]({encapsulation:0,styles:[[".container-iframe[_ngcontent-%COMP%]{position:relative;width:100%;height:500px;background:#ebeced}.container-iframe[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.size-icon[_ngcontent-%COMP%]{display:inline-block;height:20px;width:20px;line-height:20px;border-radius:10px;background-color:green;color:#fff;text-align:center}.size-icon-duoc-bhyt[_ngcontent-%COMP%]{display:inline-block;height:14px;width:14px;line-height:20px;border-radius:7px;background-color:green;color:#fff;text-align:center;right:-4px;top:6px;margin:0}.float_right[_ngcontent-%COMP%]{float:right}.color-green[_ngcontent-%COMP%]{color:green}.color-red[_ngcontent-%COMP%]{color:red}.reverse-ellipsis.r[_ngcontent-%COMP%]{text-align:right;direction:inherit}.yellowText[_ngcontent-%COMP%]{color:#9acd32}.redText[_ngcontent-%COMP%]{color:red}.greenText[_ngcontent-%COMP%]{color:green}.orangeText[_ngcontent-%COMP%]{color:orange}.blueText[_ngcontent-%COMP%]{color:#00f}.blackText[_ngcontent-%COMP%]{color:#000}"]],data:{}});function nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"th",[["width","50%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Loa\u0323i phi\xea\u0301u"])),(n()(),t["\u0275eld"](4,0,null,null,1,"th",[["width","50%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\xecnh tr\u1ea1ng"]))],null,null)}function ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"td",[["width","50%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"strong",[["style","color: red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,[" ",""]))],null,(function(n,l){n(l,2,0,l.parent.context.$implicit.TinhTrang)}))}function en(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"td",[["width","50%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"strong",[["style","color: green"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,[" ",""]))],null,(function(n,l){n(l,2,0,l.parent.context.$implicit.TinhTrang)}))}function tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"td",[["width","50%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),(n()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](5,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](7,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,5,0,l.context.$implicit.TinhTrang===e.trangThaiThuTienBenhNhan.Huy),n(l,7,0,l.context.$implicit.TinhTrang!==e.trangThaiThuTienBenhNhan.Huy)}),(function(n,l){n(l,3,0,l.context.$implicit.DisplayName)}))}function an(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"strong",[["style","color: red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "]))],null,(function(n,l){n(l,1,0,l.component.thongTinSoPhieuDaThu.TinhTrang)}))}function on(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"strong",[["style","color: green"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "]))],null,(function(n,l){n(l,1,0,l.component.thongTinSoPhieuDaThu.TinhTrang)}))}function un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Ng\u01b0\u01a1\u0300i hu\u0309y: "])),(n()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "]))],null,(function(n,l){n(l,3,0,l.component.thongTinSoPhieuDaThu.NhanVienHuyPhieu)}))}function hn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Nga\u0300y hu\u0309y: "])),(n()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "]))],null,(function(n,l){n(l,3,0,l.component.thongTinSoPhieuDaThu.NgayHuyStr)}))}function dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" R\xf4\u0300i "]))],null,null)}function cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Ch\u01b0a "])),(n()(),t["\u0275eld"](2,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["style","transform: scale(0.8)"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],[[null,"click"]],(function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=!1!==i.huyPhieuThu(i.thongTinSoPhieuDaThu,!0)&&t),t}),E.b,E.a)),t["\u0275did"](3,9158656,null,0,K.b,[t.ElementRef,K.d,[8,null],[2,K.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](4,606208,null,0,F.a,[V.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,3,0),n(l,4,0,e.icEdit)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).inline,"primary"!==t["\u0275nov"](l,3).color&&"accent"!==t["\u0275nov"](l,3).color&&"warn"!==t["\u0275nov"](l,3).color,t["\u0275nov"](l,4).inline,t["\u0275nov"](l,4).size,t["\u0275nov"](l,4).iconHTML)}))}function sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"li",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Thu h\xf4\u0300i: "])),(n()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](4,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,cn)),t["\u0275did"](6,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,4,0,e.thongTinSoPhieuDaThu.DaThuHoi),n(l,6,0,!e.thongTinSoPhieuDaThu.DaThuHoi)}),null)}function rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Ng\u01b0\u01a1\u0300i thu h\xf4\u0300i: "])),(n()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "]))],null,(function(n,l){n(l,3,0,l.component.thongTinSoPhieuDaThu.NguoiThuHoi)}))}function Tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Nga\u0300y thu: "])),(n()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "]))],null,(function(n,l){n(l,3,0,l.component.thongTinSoPhieuDaThu.NgayThuStr)}))}function gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,23,"fieldset",[["class","ml-3"],["fxFlex","100%"],["fxFlex.sm","100%"],["style","padding: 13px;flex: 1 1 100%;box-sizing: border-box;max-width: 100%;"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),(n()(),t["\u0275eld"](2,0,null,null,21,"div",[["class","mt-1"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,20,"ul",[["class","inline"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Loa\u0323i phi\xea\u0301u: "])),(n()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,[" "," "])),(n()(),t["\u0275eld"](8,0,null,null,5,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Ti\u0300nh tra\u0323ng: "])),(n()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](11,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](13,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](15,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](17,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,sn)),t["\u0275did"](19,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](21,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](23,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,11,0,e.thongTinSoPhieuDaThu.TinhTrang===e.trangThaiThuTienBenhNhan.Huy),n(l,13,0,e.thongTinSoPhieuDaThu.TinhTrang!==e.trangThaiThuTienBenhNhan.Huy),n(l,15,0,e.thongTinSoPhieuDaThu.TinhTrang===e.trangThaiThuTienBenhNhan.Huy),n(l,17,0,e.thongTinSoPhieuDaThu.TinhTrang===e.trangThaiThuTienBenhNhan.Huy),n(l,19,0,null!=e.thongTinSoPhieuDaThu.LoaiPhieu&&e.thongTinSoPhieuDaThu.LoaiPhieu===e.trangThaiThuTienBenhNhan.ThuTheoChiPhi&&e.thongTinSoPhieuDaThu.TinhTrang===e.trangThaiThuTienBenhNhan.Huy),n(l,21,0,e.thongTinSoPhieuDaThu.DaThuHoi),n(l,23,0,e.thongTinSoPhieuDaThu.DaThuHoi)}),(function(n,l){n(l,7,0,l.component.thongTinSoPhieuDaThu.LoaiPhieu)}))}function mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" T\xf4\u0309ng s\xf4\u0301 ti\xea\u0300n: "])),(n()(),t["\u0275eld"](2,0,null,null,2,"strong",[["style","color: red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275ppd"](4,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,3,0,n(l,4,0,t["\u0275nov"](l.parent.parent,0),e.thongTinSoPhieuDaThu.TongChiPhi,"0.2-2","vi-VN"));n(l,3,0,i)}))}function pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,39,"ul",[["class","inline"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,mn)),t["\u0275did"](2,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](3,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" BHYT TT: "])),(n()(),t["\u0275eld"](5,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,[" "," "])),t["\u0275ppd"](7,3),(n()(),t["\u0275eld"](8,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Mi\xea\u0303m gia\u0309m: "])),(n()(),t["\u0275eld"](10,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](11,null,[" "," "])),t["\u0275ppd"](12,3),(n()(),t["\u0275eld"](13,0,null,null,26,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" B\xea\u0323nh nh\xe2n TT: "])),(n()(),t["\u0275eld"](15,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](16,null,[" "," "])),t["\u0275ppd"](17,3),(n()(),t["\u0275ted"](-1,null,[" ("])),(n()(),t["\u0275eld"](19,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Ti\xea\u0300n m\u0103\u0323t: "])),(n()(),t["\u0275eld"](21,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](22,null,[" "," "])),t["\u0275ppd"](23,3),(n()(),t["\u0275eld"](24,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Chuy\xea\u0309n khoa\u0309n: "])),(n()(),t["\u0275eld"](26,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](27,null,[" "," "])),t["\u0275ppd"](28,3),(n()(),t["\u0275eld"](29,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["POS: "])),(n()(),t["\u0275eld"](31,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](32,null,[" "," "])),t["\u0275ppd"](33,3),(n()(),t["\u0275eld"](34,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["C\xf4ng n\u01a1\u0323: "])),(n()(),t["\u0275eld"](36,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](37,null,[" "," "])),t["\u0275ppd"](38,3),(n()(),t["\u0275ted"](-1,null,[") "]))],(function(n,l){n(l,2,0,null!=l.component.thongTinSoPhieuDaThu.LoaiPhieu)}),(function(n,l){var e=l.component,i=t["\u0275unv"](l,6,0,n(l,7,0,t["\u0275nov"](l.parent,0),e.thongTinSoPhieuDaThu.BHYTThanhToan,"0.2-2","vi-VN"));n(l,6,0,i);var a=t["\u0275unv"](l,11,0,n(l,12,0,t["\u0275nov"](l.parent,0),e.thongTinSoPhieuDaThu.MienGiam,"0.2-2","vi-VN"));n(l,11,0,a);var o=t["\u0275unv"](l,16,0,n(l,17,0,t["\u0275nov"](l.parent,0),e.thongTinSoPhieuDaThu.BenhNhanThanhToan,"0.2-2","vi-VN"));n(l,16,0,o);var u=t["\u0275unv"](l,22,0,n(l,23,0,t["\u0275nov"](l.parent,0),e.thongTinSoPhieuDaThu.TienMat,"0.2-2","vi-VN"));n(l,22,0,u);var h=t["\u0275unv"](l,27,0,n(l,28,0,t["\u0275nov"](l.parent,0),e.thongTinSoPhieuDaThu.ChuyenKhoan,"0.2-2","vi-VN"));n(l,27,0,h);var d=t["\u0275unv"](l,32,0,n(l,33,0,t["\u0275nov"](l.parent,0),e.thongTinSoPhieuDaThu.Pos,"0.2-2","vi-VN"));n(l,32,0,d);var c=t["\u0275unv"](l,37,0,n(l,38,0,t["\u0275nov"](l.parent,0),e.thongTinSoPhieuDaThu.CongNo,"0.2-2","vi-VN"));n(l,37,0,c)}))}function fn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" S\xf4\u0301 ti\xea\u0300n: "])),(n()(),t["\u0275eld"](2,0,null,null,2,"strong",[["style","color: red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275ppd"](4,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,3,0,n(l,4,0,t["\u0275nov"](l.parent.parent,0),e.thongTinSoPhieuDaThu.SoTien,"0.2-2","vi-VN"));n(l,3,0,i)}))}function Cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Nga\u0300y thu: "])),(n()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "]))],null,(function(n,l){n(l,3,0,l.component.thongTinSoPhieuDaThu.NgayThuStr)}))}function xn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" N\xf4\u0323i dung thu: "])),(n()(),t["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "]))],null,(function(n,l){n(l,3,0,l.component.thongTinSoPhieuDaThu.NoiDungThu)}))}function Sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"ul",[["class","inline"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,fn)),t["\u0275did"](2,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Cn)),t["\u0275did"](4,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,xn)),t["\u0275did"](6,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,null!=e.thongTinSoPhieuDaThu.LoaiPhieu),n(l,4,0,null!=e.thongTinSoPhieuDaThu.NgayThuStr),n(l,6,0,null!=e.thongTinSoPhieuDaThu.NoiDungThu)}),null)}function bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275ted"](0,null,[" "," "]))],null,(function(n,l){n(l,0,0,l.context.rowIndex+1)}))}function yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275ted"](0,null,[" "," "]))],null,(function(n,l){n(l,0,0,l.context.value)}))}function Dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["kendoTooltip",""]],[[8,"title",0]],null,null,null,null)),t["\u0275did"](1,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275ted"](2,null,[" "," "]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,t["\u0275inlineInterpolate"](1,"",l.context.dataItem.TenDichVu,"")),n(l,2,0,l.context.dataItem.TenDichVu)}))}function vn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","text-center"],["kendoTooltip",""],["style","font-weight: bold;color:#000;"],["title","T\u1ed5ng c\u1ed9ng DV \u0111ang ch\u1ecdn"]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275ted"](-1,null,["T\u1ed5ng c\u1ed9ng:"]))],(function(n,l){n(l,1,0)}),null)}function Nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.DonGia,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.ThanhTien,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.aggregates.ThanhTien.sum,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.total("ThanhTien"),"0.2-2","vi-VN"));n(l,1,0,i)}))}function Gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.BHYTThanhToan,"0.2-2","vi-VN"));n(l,1,0,e)}))}function In(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.aggregates.BHYTThanhToan.sum,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.total("BHYTThanhToan"),"0.2-2","vi-VN"));n(l,1,0,i)}))}function wn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.TongCongNo,"0.2-2","vi-VN"));n(l,1,0,e)}))}function kn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.aggregates.TongCongNo.sum,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Hn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["style","float:right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.total("TongCongNo"),"0.2-2","vi-VN"));n(l,1,0,i)}))}function En(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,8,"div",[["inline","true"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,7,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](3,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](4,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](5,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](6,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](7,0,null,null,2,"span",[["style","float:right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),t["\u0275ppd"](9,3)],(function(n,l){n(l,3,0,"row"),n(l,4,0,"8px"),n(l,5,0,"end center"),n(l,6,0)}),(function(n,l){var e=t["\u0275unv"](l,8,0,n(l,9,0,t["\u0275nov"](l.parent.parent,0),l.context.dataItem.SoTienMG,"0.2-2","vi-VN"));n(l,8,0,e)}))}function Kn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.aggregates.SoTienMG.sum,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Fn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["style","float:right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.total("SoTienMG"),"0.2-2","vi-VN"));n(l,1,0,i)}))}function Vn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.DaThanhToan,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.aggregates.DaThanhToan.sum,"0.2-2","vi-VN"));n(l,1,0,e)}))}function qn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.total("DaThanhToan"),"0.2-2","vi-VN"));n(l,1,0,i)}))}function An(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,252,"fieldset",[["class","mb-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](2,0,null,null,250,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","0"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](3,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](4,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](5,0,null,null,247,"kendo-grid",[["class","grid-custom"],["height","500"],["id","danhSachDaThuTienGrid"]],[[1,"dir",0],[2,"k-widget",null],[2,"k-grid",null],[2,"k-grid-lockedcolumns",null],[2,"k-grid-virtual",null],[2,"k-grid-column-resizing",null],[2,"k-grid-no-scrollbar",null]],null,null,H.y,H.l)),t["\u0275prd"](4608,null,R.Uc,R.Uc,[]),t["\u0275prd"](4608,null,R.Ac,R.Ac,[]),t["\u0275prd"](135680,null,R.Mc,R.Mc,[k.g,t.Renderer2,t.NgZone,R.Fc,O.c]),t["\u0275prd"](4608,null,R.T,R.T,[]),t["\u0275prd"](4608,null,R.U,R.U,[t.Sanitizer]),t["\u0275prd"](4608,null,R.W,R.W,[]),t["\u0275prd"](4608,null,R.Rb,R.Rb,[]),t["\u0275prd"](512,null,R.i,R.i,[]),t["\u0275prd"](512,null,R.R,R.R,[]),t["\u0275prd"](512,null,R.ac,R.ac,[]),t["\u0275prd"](131584,null,R.Jc,R.Jc,[R.R,R.ac]),t["\u0275prd"](512,null,R.Kb,R.Kb,[]),t["\u0275prd"](512,null,R.Nb,R.Nb,[[2,R.Nc]]),t["\u0275prd"](512,null,R.m,R.m,[t.NgZone]),t["\u0275prd"](512,null,R.P,R.P,[]),t["\u0275prd"](512,null,R.Z,R.Z,[t.NgZone]),t["\u0275prd"](512,null,R.ub,R.ub,[]),t["\u0275prd"](512,null,R.oc,R.oc,[]),t["\u0275prd"](512,null,R.Bc,R.Bc,[]),t["\u0275prd"](512,null,R.fb,R.fb,[]),t["\u0275prd"](256,null,O.b,"kendo.grid",[]),t["\u0275prd"](131584,null,O.c,O.c,[O.b,[2,O.d],[2,O.e]]),t["\u0275prd"](512,null,R.Fc,R.Fc,[t.NgZone,O.c]),t["\u0275prd"](512,null,R.G,R.G,[]),t["\u0275prd"](512,null,R.F,R.F,[]),t["\u0275prd"](512,null,R.u,R.u,[]),t["\u0275prd"](512,null,R.qc,R.qc,[]),t["\u0275prd"](512,null,R.Ec,R.Ec,[]),t["\u0275prd"](512,null,R.wb,R.wb,[]),t["\u0275prd"](131584,null,R.fc,R.fc,[t.NgZone,R.R,R.qc,R.Ec,R.Nb,R.P,R.wb,R.Z,t.ChangeDetectorRef,O.c,[2,R.xb]]),t["\u0275prd"](512,null,R.Oc,R.Oc,[]),t["\u0275did"](37,8110080,null,6,R.Db,[R.i,R.Jc,t.ElementRef,R.Kb,R.Nb,R.m,R.P,R.Z,R.ub,R.oc,R.Bc,t.Renderer2,R.fb,t.NgZone,R.Fc,R.R,R.G,t.ChangeDetectorRef,R.F,R.u,R.fc,R.Oc,O.c],{data:[0,"data"],height:[1,"height"],selectable:[2,"selectable"],resizable:[3,"resizable"]},null),t["\u0275qud"](603979776,1,{columns:1}),t["\u0275qud"](603979776,2,{detailTemplateChildren:1}),t["\u0275qud"](603979776,3,{noRecordsTemplateChildren:1}),t["\u0275qud"](603979776,4,{pagerTemplateChildren:1}),t["\u0275qud"](603979776,5,{toolbarTemplateChildren:1}),t["\u0275qud"](603979776,6,{columnMenuTemplates:1}),t["\u0275pod"](44,{enabled:0,checkboxOnly:1}),t["\u0275prd"](256,null,R.j,R.Y,[]),(n()(),t["\u0275eld"](46,0,null,null,14,"kendo-grid-column",[["field",""],["title",""],["width","25"]],null,null,null,H.v,H.i)),t["\u0275did"](47,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,7,{headerTemplates:1}),t["\u0275qud"](335544320,8,{footerTemplate:0}),t["\u0275qud"](603979776,9,{columnMenuTemplates:1}),t["\u0275qud"](335544320,10,{template:0}),t["\u0275qud"](335544320,11,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,12,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,13,{groupFooterTemplate:0}),t["\u0275qud"](335544320,14,{editTemplate:0}),t["\u0275qud"](335544320,15,{filterCellTemplate:0}),t["\u0275qud"](335544320,16,{filterMenuTemplate:0}),t["\u0275pod"](58,{"text-align":0}),t["\u0275pod"](59,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275eld"](61,0,null,null,16,"kendo-grid-column",[["field",""],["title","#"],["width","15"]],null,null,null,H.v,H.i)),t["\u0275did"](62,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,17,{headerTemplates:1}),t["\u0275qud"](335544320,18,{footerTemplate:0}),t["\u0275qud"](603979776,19,{columnMenuTemplates:1}),t["\u0275qud"](335544320,20,{template:0}),t["\u0275qud"](335544320,21,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,22,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,23,{groupFooterTemplate:0}),t["\u0275qud"](335544320,24,{editTemplate:0}),t["\u0275qud"](335544320,25,{filterCellTemplate:0}),t["\u0275qud"](335544320,26,{filterMenuTemplate:0}),t["\u0275pod"](73,{"text-align":0}),t["\u0275pod"](74,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,bn)),t["\u0275did"](77,16384,[[20,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](78,0,null,null,16,"kendo-grid-column",[["class","k-grouping-row p"],["field","Nhom"],["title","Nh\xf3m"],["width","50"]],null,null,null,H.v,H.i)),t["\u0275did"](79,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],hidden:[2,"hidden"],style:[3,"style"],headerStyle:[4,"headerStyle"],cssClass:[5,"cssClass"],field:[6,"field"]},null),t["\u0275qud"](603979776,27,{headerTemplates:1}),t["\u0275qud"](335544320,28,{footerTemplate:0}),t["\u0275qud"](603979776,29,{columnMenuTemplates:1}),t["\u0275qud"](335544320,30,{template:0}),t["\u0275qud"](335544320,31,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,32,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,33,{groupFooterTemplate:0}),t["\u0275qud"](335544320,34,{editTemplate:0}),t["\u0275qud"](335544320,35,{filterCellTemplate:0}),t["\u0275qud"](335544320,36,{filterMenuTemplate:0}),t["\u0275pod"](90,{"text-align":0}),t["\u0275pod"](91,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,yn)),t["\u0275did"](94,16384,[[31,4]],0,R.Ib,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](95,0,null,null,18,"kendo-grid-column",[["field","TenDichVu"],["title","T\xean D\u1ecbch V\u1ee5"],["width","100"]],null,null,null,H.v,H.i)),t["\u0275did"](96,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,37,{headerTemplates:1}),t["\u0275qud"](335544320,38,{footerTemplate:0}),t["\u0275qud"](603979776,39,{columnMenuTemplates:1}),t["\u0275qud"](335544320,40,{template:0}),t["\u0275qud"](335544320,41,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,42,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,43,{groupFooterTemplate:0}),t["\u0275qud"](335544320,44,{editTemplate:0}),t["\u0275qud"](335544320,45,{filterCellTemplate:0}),t["\u0275qud"](335544320,46,{filterMenuTemplate:0}),t["\u0275pod"](107,{"text-align":0}),t["\u0275pod"](108,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Dn)),t["\u0275did"](111,16384,[[40,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,vn)),t["\u0275did"](113,16384,[[38,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](114,0,null,null,14,"kendo-grid-column",[["field","Soluong"],["title","S\u1ed1 L\u01b0\u1ee3ng"],["width","60"]],null,null,null,H.v,H.i)),t["\u0275did"](115,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,47,{headerTemplates:1}),t["\u0275qud"](335544320,48,{footerTemplate:0}),t["\u0275qud"](603979776,49,{columnMenuTemplates:1}),t["\u0275qud"](335544320,50,{template:0}),t["\u0275qud"](335544320,51,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,52,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,53,{groupFooterTemplate:0}),t["\u0275qud"](335544320,54,{editTemplate:0}),t["\u0275qud"](335544320,55,{filterCellTemplate:0}),t["\u0275qud"](335544320,56,{filterMenuTemplate:0}),t["\u0275pod"](126,{"text-align":0}),t["\u0275pod"](127,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275eld"](129,0,null,null,16,"kendo-grid-column",[["field","DonGia"],["title","\u0110\u01a1n Gi\xe1"],["width","90"]],null,null,null,H.v,H.i)),t["\u0275did"](130,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,57,{headerTemplates:1}),t["\u0275qud"](335544320,58,{footerTemplate:0}),t["\u0275qud"](603979776,59,{columnMenuTemplates:1}),t["\u0275qud"](335544320,60,{template:0}),t["\u0275qud"](335544320,61,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,62,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,63,{groupFooterTemplate:0}),t["\u0275qud"](335544320,64,{editTemplate:0}),t["\u0275qud"](335544320,65,{filterCellTemplate:0}),t["\u0275qud"](335544320,66,{filterMenuTemplate:0}),t["\u0275pod"](141,{"text-align":0}),t["\u0275pod"](142,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Nn)),t["\u0275did"](145,16384,[[60,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](146,0,null,null,19,"kendo-grid-column",[["field","ThanhTien"],["title","Th\xe0nh Ti\u1ec1n"],["width","100"]],null,null,null,H.v,H.i)),t["\u0275did"](147,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],headerStyle:[2,"headerStyle"],field:[3,"field"]},null),t["\u0275qud"](603979776,67,{headerTemplates:1}),t["\u0275qud"](335544320,68,{footerTemplate:0}),t["\u0275qud"](603979776,69,{columnMenuTemplates:1}),t["\u0275qud"](335544320,70,{template:0}),t["\u0275qud"](335544320,71,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,72,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,73,{groupFooterTemplate:0}),t["\u0275qud"](335544320,74,{editTemplate:0}),t["\u0275qud"](335544320,75,{filterCellTemplate:0}),t["\u0275qud"](335544320,76,{filterMenuTemplate:0}),t["\u0275pod"](158,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Mn)),t["\u0275did"](161,16384,[[70,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Ln)),t["\u0275did"](163,16384,[[73,4]],0,R.Fb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Pn)),t["\u0275did"](165,16384,[[68,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](166,0,null,null,20,"kendo-grid-column",[["field","BHYTThanhToan"],["title","BHYT TT"],["width","100"]],null,null,null,H.v,H.i)),t["\u0275did"](167,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,77,{headerTemplates:1}),t["\u0275qud"](335544320,78,{footerTemplate:0}),t["\u0275qud"](603979776,79,{columnMenuTemplates:1}),t["\u0275qud"](335544320,80,{template:0}),t["\u0275qud"](335544320,81,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,82,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,83,{groupFooterTemplate:0}),t["\u0275qud"](335544320,84,{editTemplate:0}),t["\u0275qud"](335544320,85,{filterCellTemplate:0}),t["\u0275qud"](335544320,86,{filterMenuTemplate:0}),t["\u0275pod"](178,{"text-align":0}),t["\u0275pod"](179,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Gn)),t["\u0275did"](182,16384,[[80,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,In)),t["\u0275did"](184,16384,[[83,4]],0,R.Fb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Rn)),t["\u0275did"](186,16384,[[78,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](187,0,null,null,20,"kendo-grid-column",[["title","T\u1ed5ng c\xf4ng n\u1ee3"],["width","90"]],null,null,null,H.v,H.i)),t["\u0275did"](188,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"]},null),t["\u0275qud"](603979776,87,{headerTemplates:1}),t["\u0275qud"](335544320,88,{footerTemplate:0}),t["\u0275qud"](603979776,89,{columnMenuTemplates:1}),t["\u0275qud"](335544320,90,{template:0}),t["\u0275qud"](335544320,91,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,92,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,93,{groupFooterTemplate:0}),t["\u0275qud"](335544320,94,{editTemplate:0}),t["\u0275qud"](335544320,95,{filterCellTemplate:0}),t["\u0275qud"](335544320,96,{filterMenuTemplate:0}),t["\u0275pod"](199,{"text-align":0}),t["\u0275pod"](200,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,wn)),t["\u0275did"](203,16384,[[90,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,kn)),t["\u0275did"](205,16384,[[93,4]],0,R.Fb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Hn)),t["\u0275did"](207,16384,[[88,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](208,0,null,null,20,"kendo-grid-column",[["field","SoTienMG"],["title","S\u1ed1 ti\u1ec1n MG"],["width","120"]],null,null,null,H.v,H.i)),t["\u0275did"](209,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,97,{headerTemplates:1}),t["\u0275qud"](335544320,98,{footerTemplate:0}),t["\u0275qud"](603979776,99,{columnMenuTemplates:1}),t["\u0275qud"](335544320,100,{template:0}),t["\u0275qud"](335544320,101,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,102,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,103,{groupFooterTemplate:0}),t["\u0275qud"](335544320,104,{editTemplate:0}),t["\u0275qud"](335544320,105,{filterCellTemplate:0}),t["\u0275qud"](335544320,106,{filterMenuTemplate:0}),t["\u0275pod"](220,{"text-align":0}),t["\u0275pod"](221,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,En)),t["\u0275did"](224,16384,[[100,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Kn)),t["\u0275did"](226,16384,[[103,4]],0,R.Fb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Fn)),t["\u0275did"](228,16384,[[98,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](229,0,null,null,20,"kendo-grid-column",[["field","DaThanhToan"],["title","\u0110\xe3 TT"],["width","100"]],null,null,null,H.v,H.i)),t["\u0275did"](230,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,107,{headerTemplates:1}),t["\u0275qud"](335544320,108,{footerTemplate:0}),t["\u0275qud"](603979776,109,{columnMenuTemplates:1}),t["\u0275qud"](335544320,110,{template:0}),t["\u0275qud"](335544320,111,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,112,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,113,{groupFooterTemplate:0}),t["\u0275qud"](335544320,114,{editTemplate:0}),t["\u0275qud"](335544320,115,{filterCellTemplate:0}),t["\u0275qud"](335544320,116,{filterMenuTemplate:0}),t["\u0275pod"](241,{"text-align":0}),t["\u0275pod"](242,{"text-align":0}),t["\u0275prd"](2048,[[1,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Vn)),t["\u0275did"](245,16384,[[110,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Bn)),t["\u0275did"](247,16384,[[113,4]],0,R.Fb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,qn)),t["\u0275did"](249,16384,[[108,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](250,0,null,null,2,"kendo-grid-messages",[["detailCollapse","Thu g\u1ecdn chi ti\u1ebft"],["detailExpand","M\u1edf r\u1ed9ng chi ti\u1ebft"],["noRecords","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u."],["pagerItems","d\xf2ng"],["pagerOf","trong s\u1ed1"]],null,null,null,H.x,H.k)),t["\u0275prd"](6144,null,R.ec,null,[R.J]),t["\u0275did"](252,770048,null,0,R.J,[O.c],{noRecords:[0,"noRecords"],pagerOf:[1,"pagerOf"],pagerItems:[2,"pagerItems"],detailExpand:[3,"detailExpand"],detailCollapse:[4,"detailCollapse"]},null)],(function(n,l){var e=l.component;n(l,1,0,"100%"),n(l,3,0,"row wrap","column"),n(l,4,0,"0","0");var t=e.thongTinSoPhieuDaThu.DanhSachThuPhis,i=n(l,44,0,!0,!0);n(l,37,0,t,"500",i,!0);var a=n(l,58,0,"center"),o=n(l,59,0,"center");n(l,47,0,"","25",a,o,"");var u=n(l,73,0,"center"),h=n(l,74,0,"center");n(l,62,0,"#","15",u,h,"");var d=n(l,90,0,"left"),c=n(l,91,0,"center");n(l,79,0,"Nh\xf3m","50",!0,d,c,"k-grouping-row p","Nhom");var s=n(l,107,0,"left"),r=n(l,108,0,"center");n(l,96,0,"T\xean D\u1ecbch V\u1ee5","100",s,r,"TenDichVu");var T=n(l,126,0,"right"),g=n(l,127,0,"center");n(l,115,0,"S\u1ed1 L\u01b0\u1ee3ng","60",T,g,"Soluong");var m=n(l,141,0,"right"),p=n(l,142,0,"right");n(l,130,0,"\u0110\u01a1n Gi\xe1","90",m,p,"DonGia");var f=n(l,158,0,"right");n(l,147,0,"Th\xe0nh Ti\u1ec1n","100",f,"ThanhTien");var C=n(l,178,0,"right"),x=n(l,179,0,"right");n(l,167,0,"BHYT TT","100",C,x,"BHYTThanhToan");var S=n(l,199,0,"right"),b=n(l,200,0,"right");n(l,188,0,"T\u1ed5ng c\xf4ng n\u1ee3","90",S,b);var y=n(l,220,0,"right"),D=n(l,221,0,"right");n(l,209,0,"S\u1ed1 ti\u1ec1n MG","120",y,D,"SoTienMG");var v=n(l,241,0,"right"),N=n(l,242,0,"right");n(l,230,0,"\u0110\xe3 TT","100",v,N,"DaThanhToan"),n(l,252,0,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u.","trong s\u1ed1","d\xf2ng","M\u1edf r\u1ed9ng chi ti\u1ebft","Thu g\u1ecdn chi ti\u1ebft")}),(function(n,l){n(l,5,0,t["\u0275nov"](l,37).dir,t["\u0275nov"](l,37).hostClasses,t["\u0275nov"](l,37).hostClasses,t["\u0275nov"](l,37).lockedClasses,t["\u0275nov"](l,37).virtualClasses,t["\u0275nov"](l,37).columnResizing,t["\u0275nov"](l,37).noScrollbarClass)}))}function On(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""],["style","margin-top: 10px;"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=!1!==i.huyPhieuThu(i.thongTinSoPhieuDaThu,!1)&&t),t}),p.d,p.b)),t["\u0275did"](1,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,[" Hu\u0309y phi\xea\u0301u thu "]))],(function(n,l){n(l,1,0,"warn")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode)}))}function _n(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","sticky-button-action py-3 text-right"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](2,0,null,null,2,"button",[["class","mr-2"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.phieuIn()&&t),t}),p.d,p.b)),t["\u0275did"](3,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Phi\xea\u0301u in"])),(n()(),t["\u0275and"](16777216,null,null,1,null,On)),t["\u0275did"](6,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,1,0),n(l,3,0,"primary"),n(l,6,0,e.thongTinSoPhieuDaThu.ConHanHuyPhieuThu&&e.thongTinSoPhieuDaThu.LoaiPhieu===e.trangThaiThuTienBenhNhan.ThuTheoChiPhi&&e.thongTinSoPhieuDaThu.TinhTrang!==e.trangThaiThuTienBenhNhan.Huy)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).disabled||null,"NoopAnimations"===t["\u0275nov"](l,3)._animationMode)}))}function Qn(n){return t["\u0275vid"](0,[t["\u0275pid"](0,b.g,[t.LOCALE_ID]),(n()(),t["\u0275eld"](1,0,null,null,26,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"],["id","phieu-thu"]],null,null,null,null,null)),t["\u0275did"](2,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](3,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](4,0,null,null,13,"fieldset",[["fxFlex","100%"],["style","padding: 0 !important"]],null,null,null,null,null)),t["\u0275did"](5,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](6,0,null,null,11,"div",[["class","mt-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](7,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](8,0,null,null,9,"ul",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](9,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](10,0,null,null,7,"li",[],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,null,null,4,"app-combobox",[["class","pb-0"],["fxFlex","30%"],["fxFlex.sm","30%"],["id","ten-pttt"],["label","S\xf4\u0301 phi\xea\u0301u"]],null,[[null,"selectionChange"],[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"selectionChange"===l&&(t=!1!==i.selectionChangeSoPhieu(e)&&t),"modelChange"===l&&(t=!1!==(i.thongTinSoPhieuDaThu.SoPhieuId=e)&&t),t}),B.b,B.a)),t["\u0275did"](12,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](13,6012928,null,0,q.a,[v.a,A.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],modelText:[3,"modelText"],data:[4,"data"],bind:[5,"bind"],template:[6,"template"],templateHeader:[7,"templateHeader"],popupSettings:[8,"popupSettings"],autoSelectFirstItem:[9,"autoSelectFirstItem"]},{modelChange:"modelChange",selectionChange:"selectionChange"}),(n()(),t["\u0275and"](0,[["soPhieuTemplateHeader",2]],null,0,null,nn)),(n()(),t["\u0275and"](0,[["soPhieuTemplate",2]],null,0,null,tn)),(n()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](17,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](18,0,null,null,7,"fieldset",[["class","mb-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](19,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](20,0,null,null,2,"div",[["class","mt-1 ml-1"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](22,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](23,0,null,null,2,"div",[["class","mt-1 ml-1"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](25,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,An)),t["\u0275did"](27,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,_n)),t["\u0275did"](29,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"row wrap","column"),n(l,3,0,"16px grid","0"),n(l,5,0,"100%"),n(l,7,0,"100%"),n(l,9,0,"100%"),n(l,12,0,"30%","30%"),n(l,13,0,"ten-pttt","S\xf4\u0301 phi\xea\u0301u",e.thongTinSoPhieuDaThu.SoPhieuId,e.thongTinSoPhieuDaThu.TenSoPhieu,e.dataSoPhieus,!0,t["\u0275nov"](l,15),t["\u0275nov"](l,14),null,!0),n(l,17,0,null!=e.thongTinSoPhieuDaThu.LoaiPhieu),n(l,19,0,"100%"),n(l,22,0,null!=e.thongTinSoPhieuDaThu.LoaiPhieu&&e.thongTinSoPhieuDaThu.LoaiPhieu===e.trangThaiThuTienBenhNhan.ThuTheoChiPhi),n(l,25,0,e.thongTinSoPhieuDaThu.LoaiPhieu===e.trangThaiThuTienBenhNhan.ThuTheoChiPhi),n(l,27,0,e.thongTinSoPhieuDaThu.LoaiPhieu===e.trangThaiThuTienBenhNhan.ThuTheoChiPhi),n(l,29,0,null!=e.thongTinSoPhieuDaThu.SoPhieuId)}),null)}var Xn=e("L4kb"),$n=e("h6cf"),Yn=e("a4YI"),zn=e("0Uif"),Wn=e("xxjd"),Un=e("OCug"),Zn=e("Dnqu"),jn=e("QDH1"),Jn=e("4hd2"),nl=e.n(Jn),ll=e("60aS"),el=e("yVuV"),tl=e("pQML"),il=e.n(tl),al=e("Pdl6"),ol=e("5ghv"),ul=e.n(ol),hl=e("GWPR"),dl=e("IA+W"),cl=e("F/us"),sl=e("4FRq"),rl=e("iPKF"),Tl=e("5fHe");class gl{constructor(n,l,e,i,a,o,u){this.route=n,this.apiService=l,this.notificationService=e,this.dialog=i,this.cdRef=a,this.authService=o,this.router=u,this.icInfo=il.a,this.icRoundEdit=ul.a,this.validationErrors=[],this.validationThuThuocErrors=[],this.id=0,this.idSub=0,this.tongTien=0,this.tongTienGrid=0,this.icDelete=nl.a,this.flagCheckSeletedTienMat=!1,this.flagCheckSeletedChuyenKhoan=!1,this.flagCheckSeletedPos=!1,this.flagCheckSeletedSoTienCongNo=!1,this.format="n2",this.selectItem=[],this.isSelectingItem=!1,this.showCanhBaoSoTienNhap=!1,this.hinhThucThanhToan=[{KeyId:1,DisplayName:"Ti\u1ec1n m\u1eb7t",Selected:!1,Change:!1},{KeyId:2,DisplayName:"Chuy\u1ec3n kho\u1ea3n",Selected:!1,Change:!1},{KeyId:3,DisplayName:"Pos",Selected:!1,Change:!1},{KeyId:4,DisplayName:"C\xf4ng n\u1ee3",Selected:!1,Change:!1}],this.setDefeautTienMat=[1],this.lstDonThuocMoiThem=Array(),this.danhSachCongNoChoThus=[],this.dataSourcedanhsachThuoc={data:[],total:0},this.maYCTNId=0,this.keySelectBy="Id",this.mySelection=[],this.mySelectionInPage=[],this.selectAllState="unchecked",this.selectMoneyTienBNDua=null,this.selectMoneyTienMat=null,this.selectMoneyTienChuyenKhoan=null,this.selectMoneyTienPos=null,this.selectMoneySoTienCongNo=null,this.danhSachChuaThanhToan=new t.EventEmitter,this.apDungCongNoThuoc=!1,this.apDungMienGiam=!1,this.thongTinTam=[],this.afterChangedCongNo=new t.EventEmitter,this.afterChangedMg=new t.EventEmitter,this.changeTab=new t.EventEmitter,this.state={},this.gridData=Object(el.e)(this.dataSourcedanhsachThuoc.data,this.state),this.apDungCNAndMiemGiam=!1,this.arrayThanhToans=[],this.arrayThanhToanstmp=[],this.confirm=null,this.checkSeletedTienMat=!1,this.checkSeletedChuyenKhoan=!1,this.checkSeletedPos=!1,this.checkSeletedSoTienCongNo=!1,this.loaiYeuCauTiepNhanKhachVangLai=!1,this.apDungMGT=new $.a,this.confrim=null,this.danhSachMienGiamVo=new $.g,this.loaiMienGiam=new $.l,this.loaiChietKhau=new $.k}total(n){switch(n){case"BNConPhaiThanhToan":return this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault).reduce((n,l)=>n+l.BNConPhaiThanhToan,0);case"SoTienMG":return this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault).reduce((n,l)=>n+l.SoTienMG,0);case"ThanhTienHienThi":return this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault).reduce((n,l)=>n+l.ThanhTienHienThi,0);case"BNConPhaiThanhToanHienThi":return this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault).reduce((n,l)=>n+l.BNConPhaiThanhToanHienThi,0);case"ThanhTien":return this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault).reduce((n,l)=>n+l.ThanhTien,0)}}ngOnInit(){this.documentType=y.b.QuayThuoc,this.closedialog=this.dialog.open(X.a,{disableClose:!0,width:"200px",height:"90px",data:{}});const n=this.route.snapshot.params.id;this.maYCTNId=n,this.id=this.route.snapshot.params.id,this.idSub=this.route.snapshot.params.idsub,this.thongtinDonThuoc=new $.r,this.GetTenBenhNhan(this.idSub),this.checkLoaiYCTN(n),this.lstDonThuocMoiThem=new Array,this.themDuocPham=new $.p,this.deleteItem=new Array,null==this.benhnhanThongTin&&(this.benhnhanThongTin=new $.b),this.selectItem=[1],this.checkSeletedTienMat=!0,this.flagCheckSeletedTienMat=!0,this.thongtinDonThuoc.NgayThu=new Date,this.thongtinDonThuoc.NoiDungThu="Thu ti\u1ec1n thu\u1ed1c",this.hinhThucThanhToan=[{KeyId:1,DisplayName:"Ti\u1ec1n m\u1eb7t",Selected:!0,Change:!1},{KeyId:2,DisplayName:"Chuy\u1ec3n kho\u1ea3n",Selected:!1,Change:!1},{KeyId:3,DisplayName:"Pos",Selected:!1,Change:!1},{KeyId:4,DisplayName:"C\xf4ng n\u1ee3",Selected:!1,Change:!1}]}checkLoaiYCTN(n){this.apiService.post("QuayThuoc/CheckLoaiYCTN?tiepNhanId="+n).subscribe(n=>{this.loaiYeuCauTiepNhanKhachVangLai=n})}ngOnChanges(){!0===this.apDungCongNoThuoc&&(this.apDungCNAndMiemGiam=!0,this.bindChiaTienCongNo(),this.thongTinTam[this.viTri].SoTien>this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0)?this.notificationService.showError("\xc1p d\u1ee5ng c\xf4ng n\u1ee3 th\u1ea5t b\u1ea1i."):this.notificationService.showSuccess("\xc1p d\u1ee5ng c\xf4ng n\u1ee3 th\xe0nh c\xf4ng."),this.afterChangedCongNo.emit()),!0===this.apDungMienGiam&&(this.apDungCNAndMiemGiam=!1,this.getThongTinMienGiam(this.maYCTNId))}bindChiaPhanTramDoiTuongUuDai(){if(this.danhSachCongNoChoThus.length>0&&(this.bindChiaTienCongNo(),this.cdRef.detectChanges()),this.dataSourcedanhsachThuoc.data.length>0){if(0===this.thongTinTam.length)for(const n of this.dataSourcedanhsachThuoc.data)!0===n.CheckedDefault&&(n.TLMG=0,n.SoTienMG=0,n.BNConPhaiThanhToan=n.ThanhTien);if(null!=this.thongTinMienGiamVos&&null!=this.thongTinMienGiamVos){if(null!==this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo&&0!==Object.entries(this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo).length){if(2===this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.LoaiVoucher){let n=this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.SoTienVoucherMiemGiam,l=0;for(const e of this.dataSourcedanhsachThuoc.data){const t=this.itemTotalCongNo(e.DanhSachCongNoChoThus);!0===e.CheckedDefault&&(0!==e.BNConPhaiThanhToan&&e.BNConPhaiThanhToan<n&&(l=e.BNConPhaiThanhToan,e.SoTienMG=Math.floor(e.SoTienMG+e.BNConPhaiThanhToan),e.BNConPhaiThanhToan=e.ThanhTien-t-e.SoTienMG,n=n-e.BNConPhaiThanhToan-l),n>0&&e.BNConPhaiThanhToan>n&&(e.SoTienMG=e.SoTienMG+n,e.BNConPhaiThanhToan=e.ThanhTien-t-e.SoTienMG,n=0))}}if(1===this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.LoaiVoucher){let n=this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.SoTienVoucherMiemGiam;this.thongTinMienGiamVos.ThongTinMienGiamVoucherVo.DuocPhamMienGiamTheoTiLes.forEach(l=>{for(const e of this.dataSourcedanhsachThuoc.data)if(!0===e.CheckedDefault){const t=this.itemTotalCongNo(e.DanhSachCongNoChoThus);e.DuocPhamId===l.DuocPhamId&&(e.TLMG=e.TLMG+l.TiLe,e.SoTienMG=Math.floor((e.SoLuongMua*e.DonGia-t)*l.TiLe/100),e.SoTienMG>e.SoLuongMua*e.DonGia-t&&(e.SoTienMG=e.SoLuongMua*e.DonGia-t),n<e.SoTienMG&&(e.SoTienMG=n),n-=e.SoTienMG,e.BNConPhaiThanhToan=e.SoLuongMua*e.DonGia-t-e.SoTienMG)}})}}if(null!=this.thongTinMienGiamVos.ThongTinMienGiamThemVo&&null!=this.thongTinMienGiamVos.ThongTinMienGiamThemVo&&0!==Object.entries(this.thongTinMienGiamVos.ThongTinMienGiamThemVo).length)if(1===this.thongTinMienGiamVos.ThongTinMienGiamThemVo.LoaiMienGiamThem){let n=this.thongTinMienGiamVos.ThongTinMienGiamThemVo.SoTienMGConLai,l=0;for(const e of this.dataSourcedanhsachThuoc.data){const t=this.itemTotalCongNo(e.DanhSachCongNoChoThus);!0===e.CheckedDefault&&(0!==e.BNConPhaiThanhToan&&e.BNConPhaiThanhToan<=n&&(l=e.BNConPhaiThanhToan,e.SoTienMG=Math.floor(e.SoTienMG+e.BNConPhaiThanhToan),e.BNConPhaiThanhToan=e.ThanhTien-t-e.SoTienMG,n=n-e.BNConPhaiThanhToan-l),n>0&&e.BNConPhaiThanhToan>n&&(e.SoTienMG=e.SoTienMG+n,e.BNConPhaiThanhToan=e.ThanhTien-t-e.SoTienMG,n=0))}}else{let n=!1;const l=this.thongTinMienGiamVos.ThongTinMienGiamThemVo.TiLeMienGiam;for(const e of this.dataSourcedanhsachThuoc.data){const t=this.itemTotalCongNo(e.DanhSachCongNoChoThus);!0===e.CheckedDefault&&(n=!0,e.TLMG=e.TLMG+l,e.SoTienMGThem=e.SoTienMG,e.SoTienMG=Math.floor((e.SoLuongMua*e.DonGia-t)*e.TLMG/100),e.BNConPhaiThanhToan=e.ThanhTien-t-e.SoTienMG)}if(n)for(const e of this.dataSourcedanhsachThuoc.data)if(!0===e.CheckedDefault&&void 0!==e.SoTienMGThem){const n=this.itemTotalCongNo(e.DanhSachCongNoChoThus);e.SoTienMG=e.SoTienMG+e.SoTienMGThem,e.SoTienMG>e.SoLuongMua*e.DonGia-n&&(e.SoTienMG=e.SoLuongMua*e.DonGia-n),e.BNConPhaiThanhToan=e.SoLuongMua*e.DonGia-n-e.SoTienMG}}}}this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0),this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1)>=0&&(this.thongtinDonThuoc.TienMat=this.tongTien,this.thongtinDonThuoc.BenhNhanDua>0&&!0===this.apDungMienGiam&&(this.thongtinDonThuoc.TienTraLai=this.thongtinDonThuoc.BenhNhanDua-this.thongtinDonThuoc.TienMat)),this.gridData=this.dataSourcedanhsachThuoc.data,this.myDanhSachChuaThanhToan()}itemTotalCongNo(n){let l=0;return null!=n&&n.forEach(n=>{l+=n.SoTienCongNoChoThu}),l}selectDataDanhSachDaChon(){let n=0;return this.dataSourcedanhsachThuoc.data.forEach(l=>{!0===l.CheckedDefault&&(n+=l.ThanhTien)}),n}totalCongNoPrivate(){let n=0;if(0!==this.thongTinTam.length)for(let l=0;l<this.thongTinTam.length;l++)n+=this.thongTinTam[l].SoTien;return n}tinhTienCongNo(n,l,e){let t=0;for(let i=0;i<this.thongTinTam.length;i++)this.thongTinTam[i].CongNoId===l&&(t=this.thongTinTam[i].SoTien);return Math.round(100*parseFloat((t/e*n).toPrecision(15)))/100}tinhTiLeMiemGiamInGrid(n){const l=this.itemTotalCongNo(n.DanhSachCongNoChoThus),e=n.ThanhTien-l;return 0===e?0:Math.round(n.SoTienMG/e*100)}bindChiaTienCongNo(){const n=this.selectDataDanhSachDaChon();if(this.totalCongNoPrivate()>n)return void this.notificationService.showError("S\u1ed1 ti\u1ec1n thanh to\xe1n c\xf4ng n\u1ee3 kh\xf4ng h\u1ee3p l\u1ec7");if(0!==this.danhSachCongNoChoThus[0].CongNoChoThus.length&&this.danhSachCongNoChoThus[0].CongNoChoThus.forEach(n=>{n.ViTri===this.viTri&&0!==this.thongTinTam.length&&(n.SoTienCongNoChoThu=this.thongTinTam[this.viTri].SoTien)}),this.thongTinTam.forEach(n=>{this.thongtinDonThuoc.DanhSachCongNos.forEach(l=>{n.CongNoId===l.CongTyCongNoId&&(l.SoTienCongNo=n.SoTien)})}),this.thongTinTam.length>0){const l=new $.f;for(let n=0;n<this.thongTinTam.length;n++){const e=new $.d;e.ViTri=n,e.CongNoId=this.thongTinTam[n].CongNoId,e.TenCongTy=this.thongTinTam[n].TenCongTy,e.SoTienCongNoChoThu=0,l.CongNoChoThus.push(e)}const e=this.findLast();let t=0;for(let i=0;i<this.dataSourcedanhsachThuoc.data.length;i++)!0===this.dataSourcedanhsachThuoc.data[i].CheckedDefault?-1!==this.viTri&&(this.dataSourcedanhsachThuoc.data[i].TLMG=0,this.dataSourcedanhsachThuoc.data[i].SoTienMG=0,this.dataSourcedanhsachThuoc.data[i].BNConPhaiThanhToan=this.dataSourcedanhsachThuoc.data[i].SoLuongMua*this.dataSourcedanhsachThuoc.data[i].DonGia-this.dataSourcedanhsachThuoc.data[i].SoLuongMua*this.dataSourcedanhsachThuoc.data[i].DonGia*this.dataSourcedanhsachThuoc.data[i].TLMG/100,i===e&&(this.dataSourcedanhsachThuoc.data[i].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu=this.apDungCNAndMiemGiam?this.thongTinTam[this.viTri].SoTien-t:this.dataSourcedanhsachThuoc.data[i].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu),i!==e&&this.dataSourcedanhsachThuoc.data[i].DanhSachCongNoChoThus.length>0&&(this.dataSourcedanhsachThuoc.data[i].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu=l.CongNoChoThus[this.viTri].SoTienCongNoChoThu=this.apDungCNAndMiemGiam?this.tinhTienCongNo(this.dataSourcedanhsachThuoc.data[i].ThanhTien,l.CongNoChoThus[this.viTri].CongNoId,n):this.dataSourcedanhsachThuoc.data[i].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu,t+=this.dataSourcedanhsachThuoc.data[i].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu),this.dataSourcedanhsachThuoc.data[i].KiemTraTienSoTienItemDichVu=this.dataSourcedanhsachThuoc.data[i].BNConPhaiThanhToan<0):-1!==this.viTri&&(this.dataSourcedanhsachThuoc.data[i].DanhSachCongNoChoThus[this.viTri].SoTienCongNoChoThu=l.CongNoChoThus[this.viTri].SoTienCongNoChoThu=0);this.dataSourcedanhsachThuoc.data.forEach(n=>{let l=0;n.DanhSachCongNoChoThus.forEach(n=>{l+=n.SoTienCongNoChoThu});let e=this.tinhSoTienMiemGiam(n);return n.SoTienMG=e,n.BNConPhaiThanhToan=n.ThanhTien-l-n.SoTienMG})}this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0);let l=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=l&&l.length>0&&this.tinhTienChoPhuongThucThanhToan(l[0].KeyId),this.myDanhSachChuaThanhToan(),this.cdRef.detectChanges()}findLast(){for(let n=this.dataSourcedanhsachThuoc.data.length-1;n>=0;n--)if(!0===this.dataSourcedanhsachThuoc.data[n].CheckedDefault)return n;return-1}myDanhSachChuaThanhToan(){const n=[];this.dataSourcedanhsachThuoc.data.forEach(l=>{let e=0;if(l.CheckedDefault){l.SoTienMG=this.tinhSoTienMiemGiam(l),l.DanhSachCongNoChoThus.forEach(n=>{e+=n.SoTienCongNoChoThu});let t=this.tinhSoTienMiemGiam(l);l.SoTienMG=t,l.BNConPhaiThanhToan=l.ThanhTien-e-l.SoTienMG,n.push(l)}}),this.danhSachXemTruocBangKeThuocVaVatTu(n)}danhSachXemTruocBangKeThuocVaVatTu(n){this.danhSachChuaThanhToan.emit(n)}setSelectAll(){setTimeout((function(){jQuery("#selectAllCheckboxId").prop("checked")||jQuery("#selectAllCheckboxId").trigger("click")}),1e3)}chuyenDen(n){if(0===n.index){this.cdRef.detectChanges(),this.clearHinhThucThanhToan(),this.defeautSoTien(),this.setDefeautTienMat=[1],this.checkSeletedTienMat=!0,this.flagCheckSeletedTienMat=!0,this.GetThongTinDonThuoc(this.maYCTNId),this.getDanhSachBHTN();let n=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=n&&n.length>0&&this.tinhTienChoPhuongThucThanhToan(n[0].KeyId)}}onSelectChangeCheckbox(n,l){this.unCheckedBindSoTienMG(l),this.mySelection=[],n.target.checked?this.mySelectionInPage.push(l):this.mySelectionInPage.splice(this.mySelectionInPage.indexOf(l),1);var e=this.dataSourcedanhsachThuoc.data;const t=this.mySelectionInPage.length;this.mySelection=this.mySelection.concat(this.mySelectionInPage),this.selectAllState=0===t?"unchecked":t>0&&t<e.filter(n=>null==n.HideCheckbox||null!=n.HideCheckbox&&0==n.HideCheckbox).length?"indeterminate":"checked",this.extCheckboxSelection(this.mySelection)}onSelectDuocPham(n){null==n||null==n?this.themDuocPham.SoLuongTon=null:this.apiService.post("QuayThuoc/GetThongTinDuocPham?duocPhamId="+n.KeyId+"&LoaiDuocPhamHoacVatTu="+n.LoaiDuocPhamHoacVatTu).subscribe(n=>{let l=0;this.lstthongTinDonThuoc=n,this.lstDonThuocMoiThem.length>0&&this.lstDonThuocMoiThem.forEach(n=>{n.DuocPhamId===this.themDuocPham.DuocPhamId&&(l+=n.SoLuongMua)}),this.themDuocPham.SoLuongTon=n.reduce((n,l)=>n+l.SoLuongTon,0)-l},()=>{})}unCheckedBindSoTienMG(n){for(let l=0;l<this.dataSourcedanhsachThuoc.data.length;l++)!1===this.dataSourcedanhsachThuoc.data[l].CheckedDefault&&this.dataSourcedanhsachThuoc.data[l].Id===n&&(this.dataSourcedanhsachThuoc.data[l].SoTienMG=0,this.dataSourcedanhsachThuoc.data[l].BNConPhaiThanhToan=this.dataSourcedanhsachThuoc.data[l].ThanhTien-this.dataSourcedanhsachThuoc.data[l].TongCongNo);this.gridData=Object(el.e)(this.dataSourcedanhsachThuoc.data,this.state)}delete(n){null!=n&&null!=n&&this.dialog.open(al.a,{disableClose:!1,width:"500px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a thu\u1ed1c/v\u1eadt t\u01b0 n\xe0y kh\xf4ng ?"}}).afterClosed().subscribe(l=>{if("Yes"==l){this.notificationService.showSuccess("X\xf3a th\xe0nh c\xf4ng");let l=0,e=n.STT;for(let i=0;i<this.dataSourcedanhsachThuoc.data.length;i++)this.dataSourcedanhsachThuoc.data[i].STT===n.STT&&(l=i);this.dataSourcedanhsachThuoc.data[l].HighLightClass=null,this.deleteItem.push(this.dataSourcedanhsachThuoc.data[l]),void 0===this.lstthongTinDonThuoc&&(this.lstthongTinDonThuoc=[]),this.lstthongTinDonThuoc.push(this.dataSourcedanhsachThuoc.data[l]),this.dataSourcedanhsachThuoc.data.splice(l,1),this.lstDonThuocMoiThem=new Array;for(let n=0;n<l;n++)this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[n]);for(let n=l;n<this.dataSourcedanhsachThuoc.data.length;n++)this.dataSourcedanhsachThuoc.data[n].STT=e,this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[n]),e++;this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0);let t=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=t&&t.length>0&&this.tinhTienChoPhuongThucThanhToan(t[0].KeyId)}})}clearHinhThucThanhToan(){this.flagCheckSeletedTienMat=!1,this.flagCheckSeletedChuyenKhoan=!1,this.flagCheckSeletedPos=!1,this.flagCheckSeletedSoTienCongNo=!1,this.checkSeletedTienMat=!1,this.checkSeletedChuyenKhoan=!1,this.checkSeletedPos=!1,this.checkSeletedSoTienCongNo=!1}GetTenBenhNhan(n){this.apiService.post("QuayThuoc/GetTenBenhNhan?benhNhanId="+n).subscribe(n=>{this.thongtinDonThuoc.HoTenBenhNhan=n,this.GetThongTinDonThuoc(this.id)},()=>{})}onSelectAllChange(n){var l=this.dataSourcedanhsachThuoc.data;if(null==l&&(l=[]),this.mySelection=[],"checked"===n)this.mySelectionInPage=l.filter(n=>null==n.HideCheckbox||null!=n.HideCheckbox&&0==n.HideCheckbox).map(n=>n[this.keySelectBy]),this.mySelection=this.mySelection.concat(this.mySelectionInPage),this.selectAllState="checked";else{var e=l.filter(n=>null==n.HideCheckbox||null!=n.HideCheckbox&&0==n.HideCheckbox).map(n=>n[this.keySelectBy]);null!=e&&e.length>0&&e.forEach(n=>{this.mySelection.splice(this.mySelection.indexOf(n),1)}),this.mySelectionInPage=[],this.selectAllState="unchecked"}this.extCheckboxSelection(this.mySelection)}GetThongTinDonThuoc(n){this.apiService.post("QuayThuoc/GetDataDonThuoc?tiepNhanId="+n).subscribe(l=>{this.dataSourcedanhsachThuoc.data=l;let e=1;this.dataSourcedanhsachThuoc.data.forEach(n=>{n.STT=e,e++,n.KiemTraTienSoTienItemDichVu=!1}),this.myDanhSachChuaThanhToan(),this.getSoDuTaiKhoanBenhNhan(n),this.closedialog.close()},()=>{})}getSoDuTaiKhoanBenhNhan(n){this.apiService.get("ThuNgan/SoDuTaiKhoanBenhNhan/"+n).subscribe(n=>{null!=n&&(this.benhnhanThongTin.SoDuTaiKhoan=0,this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0),this.thongtinDonThuoc.TienMat=this.tongTien,this.thongtinDonThuoc.HinhThucThanhToan=[1],this.getDanhSachBHTN())})}getDanhSachBHTN(){this.apiService.get("QuayThuoc/GetListCongTyBaoHiemTuNhans?tiepNhanId="+this.maYCTNId).subscribe(n=>{if(n.length>0){const l=new $.f;for(let e=0;e<n.length;e++){const t=new $.d;t.ViTri=e,t.CongNoId=n[e].CongNoId,t.TenCongTy=n[e].TenCongTy,t.SoTienCongNoChoThu=0,l.CongNoChoThus.push(t)}for(let n=0;n<this.dataSourcedanhsachThuoc.data.length;n++)this.dataSourcedanhsachThuoc.data[n].DanhSachCongNoChoThus=[];this.danhSachCongNoChoThus=[];for(let n=0;n<this.dataSourcedanhsachThuoc.data.length;n++){for(let t=0;t<l.CongNoChoThus.length;t++){const e=new $.d;e.CongNoId=l.CongNoChoThus[t].CongNoId,e.SoTienCongNoChoThu=l.CongNoChoThus[t].SoTienCongNoChoThu,e.TenCongTy=l.CongNoChoThus[t].TenCongTy,e.ViTri=l.CongNoChoThus[t].ViTri,this.dataSourcedanhsachThuoc.data[n].DanhSachCongNoChoThus.push(e)}const e=this.itemTotalCongNo(this.dataSourcedanhsachThuoc.data[n].DanhSachCongNoChoThus);this.dataSourcedanhsachThuoc.data[n].BNConPhaiThanhToan=this.dataSourcedanhsachThuoc.data[n].ThanhTien-e-this.dataSourcedanhsachThuoc.data[n].SoTienMG}this.danhSachCongNoChoThus.push(l),this.danhSachCongNoChoThus[0].CongNoChoThus.forEach(n=>{const l=new $.e;l.CongTyCongNoId=n.CongNoId,l.SoTienCongNo=n.SoTienCongNoChoThu,this.thongtinDonThuoc.DanhSachCongNos.push(l)})}this.gridData=this.dataSourcedanhsachThuoc.data,this.setSelectAll()})}totalCongno(n){let l=0;return this.dataSourcedanhsachThuoc.data.forEach(e=>{void 0!==e.DanhSachCongNoChoThus[n]&&(l+=e.DanhSachCongNoChoThus[n].SoTienCongNoChoThu)}),l}GuiVaXuatThuocData(n){this.apiService.post("QuayThuoc/ThuTienVaXuatThuoc",n).subscribe(l=>{if(!1===l.ThanhCong){if(this.notificationService.showError(l.Error),null!=l.DanhSachDuocPhamVuotTonKho)for(let n=0;n<l.DanhSachDuocPhamVuotTonKho.length;n++)for(let e=0;e<this.dataSourcedanhsachThuoc.data.length;e++)l.DanhSachDuocPhamVuotTonKho[n].Stt===this.dataSourcedanhsachThuoc.data[e].STT&&(this.dataSourcedanhsachThuoc.data[e].HighLightClass="bg-row-lightpink",this.dataSourcedanhsachThuoc.data[e].SoLuongDung=l.DanhSachDuocPhamVuotTonKho[n].SoLuongTonKho)}else!0===l.ThanhCong&&(this.dataSourcedanhsachThuoc.data=[],this.lstDonThuocMoiThem=[],this.cdRef.detectChanges(),this.gridData=Object(el.e)(this.dataSourcedanhsachThuoc.data,this.state),this.dialog.open(ll.a,{disableClose:!0,width:"500px",data:{Model:l,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(l=>{"No answer"!==l.Response?(this.changeTab.emit(2),this.tongTien=0,this.getSoDuTaiKhoanBenhNhan(n.Id),this.thongtinDonThuoc.TienMat=0,this.thongtinDonThuoc.ChuyenKhoan=0,this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=0,this.XacNhanIn(l)):(this.changeTab.emit(2),this.getSoDuTaiKhoanBenhNhan(n.Id),this.tongTien=0,this.thongtinDonThuoc.TienMat=0,this.thongtinDonThuoc.ChuyenKhoan=0,this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=0)}))})}GuiData(n){this.apiService.post("QuayThuoc/ThemThanhToanDonThuoc",n).subscribe(l=>{if(!1===l.ThanhCong){if(this.notificationService.showError(l.Error),null!=l.DanhSachDuocPhamVuotTonKho)for(let n=0;n<l.DanhSachDuocPhamVuotTonKho.length;n++)for(let e=0;e<this.dataSourcedanhsachThuoc.data.length;e++)l.DanhSachDuocPhamVuotTonKho[n].Stt===this.dataSourcedanhsachThuoc.data[e].STT&&(this.dataSourcedanhsachThuoc.data[e].HighLightClass="bg-row-lightpink",this.dataSourcedanhsachThuoc.data[e].SoLuongDung=l.DanhSachDuocPhamVuotTonKho[n].SoLuongTonKho)}else!0===l.ThanhCong&&(this.dataSourcedanhsachThuoc.data=[],this.lstDonThuocMoiThem=[],this.cdRef.detectChanges(),this.gridData=Object(el.e)(this.dataSourcedanhsachThuoc.data,this.state),this.dialog.open(ll.a,{disableClose:!0,width:"500px",data:{Model:l,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(l=>{"No answer"!==l.Response?(this.changeTab.emit(2),this.tongTien=0,this.getSoDuTaiKhoanBenhNhan(n.Id),this.thongtinDonThuoc.TienMat=0,this.thongtinDonThuoc.ChuyenKhoan=0,this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=0,this.XacNhanIn(l)):(this.changeTab.emit(2),this.getSoDuTaiKhoanBenhNhan(n.Id),this.tongTien=0,this.thongtinDonThuoc.TienMat=0,this.thongtinDonThuoc.ChuyenKhoan=0,this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=0)}))})}XacNhanIn(n){this.showPopupLoadingIn(),n.Hosting=window.location.protocol+"//"+window.location.host,this.apiService.postExportPdf("QuayThuoc/XacNhanIn",n).subscribe(l=>{null!=l&&null!=l&&(0==n.InBangKe&&0==n.InPhieuThu?(this.notificationService.showError("Kh\xf4ng c\xf3 phi\u1ebfu in \u0111\u01b0\u1ee3c ch\u1ecdn."),this.closePopupLoadingData()):this.dialog.open(U.a,{disableClose:!0,width:"1000px",data:{Model:l}}).afterClosed().subscribe(()=>{this.closePopupLoadingData()}))},n=>{this.closePopupLoadingData(),this.validationErrors=n.ValidationErrors,"Validation Failed"!=n.Message&&this.notificationService.showError(n.Message)})}shareData(){this.thongtinDonThuoc.DanhSachDonThuocs=[...this.dataSourcedanhsachThuoc.data],this.thongtinDonThuoc.Id=this.id;for(let n=0;n<this.thongtinDonThuoc.DanhSachDonThuocs.length;n++)this.thongtinDonThuoc.DanhSachDonThuocs[n].HighLightClass=null,!1===this.thongtinDonThuoc.DanhSachDonThuocs[n].CheckedDefault&&(this.thongtinDonThuoc.DanhSachDonThuocs.splice(n,1),n=-1);return this.thongtinDonThuoc}kiemTraNhapSoTienTra(n){return this.tongTien!==n.ChuyenKhoan+n.POS+n.TienMat+n.SoTienCongNo}ThuTienVaXuatThuoc(){let n=!0;if(void 0!==this.validationErrors&&(this.validationThuThuocErrors=[]),this.cdRef.detectChanges(),0===this.setDefeautTienMat.length)return this.validationThuThuocErrors.push({Message:"Vui l\xf2ng ch\u1ecdn h\xecnh th\u1ee9c thanh to\xe1n.",Field:"HinhThucThanhToan"}),!0;0===this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault).length&&(this.notificationService.showError("Ng\u01b0\u1eddi b\u1ec7nh n\xe0y kh\xf4ng c\xf3 thu\u1ed1c n\xe0o \u0111\u1ec3 thanh to\xe1n"),n=!1),0!==this.thongtinDonThuoc.HinhThucThanhToan.length&&this.kiemTraNhapSoTienTra(this.thongtinDonThuoc)&&(this.notificationService.showError("S\u1ed1 ti\u1ec1n nh\u1eadp kh\xf4ng \u0111\xfang."),n=!1),0!=this.dataSourcedanhsachThuoc.length&&this.dataSourcedanhsachThuoc.data.forEach(l=>{!0===l.KiemTraTienSoTienItemDichVu&&(this.notificationService.showError("Thanh to\xe1n kh\xf4ng h\u1ee3p l\u1ec7"),n=!1)}),this.thongtinDonThuoc.TongTien=this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo,null==this.thongtinDonThuoc.Id&&(this.thongtinDonThuoc.Id=this.id),this.thongtinDonThuoc.DanhSachDonThuocs=this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault),this.apiService.post("QuayThuoc/CheckValidationForQuayThuoc",this.thongtinDonThuoc).subscribe(()=>{!0===n&&(null!=this.confirm&&(this.confirm=null),this.confirm=this.dialog.open(al.a,{disableClose:!0,width:"700px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n thu c\u1ee7a ng\u01b0\u1eddi b\u1ec7nh "+this.benhnhanThongTin.HoTen.bold()+" v\u1edbi s\u1ed1 ti\u1ec1n l\xe0 "+this.tongTien.toLocaleString("vi-VI").bold()+" \u0111\u1ed3ng hay kh\xf4ng?"}}).afterClosed().subscribe(n=>{"Yes"===n&&(this.GuiVaXuatThuocData(this.thongtinDonThuoc),this.setDefeautTienMat=[1],this.checkSeletedTienMat=!0,this.defeautSoTien())}))},n=>{this.validationThuThuocErrors=n.ValidationErrors})}ThuTien(){let n=!0;if(void 0!==this.validationErrors&&(this.validationThuThuocErrors=[]),this.cdRef.detectChanges(),0===this.setDefeautTienMat.length)return this.validationThuThuocErrors.push({Message:"Vui l\xf2ng ch\u1ecdn h\xecnh th\u1ee9c thanh to\xe1n.",Field:"HinhThucThanhToan"}),!0;0===this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault).length&&(this.notificationService.showError("Ng\u01b0\u1eddi b\u1ec7nh n\xe0y kh\xf4ng c\xf3 thu\u1ed1c n\xe0o \u0111\u1ec3 thanh to\xe1n"),n=!1),0!==this.thongtinDonThuoc.HinhThucThanhToan.length&&this.kiemTraNhapSoTienTra(this.thongtinDonThuoc)&&(this.notificationService.showError("S\u1ed1 ti\u1ec1n nh\u1eadp kh\xf4ng \u0111\xfang."),n=!1),0!=this.dataSourcedanhsachThuoc.length&&this.dataSourcedanhsachThuoc.data.forEach(l=>{!0===l.KiemTraTienSoTienItemDichVu&&(this.notificationService.showError("Thanh to\xe1n kh\xf4ng h\u1ee3p l\u1ec7"),n=!1)}),this.thongtinDonThuoc.TongTien=this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo,null==this.thongtinDonThuoc.Id&&(this.thongtinDonThuoc.Id=this.id),console.log("thongtindonthuoc",this.thongtinDonThuoc),this.thongtinDonThuoc.DanhSachDonThuocs=this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault),this.apiService.post("QuayThuoc/CheckValidationForQuayThuoc",this.thongtinDonThuoc).subscribe(()=>{!0===n&&(null!=this.confirm&&(this.confirm=null),this.confirm=this.dialog.open(al.a,{disableClose:!0,width:"700px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n thu c\u1ee7a ng\u01b0\u1eddi b\u1ec7nh "+this.benhnhanThongTin.HoTen.bold()+" v\u1edbi s\u1ed1 ti\u1ec1n l\xe0 "+this.tongTien.toLocaleString("vi-VI").bold()+" \u0111\u1ed3ng hay kh\xf4ng?"}}).afterClosed().subscribe(n=>{"Yes"===n&&(this.GuiData(this.thongtinDonThuoc),this.setDefeautTienMat=[1],this.checkSeletedTienMat=!0,this.defeautSoTien())}))},n=>{this.validationThuThuocErrors=n.ValidationErrors})}extCheckboxSelection(n){if(this.dataSourcedanhsachThuoc.data.forEach(n=>{n.CheckedDefault=!1}),n.length>0)for(let l=0;l<n.length;l++)this.dataSourcedanhsachThuoc.data.forEach(e=>{let t=this.tinhSoTienMiemGiam(e);e.SoTienMG=t;let i=this.soTienCongNoChoTungDichVu(e);if(e.BNConPhaiThanhToan>=e.SoTienMG&&(e.BNConPhaiThanhToan=e.DonGia*e.SoLuongMua-i-e.SoTienMG),e.Id===n[l])return e.CheckedDefault=!0});this.tongTien=Math.round(this.dataSourcedanhsachThuoc.data.filter(n=>n.CheckedDefault).reduce((n,l)=>n+l.BNConPhaiThanhToan,0)),this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=0,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0),this.clearHinhThucThanhToan(),this.defeautSoTien(),this.setDefeautTienMat=[1],this.checkSeletedTienMat=!0,this.flagCheckSeletedTienMat=!0,this.thongtinDonThuoc.TienMat=this.tongTien,this.resetGiaTienCongNo(),this.myDanhSachChuaThanhToan()}resetGiaTienCongNo(){this.dataSourcedanhsachThuoc.data.forEach(n=>{!0!==n.CheckedDefault&&null!=n.DanhSachCongNoChoThus&&0!==n.DanhSachCongNoChoThus.length&&n.DanhSachCongNoChoThus.forEach(n=>{n.SoTienCongNoChoThu=0})})}themThuoc(){if(this.validationErrors=[],this.cdRef.detectChanges(),null==this.themDuocPham.DuocPhamId&&this.validationErrors.push({Message:"D\u01b0\u1ee3c ph\u1ea9m y\xeau c\u1ea7u nh\u1eadp",Field:"DuocPhamId"}),null!=this.themDuocPham.SoLuong&&0!==this.themDuocPham.SoLuong||this.validationErrors.push({Message:"S\u1ed1 l\u01b0\u1ee3ng y\xeau c\u1ea7u nh\u1eadp",Field:"SoLuong"}),this.themDuocPham.SoLuongTon<this.themDuocPham.SoLuong&&this.validationErrors.push({Message:"S\u1ed1 l\u01b0\u1ee3ng ph\u1ea3i nh\u1ecf h\u01a1n t\u1ed3n kho",Field:"SoLuong"}),this.validationErrors.length>0)return;let n=0;if(this.lstDonThuocMoiThem.length>0&&this.lstDonThuocMoiThem.forEach(l=>{l.DuocPhamId===this.themDuocPham.DuocPhamId&&(n+=l.SoLuongMua)}),this.themDuocPham.SoLuongTon>=this.themDuocPham.SoLuong){let l=1,e=1;this.dataSourcedanhsachThuoc.data.length>0&&(l=this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length-1].STT+1,e=this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length-1].Id+1);let t=this.themDuocPham.SoLuong,i=this.lstthongTinDonThuoc;if(null!=this.lstDonThuocMoiThem||null!=this.lstDonThuocMoiThem)for(let n=0;n<this.lstDonThuocMoiThem.length;n++)for(let l=0;l<this.lstthongTinDonThuoc.length;l++)this.lstDonThuocMoiThem[n].Solo==this.lstthongTinDonThuoc[l].Solo&&(this.lstthongTinDonThuoc[l].SoLuongTon=this.lstthongTinDonThuoc[l].SoLuongTon-this.lstDonThuocMoiThem[n].SoLuongMua,i=this.lstthongTinDonThuoc);let a=new $.g,o=new $.g,u=new Array;a.DoiTuongUuDai=null,a.DoiTuongUuDaiId=null,a.LoaiChietKhau=1,a.LoaiMienGiam=3,a.MaTheVoucher=null,a.SoTien=0,a.TheVoucherId=null,a.TiLe=0,u.push(a),o.DoiTuongUuDai=null,o.DoiTuongUuDaiId=null,o.LoaiChietKhau=2,o.LoaiMienGiam=3,o.MaTheVoucher=null,o.SoTien=0,o.TheVoucherId=null,o.TiLe=0,u.push(o);for(let n=0;n<i.length;n++)if(i[n].SoLuongTon>0){if(0===t)break;{let i=new $.s;if(t<=this.lstthongTinDonThuoc[n].SoLuongTon){if((i=Object.assign({},this.lstthongTinDonThuoc[n])).SoLuongMua=t,i.STT=l,i.Id=e,i.CheckedDefault=!0,i.isNew=!0,i.BacSiKeToa="Nh\xe0 Thu\u1ed1c",i.ThanhTien=i.SoLuongMua*i.DonGia,i.BNConPhaiThanhToan=i.ThanhTien,i.ThanhTienHienThi=Math.round(i.ThanhTien),i.DonGiaHienThi=Math.round(i.DonGia),i.BNConPhaiThanhToanHienThi=Math.round(i.ThanhTien),i.DanhSachCongNoChoThus=[],i.DanhSachMienGiamVos=u,this.danhSachCongNoChoThus.length>0&&(0!==this.danhSachCongNoChoThus[0].CongNoChoThus.length||null==this.danhSachCongNoChoThus||void 0===this.danhSachCongNoChoThus))for(let n=0;n<this.danhSachCongNoChoThus[0].CongNoChoThus.length;n++){const l=new $.d;l.ViTri=n,l.CongNoId=this.danhSachCongNoChoThus[0].CongNoChoThus[n].CongNoId,l.TenCongTy=this.danhSachCongNoChoThus[0].CongNoChoThus[n].TenCongTy,l.SoTienCongNoChoThu=0,i.DanhSachCongNoChoThus.push(l)}this.lstDonThuocMoiThem.push(i),this.mySelectionInPage.push(e),this.mySelection=this.mySelection.concat(this.mySelectionInPage),this.lstthongTinDonThuoc[n].SoLuongTon=this.lstthongTinDonThuoc[n].SoLuongTon-t,this.dataSourcedanhsachThuoc.data.push(i),this.duocPhamCombobox.focusManual(),t=0}else{if((i=Object.assign({},this.lstthongTinDonThuoc[n])).SoLuongMua=this.lstthongTinDonThuoc[n].SoLuongTon,i.ThanhTien=i.SoLuongMua*i.DonGia,i.BNConPhaiThanhToan=Math.round(i.ThanhTien),i.ThanhTienHienThi=Math.round(i.ThanhTien),i.DonGiaHienThi=Math.round(i.DonGia),i.BNConPhaiThanhToanHienThi=Math.round(i.ThanhTien),i.STT=l,i.Id=e,i.isNew=!0,i.CheckedDefault=!0,i.BacSiKeToa="Nh\xe0 Thu\u1ed1c",t-=this.lstthongTinDonThuoc[n].SoLuongTon,i.DanhSachCongNoChoThus=[],i.DanhSachMienGiamVos=u,this.danhSachCongNoChoThus.length>0&&(0!==this.danhSachCongNoChoThus[0].CongNoChoThus.length||null==this.danhSachCongNoChoThus||void 0===this.danhSachCongNoChoThus))for(let n=0;n<this.danhSachCongNoChoThus[0].CongNoChoThus.length;n++){const l=new $.d;l.ViTri=n,l.CongNoId=this.danhSachCongNoChoThus[0].CongNoChoThus[n].CongNoId,l.TenCongTy=this.danhSachCongNoChoThus[0].CongNoChoThus[n].TenCongTy,l.SoTienCongNoChoThu=0,i.DanhSachCongNoChoThus.push(l)}this.lstDonThuocMoiThem.push(i),this.mySelectionInPage.push(e),this.mySelection=this.mySelection.concat(this.mySelectionInPage),this.dataSourcedanhsachThuoc.data.push(i),this.duocPhamCombobox.focusManual(),this.lstthongTinDonThuoc.splice(n,1),n=-1}e++,l++}}this.lstDonThuocMoiThem.length>0&&this.lstDonThuocMoiThem.forEach(l=>{l.DuocPhamId===this.themDuocPham.DuocPhamId&&(n+=l.SoLuongMua)}),this.themDuocPham.SoLuongTon=this.themDuocPham.SoLuongTon-this.themDuocPham.SoLuong,this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0);let h=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=h&&h.length>0&&this.tinhTienChoPhuongThucThanhToan(h[0].KeyId),this.themDuocPham=new $.p}else this.notificationService.showError("S\u1ed1 l\u01b0\u1ee3ng b\u1ea1n nh\u1eadp l\u1edbn h\u01a1n s\u1ed1 l\u01b0\u1ee3ng t\u1ed3n");this.gridData=this.dataSourcedanhsachThuoc.data,this.setSelectAll(),this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data)}modelChangeSoLuongMua(n,l){for(let t=0;t<this.dataSourcedanhsachThuoc.data.length;t++)if(!0===this.dataSourcedanhsachThuoc.data[t].CheckedDefault&&this.dataSourcedanhsachThuoc.data[t].Id===l.Id){this.dataSourcedanhsachThuoc.data[t].SoLuongMua=n;let l=this.tinhSoTienMiemGiam(this.dataSourcedanhsachThuoc.data[t]);if(this.dataSourcedanhsachThuoc.data[t].SoTienMG=l,this.dataSourcedanhsachThuoc.data[t].ThanhTien=n*this.dataSourcedanhsachThuoc.data[t].DonGia,this.changeInputSoTienMGBindGrid(this.dataSourcedanhsachThuoc.data[t]),null!=this.dataSourcedanhsachThuoc.data[t].DanhSachCongNoChoThus&&this.dataSourcedanhsachThuoc.data[t].DanhSachCongNoChoThus.length>0)for(let n=0;n<this.dataSourcedanhsachThuoc.data[t].DanhSachCongNoChoThus.length;n++)this.dataSourcedanhsachThuoc.data[t].DanhSachCongNoChoThus[n].SoTienCongNoChoThu=0,this.dataSourcedanhsachThuoc.data[t].KiemTraTienSoTienItemDichVu=this.dataSourcedanhsachThuoc.data[t].BNConPhaiThanhToan<0}this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0);let e=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=e&&e.length>0&&this.tinhTienChoPhuongThucThanhToan(e[0].KeyId)}modelChangeSoTienMg(n,l){l.SoTienMG=n,this.changeInputSoTienMgBindGrid(l),this.myDanhSachChuaThanhToan()}changeInputSoTienMgBindGrid(n){const l=this.itemTotalCongNo(n.DanhSachCongNoChoThus);for(let t=0;t<this.dataSourcedanhsachThuoc.data.length;t++)!0===this.dataSourcedanhsachThuoc.data[t].CheckedDefault&&this.dataSourcedanhsachThuoc.data[t].Id===n.Id&&(this.dataSourcedanhsachThuoc.data[t].BNConPhaiThanhToan=this.dataSourcedanhsachThuoc.data[t].ThanhTien-l-n.SoTienMG,this.dataSourcedanhsachThuoc.data[t].KiemTraTienSoTienItemDichVu=this.dataSourcedanhsachThuoc.data[t].BNConPhaiThanhToan<0);this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0);let e=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=e&&e.length>0&&this.tinhTienChoPhuongThucThanhToan(e[0].KeyId)}getThongTinMienGiam(n){this.apiService.get("ThuNgan/GetThongTinMienGiam?yeuCauTiepNhanId="+n).subscribe(n=>{null!=n&&(this.thongTinMienGiamVos=n,this.bindChiaPhanTramDoiTuongUuDai(),!0===this.apDungMienGiam&&this.notificationService.showSuccess("\xc1p d\u1ee5ng mi\u1ec5n gi\u1ea3m th\xe0nh c\xf4ng."),this.afterChangedMg.emit())}),this.cdRef.detectChanges()}modelChangeCongNo(n,l,e){l.DanhSachCongNoChoThus[e].SoTienCongNoChoThu=n,l.SoTienMG=0,this.changeInputCongNoBindGrid(l),this.myDanhSachChuaThanhToan()}changeInputCongNoBindGrid(n){const l=this.itemTotalCongNo(n.DanhSachCongNoChoThus);for(let t=0;t<this.dataSourcedanhsachThuoc.data.length;t++)!0===this.dataSourcedanhsachThuoc.data[t].CheckedDefault&&this.dataSourcedanhsachThuoc.data[t].Id===n.Id&&(this.dataSourcedanhsachThuoc.data[t].SoTienMG=this.tinhSoTienMiemGiam(this.dataSourcedanhsachThuoc.data[t]),this.dataSourcedanhsachThuoc.data[t].BNConPhaiThanhToan=this.dataSourcedanhsachThuoc.data[t].ThanhTien-l-this.dataSourcedanhsachThuoc.data[t].SoTienMG,this.dataSourcedanhsachThuoc.data[t].KiemTraTienSoTienItemDichVu=this.dataSourcedanhsachThuoc.data[t].BNConPhaiThanhToan<0);this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0);let e=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=e&&e.length>0&&this.tinhTienChoPhuongThucThanhToan(e[0].KeyId)}modelChangePos(n,l){this.selectMoneyTienPos=[this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.SoTienCongNo===0?this.tongTien:this.tongTien-(this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.SoTienCongNo),0],this.thongtinDonThuoc.POS=n,this.onValueChange(n,l)}modelChangeChuyenKhoan(n,l){this.selectMoneyTienChuyenKhoan=[this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo!==0?this.tongTien:this.tongTien-(this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo),0],this.thongtinDonThuoc.ChuyenKhoan=n,this.onValueChange(n,l)}modelChangeTienMat(n,l){this.selectMoneyTienMat=[this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo===0?this.tongTien:this.tongTien-(this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo),0],this.thongtinDonThuoc.TienTraLai=this.thongtinDonThuoc.BenhNhanDua-this.thongtinDonThuoc.TienMat,this.thongtinDonThuoc.TienTraLai<0&&(this.thongtinDonThuoc.TienTraLai=0),this.thongtinDonThuoc.TienMat=n,this.onValueChange(n,l)}modelChangeSoTienCongNo(n,l){this.selectMoneySoTienCongNo=[this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.TienMat===0?this.tongTien:this.tongTien-(this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.TienMat),0],this.thongtinDonThuoc.SoTienCongNo=n,this.onValueChange(n,l)}modelChangeTienBNDua(n){this.selectMoneyTienBNDua=[this.tongTien,1e8],this.thongtinDonThuoc.TienTraLai=n-this.thongtinDonThuoc.TienMat,this.thongtinDonThuoc.TienTraLai<0&&(this.thongtinDonThuoc.TienTraLai=0)}onChangeBenhNhanDua(){this.thongtinDonThuoc.TienTraLai=this.thongtinDonThuoc.BenhNhanDua-this.thongtinDonThuoc.TienMat,this.thongtinDonThuoc.TienTraLai<0&&(this.thongtinDonThuoc.TienTraLai=0)}defeautSoTien(){this.thongtinDonThuoc.TienMat=0,this.thongtinDonThuoc.POS=0,this.thongtinDonThuoc.SoTienCongNo=0,this.thongtinDonThuoc.ChuyenKhoan=0,this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=0}tinhTienChoPhuongThucThanhToan(n){switch(n){case 1:this.thongtinDonThuoc.TienMat=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo,this.thongtinDonThuoc.TienMat<0&&(this.thongtinDonThuoc.TienMat=0);break;case 2:this.thongtinDonThuoc.ChuyenKhoan=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo,this.thongtinDonThuoc.ChuyenKhoan<0&&(this.thongtinDonThuoc.ChuyenKhoan=0);break;case 3:this.thongtinDonThuoc.POS=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.SoTienCongNo,this.thongtinDonThuoc.POS<0&&(this.thongtinDonThuoc.POS=0);break;case 4:this.thongtinDonThuoc.SoTienCongNo=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS,this.thongtinDonThuoc.SoTienCongNo<0&&(this.thongtinDonThuoc.SoTienCongNo=0)}}ChangeHinhThucThanhToan(n){this.clearHinhThucThanhToan(),this.defeautSoTien(),this.showCanhBaoSoTienNhap=!1;var l=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=l&&1===l.length&&this.tinhTienChoPhuongThucThanhToan(l[0].KeyId),n.forEach(n=>{switch(n){case 1:this.flagCheckSeletedTienMat=!0;break;case 2:this.flagCheckSeletedChuyenKhoan=!0;break;case 3:this.flagCheckSeletedPos=!0;break;case 4:this.flagCheckSeletedSoTienCongNo=!0}}),this.hinhThucThanhToan.forEach(n=>{n.Change=!1}),this.hinhThucThanhToan.forEach(l=>{if(n.filter(n=>n==l.KeyId).length>0){if(l.Selected=!0,1==n.length)switch(l.KeyId){case 1:this.thongtinDonThuoc.TienMat=this.tongTien;break;case 2:this.thongtinDonThuoc.ChuyenKhoan=this.tongTien;break;case 3:this.thongtinDonThuoc.POS=this.tongTien;break;case 4:this.thongtinDonThuoc.SoTienCongNo=this.tongTien}}else l.Selected=!1}),this.cdRef.detectChanges()}onValueChange(n,l){this.thongtinDonThuoc.TienTraLai<0&&(this.thongtinDonThuoc.TienTraLai=0),this.hinhThucThanhToan.forEach(n=>{n.KeyId==l&&(n.Change=!0)});var e=this.hinhThucThanhToan.filter(n=>1==n.Selected&&0==n.Change);if(1==e.length)this.changeSoTien(e[0].KeyId);else if(0==e.length&&2==this.hinhThucThanhToan.filter(n=>1==n.Selected).length){var t=this.hinhThucThanhToan.filter(n=>1==n.Selected&&n.KeyId!=l);this.changeSoTien(t[0].KeyId)}this.showCanhBaoSoTienNhap=this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo!=this.tongTien,this.changeTienTraLaiBenhNhan()}changeSoTien(n){switch(n){case 1:this.thongtinDonThuoc.TienMat=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo<0?0:this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo;break;case 2:this.thongtinDonThuoc.ChuyenKhoan=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo<0?0:this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo;break;case 3:this.thongtinDonThuoc.POS=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.SoTienCongNo<0?0:this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.SoTienCongNo;break;case 4:this.thongtinDonThuoc.SoTienCongNo=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS<0?0:this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS}}changeTienTraLaiBenhNhan(){this.thongtinDonThuoc.TienTraLai=this.thongtinDonThuoc.BenhNhanDua>this.thongtinDonThuoc.TienMat?this.thongtinDonThuoc.BenhNhanDua-this.thongtinDonThuoc.TienMat:0}onKeyEnterAddItem(n){"Enter"!=n.key||this.isSelectingItem||(1!=this.isSelectingItem?this.themThuoc():this.isSelectingItem=!1)}openCombobox(n){this.isSelectingItem=!!n}onKey(n){"Enter"!=n.key||this.isSelectingItem||(1!=this.isSelectingItem?this.themThuoc():this.isSelectingItem=!1)}apDungMiemGiamThem(){let n=new $.a;null!=this.confrim&&(this.dialog.closeAll(),this.confrim=null),this.confrim=this.dialog.open(hl.a,{disableClose:!0,width:"500px",data:{dataMGT:n}}).afterClosed().subscribe(n=>{if(null!=n){this.dataSourcedanhsachThuoc.data.forEach(l=>{if(l.GhiChuMienGiamThem=n.GhiChu,l.DanhSachMienGiamVos=new Array,null!=n.TiLe&&null!=n.TiLe){let e=new $.g;e.LoaiMienGiam=this.loaiMienGiam.MienGiamThem,e.LoaiChietKhau=this.loaiChietKhau.ChietKhauTheoTiLe,e.TiLe=n.TiLe,l.DanhSachMienGiamVos.push(e)}if(null!=n.SoTien&&null!=n.SoTien){let e=new $.g;e.LoaiMienGiam=this.loaiMienGiam.MienGiamThem,e.LoaiChietKhau=this.loaiChietKhau.ChietKhauTheoSoTien,e.SoTien=n.SoTien,e.SoTienMiemGiamTatCa=n.SoTien,l.DanhSachMienGiamVos.push(e)}}),console.log(n),this.dataSourcedanhsachThuoc.data.forEach(n=>{n.SoTienMG=this.tinhSoTienMiemGiam(n),n.SoTienMG>n.BNConPhaiThanhToan&&this.notificationService.showSuccess("S\u1ed1 ti\u1ec1n \xe1p d\u1ee5ng l\u1edbn h\u01a1n s\u1ed1 ti\u1ec1n c\u1ea7n thanh to\xe1n.");let l=this.soTienCongNoChoTungDichVu(n);n.BNConPhaiThanhToan>=n.SoTienMG&&(n.BNConPhaiThanhToan=n.DonGia*n.SoLuongMua-l-n.SoTienMG)}),this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0);let l=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=l&&l.length>0&&this.tinhTienChoPhuongThucThanhToan(l[0].KeyId),this.notificationService.showSuccess("\xc1p d\u1ee5ng mi\u1ec5n gi\u1ea3m th\xe0nh c\xf4ng.")}})}tinhSoTienMiemGiam(n){let l=0;var e=100;let t=n.DonGia*n.SoLuongMua-this.soTienCongNoChoTungDichVu(n);var i=t;if(t>0){var a=n.DanhSachMienGiamVos.filter(n=>1==n.LoaiChietKhau&&0!=n.TiLe),o=n.DanhSachMienGiamVos.filter(n=>2==n.LoaiChietKhau&&0!=n.SoTien);null!=a&&a.length>0&&(a=cl.sortBy(a,"LoaiMienGiam")).forEach(n=>{n.TiLe=e>0?n.TiLe>e?e:n.TiLe:0,n.TongTienMiemGiam=n.TiLe*t/100,l+=n.TongTienMiemGiam,n.TiLe>=e?e=0:e-=n.TiLe}),e>0&&null!=o&&o.length>0?(i=0!=(e=null!=a&&a.length>0?e:0)?(n.ThanhTien-this.soTienCongNoChoTungDichVu(n))*e/100:n.ThanhTien-this.soTienCongNoChoTungDichVu(n),(o=cl.sortBy(o,"LoaiMienGiam")).forEach(n=>{n.SoTien=i>0?n.SoTien>i?i:n.SoTien:0,n.TongTienMiemGiam=n.SoTien,l+=n.TongTienMiemGiam,n.SoTien>=i?i=0:i-=n.SoTien})):(o=cl.sortBy(o,"LoaiMienGiam")).forEach(n=>{n.SoTien=0})}return l<0?0:l}soTienCongNoChoTungDichVu(n){let l=0;return null!=n.DanhSachCongNoChoThus&&n.DanhSachCongNoChoThus.forEach(n=>{l+=n.SoTienCongNoChoThu}),l}apDungMiemGiamChoTungDichVu(n){null!=this.confrim&&(this.dialog.closeAll(),this.confrim=null),this.confrim=this.dialog.open(dl.a,{disableClose:!0,width:"500px",data:{dataItem:n,isView:!0}}).afterClosed().subscribe(n=>{null!=n&&(n.apdungMGTThanhCong?(this.dataSourcedanhsachThuoc.data.forEach(l=>{l.Id===n.Id&&(l.GhiChuMienGiamThem=n.GhiChuMienGiamThem,l.SoTienMG=this.tinhSoTienMiemGiam(l),this.modelChangeSoTienMG(l))}),console.log("data",this.dataSourcedanhsachThuoc.data),this.notificationService.showSuccess("\xc1p d\u1ee5ng mi\u1ec5n gi\u1ea3m th\xe0nh c\xf4ng.")):this.dataSourcedanhsachThuoc.data.forEach(l=>{l.Id===n.Id&&null!=l.DanhSachMienGiamVos&&l.DanhSachMienGiamVos.forEach(l=>{n.DanhSachMienGiamVos.forEach(n=>{n.LoaiMienGiam===l.LoaiMienGiam&&1===n.LoaiChietKhau&&(l.TiLe=n.TiLe,l.TongTienMiemGiam=0,l.DaSuDung=!1),n.LoaiMienGiam===l.LoaiMienGiam&&2===n.LoaiChietKhau&&(l.SoTien=n.SoTien,l.TongTienMiemGiam=0,l.DaSuDung=!1)})})}))})}modelChangeSoTienMG(n){this.changeInputSoTienMGBindGrid(n),this.myDanhSachChuaThanhToan()}changeInputSoTienMGBindGrid(n){for(let e=0;e<this.dataSourcedanhsachThuoc.data.length;e++){let l=this.itemTotalCongNo(n.DanhSachCongNoChoThus);!0===this.dataSourcedanhsachThuoc.data[e].CheckedDefault&&this.dataSourcedanhsachThuoc.data[e].Id===n.Id&&(n.BNConPhaiThanhToan=n.ThanhTien-l-n.SoTienMG,this.dataSourcedanhsachThuoc.data[e].KiemTraTienSoTienItemDichVu=this.dataSourcedanhsachThuoc.data[e].BNConPhaiThanhToan<0)}this.gridData=Object(el.e)(this.dataSourcedanhsachThuoc.data,this.state),this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.benhnhanThongTin.SoDuTaiKhoan>0&&(this.tongTien>this.benhnhanThongTin.SoDuTaiKhoan?this.tongTien-=this.benhnhanThongTin.SoDuTaiKhoan:this.tongTien=0);let l=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=l&&l.length>0&&this.tinhTienChoPhuongThucThanhToan(l[0].KeyId)}nguoiBenhKhongMuaThuoc(){var n=this;const l=this.route.snapshot.params.id;if(this.dataSourcedanhsachThuoc.data.length>0){var e=new $.m;e.YeuCauTiepNhanId=l,n.authService.hasPermission(n.documentType,sl.a.Delete)?n.dialog.open(al.a,{disableClose:!1,width:"400px",data:{Title:"X\xe1c nh\u1eadn",Message:"Ng\u01b0\u01a1\u0300i b\xea\u0323nh kh\xf4ng mu\xf4\u0301n mua thu\xf4\u0301c na\u0300y?"}}).afterClosed().subscribe(l=>{"Yes"==l&&n.apiService.post("QuayThuoc/NguoiBenhKhongMuaDonThuoc",e).subscribe(()=>{n.notificationService.showSuccess(rl.a.format(Tl.B.ActionSuccessfully,["X\xf3a"])),this.router.navigate(["nha-thuoc"])},l=>{n.validationErrors=l.ValidationErrors,"Validation Failed"!=l.Message&&n.notificationService.showError(l.Message)})}):n.notificationService.showError(Tl.B.UnAuthorizedMessage)}}showPopupLoadingIn(){this.dialog.open(X.a,{disableClose:!0,width:"250px",height:"90px",data:{Title:"\u0110ang loading..."}})}closePopupLoadingData(){this.dialog.closeAll()}}var ml=t["\u0275crt"]({encapsulation:0,styles:[["#SoLuongTon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;color:green}.color-red[_ngcontent-%COMP%]{color:red}.reverse-ellipsis.r[_ngcontent-%COMP%]{text-align:right;direction:inherit}.mat-icon[_ngcontent-%COMP%]{font-size:16px!important}"]],data:{}});function pl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"span",[["style","float: left;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"strong",[["style","font-size: 14px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["S\u1ed1 ti\u1ec1n c\xe2\u0300n thu cu\u0309a b\xea\u0323nh nh\xe2n: "])),(n()(),t["\u0275eld"](3,0,null,null,2,"strong",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),t["\u0275ppd"](5,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,4,0,n(l,5,0,t["\u0275nov"](l.parent,0),e.tongTien,"0.2-2","vi-VN"));n(l,4,0,i)}))}function fl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"span",[["style","float: left;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"strong",[["style","font-size: 14px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["S\u1ed1 ti\u1ec1n c\xe2\u0300n thu cu\u0309a b\xea\u0323nh nh\xe2n: "])),(n()(),t["\u0275eld"](3,0,null,null,2,"strong",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),t["\u0275ppd"](5,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,4,0,n(l,5,0,t["\u0275nov"](l.parent,0),e.tongTien,"0.2-2","vi-VN"));n(l,4,0,i)}))}function Cl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","so-tien"],["label","Ti\u1ec1n m\u1eb7t"],["min","0"]],[[4,"display",null]],[[null,"modelChange"],[null,"selectMoneyChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.TienMat=e)&&t),"selectMoneyChange"===l&&(t=!1!==(i.selectMoneyTienMat=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeTienMat(e,1)&&t),t}),g.b,g.a)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,m.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],min:[4,"min"],step:[5,"step"],selectMoney:[6,"selectMoney"],isFormatCurrenly:[7,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,I.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"so-tien","Ti\u1ec1n m\u1eb7t",e.thongtinDonThuoc.TienMat,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("TienMat",e.validationThuThuocErrors)),"0",100,e.selectMoneyTienMat,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function xl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","chuyen-khoan"],["label","Chuy\u1ec3n kho\u1ea3n"]],[[4,"display",null]],[[null,"modelChange"],[null,"selectMoneyChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.ChuyenKhoan=e)&&t),"selectMoneyChange"===l&&(t=!1!==(i.selectMoneyTienChuyenKhoan=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeChuyenKhoan(e,2)&&t),t}),g.b,g.a)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,m.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],step:[4,"step"],selectMoney:[5,"selectMoney"],isFormatCurrenly:[6,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,I.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"chuyen-khoan","Chuy\u1ec3n kho\u1ea3n",e.thongtinDonThuoc.ChuyenKhoan,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("ChuyenKhoan",e.validationThuThuocErrors)),100,e.selectMoneyTienChuyenKhoan,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function Sl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","pos"],["label","POS"]],[[4,"display",null]],[[null,"selectMoneyChange"],[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"selectMoneyChange"===l&&(t=!1!==(i.selectMoneyTienPos=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangePos(e,3)&&t),"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.POS=e)&&t),t}),g.b,g.a)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,m.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],step:[4,"step"],selectMoney:[5,"selectMoney"],isFormatCurrenly:[6,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,I.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"pos","POS",e.thongtinDonThuoc.POS,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("POS",e.validationThuThuocErrors)),100,e.selectMoneyTienPos,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function bl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","pos"],["label","C\xf4ng n\u1ee3"]],[[4,"display",null]],[[null,"selectMoneyChange"],[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"selectMoneyChange"===l&&(t=!1!==(i.selectMoneySoTienCongNo=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeSoTienCongNo(e,4)&&t),"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.SoTienCongNo=e)&&t),t}),g.b,g.a)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,m.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],step:[4,"step"],selectMoney:[5,"selectMoney"],isFormatCurrenly:[6,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,I.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"pos","C\xf4ng n\u1ee3",e.thongtinDonThuoc.SoTienCongNo,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("SoTienCongNo",e.validationThuThuocErrors)),100,e.selectMoneySoTienCongNo,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function yl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","color-red"],["style","margin-top:-20px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["S\u1ed1 ti\u1ec1n nh\u1eadp kh\xf4ng \u0111\xfang s\u1ed1 ti\u1ec1n thu."]))],null,null)}function Dl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","benh-nhan-dua"],["label","Ng\u01b0\u1eddi b\u1ec7nh \u0111\u01b0a"],["min","0"]],[[4,"display",null]],[[null,"selectMoneyChange"],[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"selectMoneyChange"===l&&(t=!1!==(i.selectMoneyTienBNDua=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeTienBNDua(e)&&t),"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.BenhNhanDua=e)&&t),"keyup"===l&&(t=!1!==i.onChangeBenhNhanDua()&&t),t}),g.b,g.a)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,m.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],min:[4,"min"],spinners:[5,"spinners"],step:[6,"step"],selectMoney:[7,"selectMoney"],isFormatCurrenly:[8,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,I.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"benh-nhan-dua","Ng\u01b0\u1eddi b\u1ec7nh \u0111\u01b0a",e.thongtinDonThuoc.BenhNhanDua,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("BenhNhanDua",e.validationThuThuocErrors)),"0",!1,100,e.selectMoneyTienBNDua,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function vl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","tra-lai"],["label","Tr\u1ea3 l\u1ea1i"]],[[4,"display",null]],[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongtinDonThuoc.TienTraLai=e)&&t),t}),g.b,g.a)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,m.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],readonly:[3,"readonly"],spinners:[4,"spinners"],isFormatCurrenly:[5,"isFormatCurrenly"]},{modelChange:"modelChange"})],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"tra-lai","Tr\u1ea3 l\u1ea1i",e.thongtinDonThuoc.TienTraLai,!0,!1,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function Nl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,19,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,18,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Lo\u1ea1i"])),(n()(),t["\u0275eld"](4,0,null,null,1,"th",[["style","text-align: left;"],["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\xean"])),(n()(),t["\u0275eld"](6,0,null,null,1,"th",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["H\xe0m l\u01b0\u1ee3ng"])),(n()(),t["\u0275eld"](8,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Ho\u1ea1t ch\u1ea5t"])),(n()(),t["\u0275eld"](10,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0110VT"])),(n()(),t["\u0275eld"](12,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0110D"])),(n()(),t["\u0275eld"](14,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["NSX"])),(n()(),t["\u0275eld"](16,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\u1ed3n"])),(n()(),t["\u0275eld"](18,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["H\u1ea1n S\u1eed D\u1ee5ng"]))],null,null)}function Ml(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,20,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,19,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),(n()(),t["\u0275eld"](4,0,null,null,1,"td",[["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275eld"](6,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["",""])),(n()(),t["\u0275eld"](8,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](9,null,["",""])),(n()(),t["\u0275eld"](10,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](11,null,["",""])),(n()(),t["\u0275eld"](12,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](13,null,["",""])),(n()(),t["\u0275eld"](14,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),t["\u0275ted"](15,null,["",""])),(n()(),t["\u0275eld"](16,0,null,null,2,"td",[["style","text-align: center;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](17,null,["",""])),t["\u0275ppd"](18,1),(n()(),t["\u0275eld"](19,0,null,null,1,"td",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](20,null,[""," "]))],null,(function(n,l){n(l,3,0,l.context.$implicit.Loai),n(l,5,0,l.context.$implicit.Ten),n(l,7,0,l.context.$implicit.HamLuong),n(l,9,0,l.context.$implicit.HoatChat),n(l,11,0,l.context.$implicit.DonViTinh),n(l,13,0,l.context.$implicit.DuongDung),n(l,15,0,l.context.$implicit.NhaSanXuat);var e=t["\u0275unv"](l,17,0,n(l,18,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.SoLuongTon));n(l,17,0,e),n(l,20,0,l.context.$implicit.HanSuDung)}))}function Ll(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"input",[["class","k-checkbox"],["id","selectAllCheckboxId"],["kendoGridSelectAllCheckbox",""]],[[1,"type",0]],[[null,"selectAllChange"]],(function(n,l,e){var t=!0;return"selectAllChange"===l&&(t=!1!==n.component.onSelectAllChange(e)&&t),t}),null,null)),t["\u0275did"](1,2768896,null,0,R.Gc,[R.Jc,t.ElementRef,t.Renderer2,t.NgZone],{state:[0,"state"]},{selectAllChange:"selectAllChange"}),(n()(),t["\u0275eld"](2,0,null,null,0,"label",[["class","k-checkbox-label"],["for","selectAllCheckboxId"]],null,null,null,null,null))],(function(n,l){n(l,1,0,l.component.selectAllState)}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).type)}))}function Pl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"input",[["class","k-checkbox"],["kendoCheckBox",""],["type","checkbox"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(n,l,e){var i=!0,a=n.component;return"change"===l&&(i=!1!==t["\u0275nov"](n,2).onChange(e.target.checked)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](n,2).onTouched()&&i),"ngModelChange"===l&&(i=!1!==(n.context.$implicit.CheckedDefault=e)&&i),"change"===l&&(i=!1!==a.onSelectChangeCheckbox(e,n.context.$implicit[a.keySelectBy])&&i),i}),null,null)),t["\u0275did"](2,16384,null,0,r.b,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,r.p,(function(n){return[n]}),[r.b]),t["\u0275did"](4,671744,null,0,r.u,[[8,null],[8,null],[8,null],[6,r.p]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.q,null,[r.u]),t["\u0275did"](6,16384,null,0,r.r,[[4,r.q]],null,null),(n()(),t["\u0275eld"](7,0,null,null,0,"label",[["class","k-checkbox-label"]],[[8,"htmlFor",0],[4,"display",null]],null,null,null,null))],(function(n,l){n(l,4,0,l.context.$implicit.CheckedDefault)}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275inlineInterpolate"](1,"selectCheckboxId",l.context.$implicit[e.keySelectBy],""),t["\u0275nov"](l,6).ngClassUntouched,t["\u0275nov"](l,6).ngClassTouched,t["\u0275nov"](l,6).ngClassPristine,t["\u0275nov"](l,6).ngClassDirty,t["\u0275nov"](l,6).ngClassValid,t["\u0275nov"](l,6).ngClassInvalid,t["\u0275nov"](l,6).ngClassPending),n(l,7,0,t["\u0275inlineInterpolate"](1,"selectCheckboxId",l.context.$implicit[e.keySelectBy],""),"block")}))}function Gl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](2,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](3,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","reverse-ellipsis r"]],[[8,"title",0]],null,null,null,null)),(n()(),t["\u0275ted"](6,null,[" "," "]))],(function(n,l){n(l,1,0,"row"),n(l,2,0,"8px"),n(l,3,0,"end center"),n(l,4,0)}),(function(n,l){n(l,5,0,t["\u0275inlineInterpolate"](1,"",l.context.dataItem.TenDuocPham,"")),n(l,6,0,l.context.dataItem.TenDuocPham)}))}function Il(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](2,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](3,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","reverse-ellipsis r"]],[[8,"title",0]],null,null,null,null)),(n()(),t["\u0275ted"](6,null,[" "," "]))],(function(n,l){n(l,1,0,"row"),n(l,2,0,"8px"),n(l,3,0,"end center"),n(l,4,0)}),(function(n,l){n(l,5,0,t["\u0275inlineInterpolate"](1,"",l.context.dataItem.NongDoVaHamLuong,"")),n(l,6,0,l.context.dataItem.NongDoVaHamLuong)}))}function Rl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color: black;font-size: 14px;font-weight: bold"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\u1ed5ng c\u1ed9ng:"]))],null,null)}function wl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](2,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](3,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","reverse-ellipsis r"]],[[8,"title",0]],null,null,null,null)),(n()(),t["\u0275ted"](6,null,[" "," "]))],(function(n,l){n(l,1,0,"row"),n(l,2,0,"8px"),n(l,3,0,"end center"),n(l,4,0)}),(function(n,l){n(l,5,0,t["\u0275inlineInterpolate"](1,"",l.context.dataItem.MaHoatChat,"")),n(l,6,0,l.context.dataItem.MaHoatChat)}))}function kl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](2,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](3,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","reverse-ellipsis r"]],[[8,"title",0]],null,null,null,null)),(n()(),t["\u0275ted"](6,null,[" "," "]))],(function(n,l){n(l,1,0,"row"),n(l,2,0,"8px"),n(l,3,0,"end center"),n(l,4,0)}),(function(n,l){n(l,5,0,t["\u0275inlineInterpolate"](1,"",l.context.dataItem.DonViTinh,"")),n(l,6,0,l.context.dataItem.DonViTinh)}))}function Hl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-textboxnumeric",[["class","no-label numeric-in-grid"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==n.component.modelChangeSoLuongMua(e,n.context.$implicit)&&t),"modelChange"===l&&(t=!1!==(n.context.$implicit.SoLuongMua=e)&&t),t}),g.b,g.a)),t["\u0275did"](1,4833280,null,0,m.a,[],{model:[0,"model"],disabled:[1,"disabled"]},{modelChange:"modelChange"})],(function(n,l){n(l,1,0,l.context.$implicit.SoLuongMua,!l.context.$implicit.CheckedDefault)}),null)}function El(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.DonGia,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Kl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color: black;font-size: 14px;font-weight: bold"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\u1ed5ng c\u1ed9ng:"]))],null,null)}function Fl(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Kl)),t["\u0275did"](1,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,l.component.loaiYeuCauTiepNhanKhachVangLai)}),null)}function Vl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[""," "])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.ThanhTien,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Bl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["style","color:red;float: right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent.parent,0),e.total("ThanhTien"),"0.2-2","vi-VN"));n(l,1,0,i)}))}function ql(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Bl)),t["\u0275did"](1,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,l.component.loaiYeuCauTiepNhanKhachVangLai)}),null)}function Al(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["C\xf4ng n\u1ee3 "]))],null,null)}function Ol(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutAlign","space-between"],["fxLayoutGap","5px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](2,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),t["\u0275did"](3,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](4,0,null,null,1,"app-textboxnumeric",[["class","no-label"],["decimals","2"],["min","0.00"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==n.component.modelChangeCongNo(e,n.context.$implicit,n.parent.context.$implicit.ViTri)&&t),"modelChange"===l&&(t=!1!==(n.context.$implicit.DanhSachCongNoChoThus[n.parent.context.$implicit.ViTri].SoTienCongNoChoThu=e)&&t),t}),g.b,g.a)),t["\u0275did"](5,4833280,null,0,m.a,[],{model:[0,"model"],min:[1,"min"],format:[2,"format"],step:[3,"step"],decimals:[4,"decimals"]},{modelChange:"modelChange"})],(function(n,l){var e=l.component;n(l,1,0,"row wrap","column"),n(l,2,0,"5px grid","0"),n(l,3,0,"space-between"),n(l,5,0,l.context.$implicit.DanhSachCongNoChoThus[l.parent.context.$implicit.ViTri].SoTienCongNoChoThu,"0.00",e.format,100,"2")}),null)}function _l(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent.parent.parent.parent,0),l.parent.parent.context.$implicit.SoTienCongNoChoThu,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Ql(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent.parent.parent.parent,0),0,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Xl(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,_l)),t["\u0275did"](1,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ql)),t["\u0275did"](3,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,0!==l.parent.context.$implicit.SoTienCongNoChoThu),n(l,3,0,void 0===l.parent.context.$implicit.SoTienCongNoChoThu&&0===l.parent.context.$implicit.SoTienCongNoChoThu)}),null)}function $l(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["style","color:black;float: right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent.parent.parent,0),e.totalCongno(l.parent.context.$implicit.ViTri),"0.2-2","vi-VN"));n(l,1,0,i)}))}function Yl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,20,"kendo-grid-column",[["width","150"]],null,null,null,H.v,H.i)),t["\u0275did"](1,49152,null,10,R.r,[[3,R.p]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"]},null),t["\u0275qud"](603979776,110,{headerTemplates:1}),t["\u0275qud"](335544320,111,{footerTemplate:0}),t["\u0275qud"](603979776,112,{columnMenuTemplates:1}),t["\u0275qud"](335544320,113,{template:0}),t["\u0275qud"](335544320,114,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,115,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,116,{groupFooterTemplate:0}),t["\u0275qud"](335544320,117,{editTemplate:0}),t["\u0275qud"](335544320,118,{filterCellTemplate:0}),t["\u0275qud"](335544320,119,{filterMenuTemplate:0}),t["\u0275pod"](12,{"text-align":0}),t["\u0275pod"](13,{"text-align":0}),t["\u0275prd"](2048,[[109,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Ol)),t["\u0275did"](16,16384,[[113,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Xl)),t["\u0275did"](18,16384,[[116,4]],0,R.Fb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,$l)),t["\u0275did"](20,16384,[[111,4],[107,4]],0,R.Ab,[[2,t.TemplateRef]],null,null)],(function(n,l){var e=t["\u0275inlineInterpolate"](1,"",l.context.$implicit.TenCongTy,""),i=n(l,12,0,"center"),a=n(l,13,0,"center");n(l,1,0,e,"150",i,a)}),null)}function zl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,13,"kendo-grid-column-group",[],null,null,null,H.w,H.j)),t["\u0275did"](1,49152,null,4,R.s,[[8,null]],{style:[0,"style"],headerStyle:[1,"headerStyle"]},null),t["\u0275qud"](603979776,106,{headerTemplates:1}),t["\u0275qud"](603979776,107,{footerTemplate:0}),t["\u0275qud"](603979776,108,{columnMenuTemplates:1}),t["\u0275qud"](603979776,109,{children:1}),t["\u0275pod"](6,{"text-align":0}),t["\u0275pod"](7,{"text-align":0}),t["\u0275prd"](2048,[[109,4],[6,4]],R.p,null,[R.s]),(n()(),t["\u0275eld"](9,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275and"](0,null,null,1,null,Al)),t["\u0275did"](11,16384,[[106,4]],0,R.Qb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,Yl)),t["\u0275did"](13,278528,null,0,b.o,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=n(l,6,0,"center"),t=n(l,7,0,"center");n(l,1,0,e,t),n(l,13,0,l.context.$implicit.CongNoChoThus)}),null)}function Wl(n){return t["\u0275vid"](0,[(n()(),t["\u0275ted"](-1,null,[" S\u1ed1 ti\u1ec1n MG "])),(n()(),t["\u0275eld"](1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["style","margin-top: 10px;cursor: pointer"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.apDungMiemGiamThem()&&t),t}),E.b,E.a)),t["\u0275did"](2,9158656,null,0,K.b,[t.ElementRef,K.d,[8,null],[2,K.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](3,606208,null,0,F.a,[V.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,2,0),n(l,3,0,e.icRoundEdit)}),(function(n,l){n(l,1,0,t["\u0275nov"](l,2).inline,"primary"!==t["\u0275nov"](l,2).color&&"accent"!==t["\u0275nov"](l,2).color&&"warn"!==t["\u0275nov"](l,2).color,t["\u0275nov"](l,3).inline,t["\u0275nov"](l,3).size,t["\u0275nov"](l,3).iconHTML)}))}function Ul(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","float_right"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"div",[["style","cursor: pointer;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275ppd"](3,3),(n()(),t["\u0275eld"](4,0,null,null,1,"ic-icon",[["class","mr-3"],["inline","true"]],[[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.apDungMiemGiamChoTungDichVu(n.context.$implicit)&&t),t}),null,null)),t["\u0275did"](5,606208,null,0,F.a,[V.b],{icon:[0,"icon"],inline:[1,"inline"]},null)],(function(n,l){n(l,5,0,l.component.icRoundEdit,"true")}),(function(n,l){var e=t["\u0275unv"](l,2,0,n(l,3,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.SoTienMG,"0.2-2","vi-VN"));n(l,2,0,e),n(l,4,0,t["\u0275nov"](l,5).inline,t["\u0275nov"](l,5).size,t["\u0275nov"](l,5).iconHTML)}))}function Zl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","float_right"],["style","margin-right: 28px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.aggregates.SoTienMG.sum,"0.2-2","vi-VN"));n(l,1,0,e)}))}function jl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","float_right"],["style","margin-right: 28px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.total("SoTienMG"),"0.2-2","vi-VN"));n(l,1,0,i)}))}function Jl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"span",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275ppd"](3,3)],null,(function(n,l){var e=t["\u0275unv"](l,2,0,n(l,3,0,t["\u0275nov"](l.parent.parent.parent,0),l.parent.context.$implicit.BNConPhaiThanhToan,"0.2-2","vi-VN"));n(l,2,0,e)}))}function ne(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["style","color:red;float: right"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275ppd"](2,3),(n()(),t["\u0275eld"](3,0,null,null,3,"mat-icon",[["class","mat-icon notranslate"],["kendoTooltip",""],["role","img"],["title","S\u1ed1 ti\u1ec1n b\u1ea1n nh\u1eadp kh\xf4ng \u0111\xfang."]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,E.b,E.a)),t["\u0275did"](4,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),t["\u0275did"](5,9158656,null,0,K.b,[t.ElementRef,K.d,[8,null],[2,K.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](6,606208,null,0,F.a,[V.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,4,0),n(l,5,0),n(l,6,0,e.icInfo)}),(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent.parent,0),l.parent.context.$implicit.BNConPhaiThanhToan,"0.2-2","vi-VN"));n(l,1,0,e),n(l,3,0,t["\u0275nov"](l,5).inline,"primary"!==t["\u0275nov"](l,5).color&&"accent"!==t["\u0275nov"](l,5).color&&"warn"!==t["\u0275nov"](l,5).color,t["\u0275nov"](l,6).inline,t["\u0275nov"](l,6).size,t["\u0275nov"](l,6).iconHTML)}))}function le(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Jl)),t["\u0275did"](1,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,ne)),t["\u0275did"](3,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,l.context.$implicit.BNConPhaiThanhToan>=0),n(l,3,0,l.context.$implicit.BNConPhaiThanhToan<0)}),null)}function ee(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["style","color:red;float: right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),e.total("BNConPhaiThanhToan"),"0.2-2","vi-VN"));n(l,1,0,i)}))}function te(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](2,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](3,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","reverse-ellipsis r"]],[[8,"title",0]],null,null,null,null)),(n()(),t["\u0275ted"](6,null,[" "," "]))],(function(n,l){n(l,1,0,"row"),n(l,2,0,"8px"),n(l,3,0,"end center"),n(l,4,0)}),(function(n,l){n(l,5,0,t["\u0275inlineInterpolate"](1,"",l.context.dataItem.BacSiKeToa,"")),n(l,6,0,l.context.dataItem.BacSiKeToa)}))}function ie(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"button",[["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.delete(n.parent.context.$implicit)&&t),t}),p.d,p.b)),t["\u0275did"](1,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],null,null),(n()(),t["\u0275eld"](2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,E.b,E.a)),t["\u0275did"](3,9158656,null,0,K.b,[t.ElementRef,K.d,[8,null],[2,K.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](4,606208,null,0,F.a,[V.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,3,0),n(l,4,0,e.icDelete)}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode),n(l,2,0,t["\u0275nov"](l,3).inline,"primary"!==t["\u0275nov"](l,3).color&&"accent"!==t["\u0275nov"](l,3).color&&"warn"!==t["\u0275nov"](l,3).color,t["\u0275nov"](l,4).inline,t["\u0275nov"](l,4).size,t["\u0275nov"](l,4).iconHTML)}))}function ae(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,ie)),t["\u0275did"](1,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,l.context.$implicit.isNew)}),null)}function oe(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,21,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px"],["fxLayoutGap.lt-sm","0"],["style","padding: 4px; margin-top: -16px;"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](2,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](3,0,null,null,6,"app-combobox",[["class","item-no-padding pb-0"],["fxFlex","55%"],["fxFlex.sm","55%"],["id","DuocPham"],["label","D\u01b0\u1ee3c ph\u1ea9m"],["url","QuayThuoc/GetDuocPham"]],null,[[null,"modelChange"],[null,"selectionChange"],[null,"keyup"],[null,"openCombobox"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.themDuocPham.DuocPhamId=e)&&t),"selectionChange"===l&&(t=!1!==i.onSelectDuocPham(e)&&t),"keyup"===l&&(t=!1!==i.onKeyEnterAddItem(e)&&t),"openCombobox"===l&&(t=!1!==i.openCombobox(e)&&t),t}),B.b,B.a)),t["\u0275did"](4,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](5,6012928,[[1,4],["duocPhamCombobox",4]],0,q.a,[v.a,A.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],modelText:[4,"modelText"],url:[5,"url"],validationerror:[6,"validationerror"],template:[7,"template"],templateHeader:[8,"templateHeader"],popupSettings:[9,"popupSettings"]},{openCombobox:"openCombobox",modelChange:"modelChange",selectionChange:"selectionChange"}),t["\u0275pid"](0,I.a,[]),t["\u0275pod"](7,{width:0,popupClass:1}),(n()(),t["\u0275and"](0,[["dichVuGiuongTemplateHeader",2]],null,0,null,Nl)),(n()(),t["\u0275and"](0,[["dichVuGiuongTemplate",2]],null,0,null,Ml)),(n()(),t["\u0275eld"](10,0,null,null,2,"app-textboxnumeric",[["class","pb-0"],["disabled","true"],["fxFlex","15%"],["label","S\u1ed1 l\u01b0\u1ee3ng t\u1ed3n"],["moreClass","text-green bold"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.themDuocPham.SoLuongTon=e)&&t),t}),g.b,g.a)),t["\u0275did"](11,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](12,4833280,null,0,m.a,[],{label:[0,"label"],moreClass:[1,"moreClass"],model:[2,"model"],disabled:[3,"disabled"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](13,0,null,null,3,"app-textboxnumeric",[["class","pb-0"],["fxFlex","15%"],["label","S\u1ed1 l\u01b0\u1ee3ng"],["min","1"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.themDuocPham.SoLuong=e)&&t),"keyup"===l&&(t=!1!==i.onKey(e)&&t),t}),g.b,g.a)),t["\u0275did"](14,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](15,4833280,null,0,m.a,[],{label:[0,"label"],required:[1,"required"],model:[2,"model"],validationerror:[3,"validationerror"],min:[4,"min"]},{modelChange:"modelChange"}),t["\u0275pid"](0,I.a,[]),(n()(),t["\u0275eld"](17,0,null,null,4,"div",[["class","mt-5"],["fxFlex","10%"]],null,null,null,null,null)),t["\u0275did"](18,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](19,0,null,null,2,"button",[["class","mr-1"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.themThuoc()&&t),t}),p.d,p.b)),t["\u0275did"](20,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Th\xeam"])),(n()(),t["\u0275eld"](22,0,null,null,318,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","0"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](23,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](24,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](25,0,null,null,315,"kendo-grid",[["class","header-center header-small"],["fxFlex","100%"]],[[1,"dir",0],[2,"k-widget",null],[2,"k-grid",null],[2,"k-grid-lockedcolumns",null],[2,"k-grid-virtual",null],[2,"k-grid-column-resizing",null],[2,"k-grid-no-scrollbar",null]],null,null,H.y,H.l)),t["\u0275prd"](4608,null,R.Uc,R.Uc,[]),t["\u0275prd"](4608,null,R.Ac,R.Ac,[]),t["\u0275prd"](135680,null,R.Mc,R.Mc,[k.g,t.Renderer2,t.NgZone,R.Fc,O.c]),t["\u0275prd"](4608,null,R.T,R.T,[]),t["\u0275prd"](4608,null,R.U,R.U,[t.Sanitizer]),t["\u0275prd"](4608,null,R.W,R.W,[]),t["\u0275prd"](4608,null,R.Rb,R.Rb,[]),t["\u0275did"](33,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275prd"](512,null,R.i,R.i,[]),t["\u0275prd"](512,null,R.R,R.R,[]),t["\u0275prd"](512,null,R.ac,R.ac,[]),t["\u0275prd"](131584,null,R.Jc,R.Jc,[R.R,R.ac]),t["\u0275prd"](512,null,R.Kb,R.Kb,[]),t["\u0275prd"](512,null,R.Nb,R.Nb,[[2,R.Nc]]),t["\u0275prd"](512,null,R.m,R.m,[t.NgZone]),t["\u0275prd"](512,null,R.P,R.P,[]),t["\u0275prd"](512,null,R.Z,R.Z,[t.NgZone]),t["\u0275prd"](512,null,R.ub,R.ub,[]),t["\u0275prd"](512,null,R.oc,R.oc,[]),t["\u0275prd"](512,null,R.Bc,R.Bc,[]),t["\u0275prd"](512,null,R.fb,R.fb,[]),t["\u0275prd"](256,null,O.b,"kendo.grid",[]),t["\u0275prd"](131584,null,O.c,O.c,[O.b,[2,O.d],[2,O.e]]),t["\u0275prd"](512,null,R.Fc,R.Fc,[t.NgZone,O.c]),t["\u0275prd"](512,null,R.G,R.G,[]),t["\u0275prd"](512,null,R.F,R.F,[]),t["\u0275prd"](512,null,R.u,R.u,[]),t["\u0275prd"](512,null,R.qc,R.qc,[]),t["\u0275prd"](512,null,R.Ec,R.Ec,[]),t["\u0275prd"](512,null,R.wb,R.wb,[]),t["\u0275prd"](131584,null,R.fc,R.fc,[t.NgZone,R.R,R.qc,R.Ec,R.Nb,R.P,R.wb,R.Z,t.ChangeDetectorRef,O.c,[2,R.xb]]),t["\u0275prd"](512,null,R.Oc,R.Oc,[]),t["\u0275did"](58,8110080,null,6,R.Db,[R.i,R.Jc,t.ElementRef,R.Kb,R.Nb,R.m,R.P,R.Z,R.ub,R.oc,R.Bc,t.Renderer2,R.fb,t.NgZone,R.Fc,R.R,R.G,t.ChangeDetectorRef,R.F,R.u,R.fc,R.Oc,O.c],{data:[0,"data"],selectable:[1,"selectable"],resizable:[2,"resizable"]},null),t["\u0275qud"](603979776,6,{columns:1}),t["\u0275qud"](603979776,7,{detailTemplateChildren:1}),t["\u0275qud"](603979776,8,{noRecordsTemplateChildren:1}),t["\u0275qud"](603979776,9,{pagerTemplateChildren:1}),t["\u0275qud"](603979776,10,{toolbarTemplateChildren:1}),t["\u0275qud"](603979776,11,{columnMenuTemplates:1}),t["\u0275pod"](65,{enabled:0,checkboxOnly:1}),t["\u0275did"](66,212992,null,0,R.Ic,[R.Db,t.ChangeDetectorRef],{selectionKey:[0,"selectionKey"]},null),t["\u0275prd"](256,null,R.j,R.Y,[]),(n()(),t["\u0275eld"](68,0,null,null,10,"kendo-grid-checkbox-column",[["width","51"]],null,null,null,H.u,H.h)),t["\u0275did"](69,49152,null,4,R.n,[[8,null]],{width:[0,"width"]},null),t["\u0275qud"](603979776,12,{headerTemplates:1}),t["\u0275qud"](335544320,13,{footerTemplate:0}),t["\u0275qud"](603979776,14,{columnMenuTemplates:1}),t["\u0275qud"](335544320,15,{template:0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.n]),(n()(),t["\u0275and"](0,null,null,1,null,Ll)),t["\u0275did"](76,16384,[[12,4]],0,R.Qb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Pl)),t["\u0275did"](78,16384,[[15,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](79,0,null,null,14,"kendo-grid-column",[["field","STT"],["title","#"],["width","59"]],null,null,null,H.v,H.i)),t["\u0275did"](80,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,16,{headerTemplates:1}),t["\u0275qud"](335544320,17,{footerTemplate:0}),t["\u0275qud"](603979776,18,{columnMenuTemplates:1}),t["\u0275qud"](335544320,19,{template:0}),t["\u0275qud"](335544320,20,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,21,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,22,{groupFooterTemplate:0}),t["\u0275qud"](335544320,23,{editTemplate:0}),t["\u0275qud"](335544320,24,{filterCellTemplate:0}),t["\u0275qud"](335544320,25,{filterMenuTemplate:0}),t["\u0275pod"](91,{"text-align":0}),t["\u0275pod"](92,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275eld"](94,0,null,null,16,"kendo-grid-column",[["field","TenDuocPham"],["title","T\xean Thu\u1ed1c-V\u1eadt T\u01b0"],["width","143"]],null,null,null,H.v,H.i)),t["\u0275did"](95,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,26,{headerTemplates:1}),t["\u0275qud"](335544320,27,{footerTemplate:0}),t["\u0275qud"](603979776,28,{columnMenuTemplates:1}),t["\u0275qud"](335544320,29,{template:0}),t["\u0275qud"](335544320,30,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,31,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,32,{groupFooterTemplate:0}),t["\u0275qud"](335544320,33,{editTemplate:0}),t["\u0275qud"](335544320,34,{filterCellTemplate:0}),t["\u0275qud"](335544320,35,{filterMenuTemplate:0}),t["\u0275pod"](106,{"text-align":0}),t["\u0275pod"](107,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Gl)),t["\u0275did"](110,16384,[[29,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](111,0,null,null,16,"kendo-grid-column",[["field","NongDoVaHamLuong"],["title","N\u1ed3ng \u0110\u1ed9/H\xe0m L\u01b0\u1ee3ng"],["width","80"]],null,null,null,H.v,H.i)),t["\u0275did"](112,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],hidden:[2,"hidden"],style:[3,"style"],headerStyle:[4,"headerStyle"],field:[5,"field"]},null),t["\u0275qud"](603979776,36,{headerTemplates:1}),t["\u0275qud"](335544320,37,{footerTemplate:0}),t["\u0275qud"](603979776,38,{columnMenuTemplates:1}),t["\u0275qud"](335544320,39,{template:0}),t["\u0275qud"](335544320,40,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,41,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,42,{groupFooterTemplate:0}),t["\u0275qud"](335544320,43,{editTemplate:0}),t["\u0275qud"](335544320,44,{filterCellTemplate:0}),t["\u0275qud"](335544320,45,{filterMenuTemplate:0}),t["\u0275pod"](123,{"text-align":0}),t["\u0275pod"](124,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Il)),t["\u0275did"](127,16384,[[39,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](128,0,null,null,18,"kendo-grid-column",[["field","MaHoatChat"],["title","Ho\u1ea1t Ch\u1ea5t"],["width","100"]],null,null,null,H.v,H.i)),t["\u0275did"](129,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],hidden:[2,"hidden"],style:[3,"style"],headerStyle:[4,"headerStyle"],field:[5,"field"]},null),t["\u0275qud"](603979776,46,{headerTemplates:1}),t["\u0275qud"](335544320,47,{footerTemplate:0}),t["\u0275qud"](603979776,48,{columnMenuTemplates:1}),t["\u0275qud"](335544320,49,{template:0}),t["\u0275qud"](335544320,50,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,51,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,52,{groupFooterTemplate:0}),t["\u0275qud"](335544320,53,{editTemplate:0}),t["\u0275qud"](335544320,54,{filterCellTemplate:0}),t["\u0275qud"](335544320,55,{filterMenuTemplate:0}),t["\u0275pod"](140,{"text-align":0}),t["\u0275pod"](141,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Rl)),t["\u0275did"](144,16384,[[47,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,wl)),t["\u0275did"](146,16384,[[49,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](147,0,null,null,16,"kendo-grid-column",[["field","DonViTinh"],["title","\u0110VT"],["width","40"]],null,null,null,H.v,H.i)),t["\u0275did"](148,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,56,{headerTemplates:1}),t["\u0275qud"](335544320,57,{footerTemplate:0}),t["\u0275qud"](603979776,58,{columnMenuTemplates:1}),t["\u0275qud"](335544320,59,{template:0}),t["\u0275qud"](335544320,60,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,61,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,62,{groupFooterTemplate:0}),t["\u0275qud"](335544320,63,{editTemplate:0}),t["\u0275qud"](335544320,64,{filterCellTemplate:0}),t["\u0275qud"](335544320,65,{filterMenuTemplate:0}),t["\u0275pod"](159,{"text-align":0}),t["\u0275pod"](160,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,kl)),t["\u0275did"](163,16384,[[59,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](164,0,null,null,14,"kendo-grid-column",[["field","SoLuongToa"],["title","SL Toa"],["width","78"]],null,null,null,H.v,H.i)),t["\u0275did"](165,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],hidden:[2,"hidden"],style:[3,"style"],headerStyle:[4,"headerStyle"],field:[5,"field"]},null),t["\u0275qud"](603979776,66,{headerTemplates:1}),t["\u0275qud"](335544320,67,{footerTemplate:0}),t["\u0275qud"](603979776,68,{columnMenuTemplates:1}),t["\u0275qud"](335544320,69,{template:0}),t["\u0275qud"](335544320,70,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,71,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,72,{groupFooterTemplate:0}),t["\u0275qud"](335544320,73,{editTemplate:0}),t["\u0275qud"](335544320,74,{filterCellTemplate:0}),t["\u0275qud"](335544320,75,{filterMenuTemplate:0}),t["\u0275pod"](176,{"text-align":0}),t["\u0275pod"](177,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275eld"](179,0,null,null,16,"kendo-grid-column",[["field","SoLuongMua"],["title","SL Mua"],["width","95"]],null,null,null,H.v,H.i)),t["\u0275did"](180,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,76,{headerTemplates:1}),t["\u0275qud"](335544320,77,{footerTemplate:0}),t["\u0275qud"](603979776,78,{columnMenuTemplates:1}),t["\u0275qud"](335544320,79,{template:0}),t["\u0275qud"](335544320,80,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,81,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,82,{groupFooterTemplate:0}),t["\u0275qud"](335544320,83,{editTemplate:0}),t["\u0275qud"](335544320,84,{filterCellTemplate:0}),t["\u0275qud"](335544320,85,{filterMenuTemplate:0}),t["\u0275pod"](191,{"text-align":0}),t["\u0275pod"](192,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Hl)),t["\u0275did"](195,16384,[[79,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](196,0,null,null,18,"kendo-grid-column",[["field","DonGia"],["title","\u0110\u01a1n Gi\xe1"],["width","90"]],null,null,null,H.v,H.i)),t["\u0275did"](197,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,86,{headerTemplates:1}),t["\u0275qud"](335544320,87,{footerTemplate:0}),t["\u0275qud"](603979776,88,{columnMenuTemplates:1}),t["\u0275qud"](335544320,89,{template:0}),t["\u0275qud"](335544320,90,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,91,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,92,{groupFooterTemplate:0}),t["\u0275qud"](335544320,93,{editTemplate:0}),t["\u0275qud"](335544320,94,{filterCellTemplate:0}),t["\u0275qud"](335544320,95,{filterMenuTemplate:0}),t["\u0275pod"](208,{"text-align":0}),t["\u0275pod"](209,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,El)),t["\u0275did"](212,16384,[[89,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Fl)),t["\u0275did"](214,16384,[[87,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](215,0,null,null,17,"kendo-grid-column",[["field","ThanhTien"],["title","Th\xe0nh Ti\u1ec1n"],["width","90"]],null,null,null,H.v,H.i)),t["\u0275did"](216,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],headerStyle:[2,"headerStyle"],field:[3,"field"]},null),t["\u0275qud"](603979776,96,{headerTemplates:1}),t["\u0275qud"](335544320,97,{footerTemplate:0}),t["\u0275qud"](603979776,98,{columnMenuTemplates:1}),t["\u0275qud"](335544320,99,{template:0}),t["\u0275qud"](335544320,100,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,101,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,102,{groupFooterTemplate:0}),t["\u0275qud"](335544320,103,{editTemplate:0}),t["\u0275qud"](335544320,104,{filterCellTemplate:0}),t["\u0275qud"](335544320,105,{filterMenuTemplate:0}),t["\u0275pod"](227,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Vl)),t["\u0275did"](230,16384,[[99,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,ql)),t["\u0275did"](232,16384,[[97,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](234,278528,null,0,b.o,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](235,0,null,null,22,"kendo-grid-column",[["field","SoTienMG"],["title","S\u1ed1 ti\u1ec1n MG"],["width","130"]],null,null,null,H.v,H.i)),t["\u0275did"](236,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],hidden:[2,"hidden"],style:[3,"style"],headerStyle:[4,"headerStyle"],field:[5,"field"]},null),t["\u0275qud"](603979776,120,{headerTemplates:1}),t["\u0275qud"](335544320,121,{footerTemplate:0}),t["\u0275qud"](603979776,122,{columnMenuTemplates:1}),t["\u0275qud"](335544320,123,{template:0}),t["\u0275qud"](335544320,124,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,125,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,126,{groupFooterTemplate:0}),t["\u0275qud"](335544320,127,{editTemplate:0}),t["\u0275qud"](335544320,128,{filterCellTemplate:0}),t["\u0275qud"](335544320,129,{filterMenuTemplate:0}),t["\u0275pod"](247,{"text-align":0}),t["\u0275pod"](248,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,Wl)),t["\u0275did"](251,16384,[[120,4]],0,R.Qb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Ul)),t["\u0275did"](253,16384,[[123,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Zl)),t["\u0275did"](255,16384,[[126,4]],0,R.Fb,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,jl)),t["\u0275did"](257,16384,[[121,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](258,0,null,null,16,"kendo-grid-column",[["field","BNConPhaiThanhToan"],["title","BN C\xf2n Ph\u1ea3i TT"],["width","90"]],null,null,null,H.v,H.i)),t["\u0275did"](259,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],hidden:[2,"hidden"],field:[3,"field"]},null),t["\u0275qud"](603979776,130,{headerTemplates:1}),t["\u0275qud"](335544320,131,{footerTemplate:0}),t["\u0275qud"](603979776,132,{columnMenuTemplates:1}),t["\u0275qud"](335544320,133,{template:0}),t["\u0275qud"](335544320,134,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,135,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,136,{groupFooterTemplate:0}),t["\u0275qud"](335544320,137,{editTemplate:0}),t["\u0275qud"](335544320,138,{filterCellTemplate:0}),t["\u0275qud"](335544320,139,{filterMenuTemplate:0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,le)),t["\u0275did"](272,16384,[[133,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275and"](0,null,null,1,null,ee)),t["\u0275did"](274,16384,[[131,4]],0,R.Ab,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](275,0,null,null,14,"kendo-grid-column",[["field","Solo"],["title","S\u1ed1 L\xf4"],["width","125"]],null,null,null,H.v,H.i)),t["\u0275did"](276,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,140,{headerTemplates:1}),t["\u0275qud"](335544320,141,{footerTemplate:0}),t["\u0275qud"](603979776,142,{columnMenuTemplates:1}),t["\u0275qud"](335544320,143,{template:0}),t["\u0275qud"](335544320,144,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,145,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,146,{groupFooterTemplate:0}),t["\u0275qud"](335544320,147,{editTemplate:0}),t["\u0275qud"](335544320,148,{filterCellTemplate:0}),t["\u0275qud"](335544320,149,{filterMenuTemplate:0}),t["\u0275pod"](287,{"text-align":0}),t["\u0275pod"](288,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275eld"](290,0,null,null,14,"kendo-grid-column",[["field","HanSuDungHientThi"],["title","H\u1ea1n S\u1eed D\u1ee5ng"],["width","80"]],null,null,null,H.v,H.i)),t["\u0275did"](291,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],style:[2,"style"],headerStyle:[3,"headerStyle"],field:[4,"field"]},null),t["\u0275qud"](603979776,150,{headerTemplates:1}),t["\u0275qud"](335544320,151,{footerTemplate:0}),t["\u0275qud"](603979776,152,{columnMenuTemplates:1}),t["\u0275qud"](335544320,153,{template:0}),t["\u0275qud"](335544320,154,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,155,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,156,{groupFooterTemplate:0}),t["\u0275qud"](335544320,157,{editTemplate:0}),t["\u0275qud"](335544320,158,{filterCellTemplate:0}),t["\u0275qud"](335544320,159,{filterMenuTemplate:0}),t["\u0275pod"](302,{"text-align":0}),t["\u0275pod"](303,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275eld"](305,0,null,null,16,"kendo-grid-column",[["field","BacSiKeToa"],["title","B\xe1c S\u0129 K\xea Toa"],["width","80"]],null,null,null,H.v,H.i)),t["\u0275did"](306,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],hidden:[2,"hidden"],style:[3,"style"],headerStyle:[4,"headerStyle"],field:[5,"field"]},null),t["\u0275qud"](603979776,160,{headerTemplates:1}),t["\u0275qud"](335544320,161,{footerTemplate:0}),t["\u0275qud"](603979776,162,{columnMenuTemplates:1}),t["\u0275qud"](335544320,163,{template:0}),t["\u0275qud"](335544320,164,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,165,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,166,{groupFooterTemplate:0}),t["\u0275qud"](335544320,167,{editTemplate:0}),t["\u0275qud"](335544320,168,{filterCellTemplate:0}),t["\u0275qud"](335544320,169,{filterMenuTemplate:0}),t["\u0275pod"](317,{"text-align":0}),t["\u0275pod"](318,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,te)),t["\u0275did"](321,16384,[[163,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](322,0,null,null,15,"kendo-grid-column",[["field","Action"],["title",""],["width","54"]],null,null,null,H.v,H.i)),t["\u0275did"](323,49152,null,10,R.r,[[8,null]],{title:[0,"title"],width:[1,"width"],headerStyle:[2,"headerStyle"],field:[3,"field"]},null),t["\u0275qud"](603979776,170,{headerTemplates:1}),t["\u0275qud"](335544320,171,{footerTemplate:0}),t["\u0275qud"](603979776,172,{columnMenuTemplates:1}),t["\u0275qud"](335544320,173,{template:0}),t["\u0275qud"](335544320,174,{groupHeaderTemplate:0}),t["\u0275qud"](335544320,175,{groupHeaderColumnTemplate:0}),t["\u0275qud"](335544320,176,{groupFooterTemplate:0}),t["\u0275qud"](335544320,177,{editTemplate:0}),t["\u0275qud"](335544320,178,{filterCellTemplate:0}),t["\u0275qud"](335544320,179,{filterMenuTemplate:0}),t["\u0275pod"](334,{"text-align":0}),t["\u0275prd"](2048,[[6,4]],R.p,null,[R.r]),(n()(),t["\u0275and"](0,null,null,1,null,ae)),t["\u0275did"](337,16384,[[173,4]],0,R.l,[[2,t.TemplateRef]],null,null),(n()(),t["\u0275eld"](338,0,null,null,2,"kendo-grid-messages",[["detailCollapse","Thu g\u1ecdn chi ti\u1ebft"],["detailExpand","M\u1edf r\u1ed9ng chi ti\u1ebft"],["noRecords","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u."],["pagerItems","d\xf2ng"],["pagerOf","trong s\u1ed1"]],null,null,null,H.x,H.k)),t["\u0275prd"](6144,null,R.ec,null,[R.J]),t["\u0275did"](340,770048,null,0,R.J,[O.c],{noRecords:[0,"noRecords"],pagerOf:[1,"pagerOf"],pagerItems:[2,"pagerItems"],detailExpand:[3,"detailExpand"],detailCollapse:[4,"detailCollapse"]},null)],(function(n,l){var e=l.component;n(l,1,0,"row wrap","column"),n(l,2,0,"16px","0"),n(l,4,0,"55%","55%");var i=e.themDuocPham.DuocPhamId,a=e.themDuocPham.DuocPhamText,o=t["\u0275unv"](l,5,6,t["\u0275nov"](l,6).transform("DuocPhamId",e.validationErrors)),u=t["\u0275nov"](l,9),h=t["\u0275nov"](l,8),d=n(l,7,0,900,"item-no-padding");n(l,5,0,"DuocPham","D\u01b0\u1ee3c ph\u1ea9m",!0,i,a,"QuayThuoc/GetDuocPham",o,u,h,d),n(l,11,0,"15%"),n(l,12,0,"S\u1ed1 l\u01b0\u1ee3ng t\u1ed3n","text-green bold",e.themDuocPham.SoLuongTon,"true"),n(l,14,0,"15%"),n(l,15,0,"S\u1ed1 l\u01b0\u1ee3ng",!0,e.themDuocPham.SoLuong,t["\u0275unv"](l,15,3,t["\u0275nov"](l,16).transform("SoLuong",e.validationErrors)),"1"),n(l,18,0,"10%"),n(l,20,0,"primary"),n(l,23,0,"row wrap","column"),n(l,24,0,"0","0"),n(l,33,0,"100%");var c=e.gridData,s=n(l,65,0,!0,!0);n(l,58,0,c,s,!0),n(l,66,0,e.keySelectBy),n(l,69,0,"51");var r=n(l,91,0,"center"),T=n(l,92,0,"center");n(l,80,0,"#","59",r,T,"STT");var g=n(l,106,0,"center"),m=n(l,107,0,"center");n(l,95,0,"T\xean Thu\u1ed1c-V\u1eadt T\u01b0","143",g,m,"TenDuocPham");var p=e.loaiYeuCauTiepNhanKhachVangLai,f=n(l,123,0,"center"),C=n(l,124,0,"center");n(l,112,0,"N\u1ed3ng \u0110\u1ed9/H\xe0m L\u01b0\u1ee3ng","80",p,f,C,"NongDoVaHamLuong");var x=e.loaiYeuCauTiepNhanKhachVangLai,S=n(l,140,0,"center"),b=n(l,141,0,"center");n(l,129,0,"Ho\u1ea1t Ch\u1ea5t","100",x,S,b,"MaHoatChat");var y=n(l,159,0,"center"),D=n(l,160,0,"center");n(l,148,0,"\u0110VT","40",y,D,"DonViTinh");var v=e.loaiYeuCauTiepNhanKhachVangLai,N=n(l,176,0,"center"),M=n(l,177,0,"center");n(l,165,0,"SL Toa","78",v,N,M,"SoLuongToa");var L=n(l,191,0,"center"),P=n(l,192,0,"center");n(l,180,0,"SL Mua","95",L,P,"SoLuongMua");var G=n(l,208,0,"center"),I=n(l,209,0,"center");n(l,197,0,"\u0110\u01a1n Gi\xe1","90",G,I,"DonGia");var R=n(l,227,0,"center");n(l,216,0,"Th\xe0nh Ti\u1ec1n","90",R,"ThanhTien"),n(l,234,0,e.danhSachCongNoChoThus);var w=e.loaiYeuCauTiepNhanKhachVangLai,k=n(l,247,0,"center"),H=n(l,248,0,"center");n(l,236,0,"S\u1ed1 ti\u1ec1n MG","130",w,k,H,"SoTienMG"),n(l,259,0,"BN C\xf2n Ph\u1ea3i TT","90",e.loaiYeuCauTiepNhanKhachVangLai,"BNConPhaiThanhToan");var E=n(l,287,0,"center"),K=n(l,288,0,"center");n(l,276,0,"S\u1ed1 L\xf4","125",E,K,"Solo");var F=n(l,302,0,"center"),V=n(l,303,0,"center");n(l,291,0,"H\u1ea1n S\u1eed D\u1ee5ng","80",F,V,"HanSuDungHientThi");var B=e.loaiYeuCauTiepNhanKhachVangLai,q=n(l,317,0,"center"),A=n(l,318,0,"center");n(l,306,0,"B\xe1c S\u0129 K\xea Toa","80",B,q,A,"BacSiKeToa");var O=n(l,334,0,"center");n(l,323,0,"","54",O,"Action"),n(l,340,0,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u.","trong s\u1ed1","d\xf2ng","M\u1edf r\u1ed9ng chi ti\u1ebft","Thu g\u1ecdn chi ti\u1ebft")}),(function(n,l){n(l,19,0,t["\u0275nov"](l,20).disabled||null,"NoopAnimations"===t["\u0275nov"](l,20)._animationMode),n(l,25,0,t["\u0275nov"](l,58).dir,t["\u0275nov"](l,58).hostClasses,t["\u0275nov"](l,58).hostClasses,t["\u0275nov"](l,58).lockedClasses,t["\u0275nov"](l,58).virtualClasses,t["\u0275nov"](l,58).columnResizing,t["\u0275nov"](l,58).noScrollbarClass)}))}function ue(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-thong-tin-phieu-da-thu",[],null,null,null,Qn,J)),t["\u0275did"](1,114688,null,0,j,[c.a,s.a,v.a,d.a,c.o,T.e],{yeuCauTiepNhanId:[0,"yeuCauTiepNhanId"]},null)],(function(n,l){n(l,1,0,l.component.maYCTNId)}),null)}function he(n){return t["\u0275vid"](0,[t["\u0275pid"](0,b.g,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{duocPhamCombobox:0}),(n()(),t["\u0275eld"](2,0,null,null,83,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](3,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](4,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](5,0,null,null,9,"div",[["class","mt-3"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](6,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](8,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](10,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](11,0,null,null,3,"span",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["title","Ph\xedm t\u1eaft: Ng\u01b0\u01a1\u0300i b\xea\u0323nh kh\xf4ng mua thu\xf4\u0301c"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.nguoiBenhKhongMuaThuoc()&&t),t}),p.d,p.b)),t["\u0275did"](13,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["NB kh\xf4ng mua thu\xf4\u0301c"])),(n()(),t["\u0275eld"](15,0,null,null,70,"div",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](16,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](17,0,null,null,68,"kendo-splitter",[],[[2,"k-widget",null],[2,"k-splitter",null],[2,"k-splitter-flex",null],[2,"k-splitter-horizontal",null],[2,"k-splitter-vertical",null],[1,"dir",0],[1,"role",0]],null,null,Xn.i,Xn.c)),t["\u0275prd"](512,null,$n.s,$n.s,[t.NgZone]),t["\u0275prd"](256,null,O.b,"kendo.spliter",[]),t["\u0275prd"](131584,null,O.c,O.c,[O.b,[2,O.d],[2,O.e]]),t["\u0275did"](21,1753088,null,1,$n.p,[t.ElementRef,$n.s,O.c,[8,null]],null,null),t["\u0275qud"](603979776,2,{panes:1}),(n()(),t["\u0275eld"](23,0,null,0,42,"kendo-splitter-pane",[["class","sticky-panelbar"],["size","18%"],["style","overflow-x: hidden;"]],[[2,"k-pane-flex",null],[2,"k-pane",null],[2,"k-pane-static",null],[2,"k-scrollable",null]],null,null,Xn.j,Xn.d)),t["\u0275did"](24,8437760,[[2,4]],0,$n.r,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef],{size:[0,"size"],collapsible:[1,"collapsible"]},null),(n()(),t["\u0275eld"](25,0,null,0,40,"div",[["class","px-2 py-3"],["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"],["style","overflow:hidden;"]],null,null,null,null,null)),t["\u0275did"](26,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](27,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](28,0,null,null,3,"app-multiselect",[["fxFlex","100%"],["fxFlex.sm","100%"],["label","H\xecnh th\u1ee9c thanh to\xe1n"],["required","true"]],[[4,"display",null]],[[null,"modelChange"],[null,"valueChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.setDefeautTienMat=e)&&t),"valueChange"===l&&(t=!1!==i.ChangeHinhThucThanhToan(e)&&t),t}),Yn.b,Yn.a)),t["\u0275did"](29,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](30,1818624,null,0,zn.a,[v.a,A.a,t.ChangeDetectorRef],{label:[0,"label"],required:[1,"required"],model:[2,"model"],data:[3,"data"],validationerror:[4,"validationerror"]},{modelChange:"modelChange",valueChange:"valueChange"}),t["\u0275pid"](0,I.a,[]),(n()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](33,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,xl)),t["\u0275did"](35,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](37,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](39,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,yl)),t["\u0275did"](41,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](43,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,vl)),t["\u0275did"](45,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](46,0,null,null,3,"app-datepicker",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","ngay-thu"],["label","Ng\xe0y thu"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongtinDonThuoc.NgayThu=e)&&t),t}),Wn.b,Wn.a)),t["\u0275did"](47,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](48,638976,null,0,Un.a,[t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],readonly:[3,"readonly"],validationerror:[4,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,I.a,[]),(n()(),t["\u0275eld"](50,0,null,null,3,"app-textbox",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","noi-dung-thu"],["label","N\u1ed9i dung thu"],["maxlength","1000"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongtinDonThuoc.NoiDungThu=e)&&t),t}),Zn.b,Zn.a)),t["\u0275did"](51,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](52,4833280,null,0,jn.a,[t.ChangeDetectorRef,T.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],required:[3,"required"],model:[4,"model"],validationerror:[5,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,I.a,[]),(n()(),t["\u0275eld"](54,0,null,null,11,"div",[["class","padding-thu-tien"],["fxFlex","100%"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""],["style","margin-right:10px;margin-top:15px;"]],null,null,null,null,null)),t["\u0275did"](55,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](56,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](57,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](58,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](59,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](60,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["title","Ph\xedm t\u1eaft: Thu ti\u1ec1n v\xe0 xu\u1ea5t thu\u1ed1c"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ThuTienVaXuatThuoc()&&t),t}),p.d,p.b)),t["\u0275did"](61,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Thu ti\u1ec1n v\xe0 xu\u1ea5t thu\u1ed1c"])),(n()(),t["\u0275eld"](63,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["title","Ph\xedm t\u1eaft: Ctrl + S"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ThuTien()&&t),t}),p.d,p.b)),t["\u0275did"](64,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Thu ti\u1ec1n"])),(n()(),t["\u0275eld"](66,0,null,0,19,"kendo-splitter-pane",[],[[2,"k-pane-flex",null],[2,"k-pane",null],[2,"k-pane-static",null],[2,"k-scrollable",null]],null,null,Xn.j,Xn.d)),t["\u0275did"](67,8437760,[[2,4]],0,$n.r,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef],null,null),(n()(),t["\u0275eld"](68,0,null,0,17,"kendo-tabstrip",[["class","content-has-border"],["fxFlex","100%"],["style","padding: 5px !important"]],[[2,"k-widget",null],[2,"k-tabstrip",null],[2,"k-floatwrap",null],[2,"k-header",null],[2,"k-tabstrip-top",null],[2,"k-tabstrip-right",null],[2,"k-tabstrip-bottom",null],[2,"k-tabstrip-left",null],[1,"dir",0]],[[null,"tabSelect"]],(function(n,l,e){var t=!0;return"tabSelect"===l&&(t=!1!==n.component.chuyenDen(e)&&t),t}),Xn.k,Xn.e)),t["\u0275did"](69,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275prd"](256,null,O.b,"kendo.tabstrip",[]),t["\u0275prd"](131584,null,O.c,O.c,[O.b,[2,O.d],[2,O.e]]),t["\u0275did"](72,245760,[["tabStrip",4]],1,$n.u,[O.c,t.Renderer2,t.ElementRef],null,{tabSelect:"tabSelect"}),t["\u0275qud"](603979776,3,{tabs:1}),(n()(),t["\u0275eld"](74,0,null,null,5,"kendo-tabstrip-tab",[],null,null,null,Xn.l,Xn.f)),t["\u0275did"](75,1622016,[[3,4]],2,$n.w,[],{title:[0,"title"],selected:[1,"selected"]},null),t["\u0275qud"](603979776,4,{_tabContent:1}),t["\u0275qud"](335544320,5,{tabTitle:0}),(n()(),t["\u0275and"](0,null,null,1,null,oe)),t["\u0275did"](79,16384,[[4,4]],0,$n.t,[t.TemplateRef],null,null),(n()(),t["\u0275eld"](80,0,null,null,5,"kendo-tabstrip-tab",[],null,null,null,Xn.l,Xn.f)),t["\u0275did"](81,1622016,[[3,4]],2,$n.w,[],{title:[0,"title"]},null),t["\u0275qud"](603979776,180,{_tabContent:1}),t["\u0275qud"](335544320,181,{tabTitle:0}),(n()(),t["\u0275and"](0,null,null,1,null,ue)),t["\u0275did"](85,16384,[[180,4]],0,$n.t,[t.TemplateRef],null,null)],(function(n,l){var e=l.component;n(l,3,0,"row wrap","column"),n(l,4,0,"16px grid","0"),n(l,6,0,"100%"),n(l,8,0,!(e.benhnhanThongTin.SoDuTaiKhoan>0)),n(l,10,0,e.benhnhanThongTin.SoDuTaiKhoan>0),n(l,13,0,"primary"),n(l,16,0,"100%"),n(l,24,0,"18%",!0),n(l,26,0,"row wrap","column"),n(l,27,0,"16px grid","0"),n(l,29,0,"100%","100%"),n(l,30,0,"H\xecnh th\u1ee9c thanh to\xe1n","true",e.setDefeautTienMat,e.hinhThucThanhToan,t["\u0275unv"](l,30,4,t["\u0275nov"](l,31).transform("HinhThucThanhToan",e.validationThuThuocErrors))),n(l,33,0,e.flagCheckSeletedTienMat),n(l,35,0,e.flagCheckSeletedChuyenKhoan),n(l,37,0,e.flagCheckSeletedPos),n(l,39,0,e.flagCheckSeletedSoTienCongNo),n(l,41,0,e.showCanhBaoSoTienNhap),n(l,43,0,e.flagCheckSeletedTienMat),n(l,45,0,e.flagCheckSeletedTienMat),n(l,47,0,"100%","100%"),n(l,48,0,"ngay-thu","Ng\xe0y thu",e.thongtinDonThuoc.NgayThu,!0,t["\u0275unv"](l,48,4,t["\u0275nov"](l,49).transform("NgayThu",e.validationThuThuocErrors))),n(l,51,0,"100%","100%"),n(l,52,0,"noi-dung-thu","N\u1ed9i dung thu","1000","true",e.thongtinDonThuoc.NoiDungThu,t["\u0275unv"](l,52,5,t["\u0275nov"](l,53).transform("NoiDungThu",e.validationThuThuocErrors))),n(l,55,0,"row"),n(l,56,0,"8px"),n(l,57,0,"end center"),n(l,58,0,"100%"),n(l,59,0),n(l,61,0,"primary"),n(l,64,0,"primary"),n(l,69,0,"100%"),n(l,72,0),n(l,75,0,"Ch\u01b0a thu",!0),n(l,81,0,"\u0110a\u0303 thu")}),(function(n,l){var e=l.component;n(l,12,0,t["\u0275nov"](l,13).disabled||null,"NoopAnimations"===t["\u0275nov"](l,13)._animationMode),n(l,17,0,t["\u0275nov"](l,21).hostClasses,t["\u0275nov"](l,21).hostClasses,t["\u0275nov"](l,21).hostClasses,t["\u0275nov"](l,21).horizontalHostClasses,t["\u0275nov"](l,21).verticalHostClasses,t["\u0275nov"](l,21).dir,t["\u0275nov"](l,21).ariaRole),n(l,23,0,t["\u0275nov"](l,24).styleDisplayFlex,t["\u0275nov"](l,24).hostClass,t["\u0275nov"](l,24).staticPaneClass,t["\u0275nov"](l,24).scrollablePaneClass),n(l,28,0,e.tongTien<0?"none":"block"),n(l,60,0,t["\u0275nov"](l,61).disabled||null,"NoopAnimations"===t["\u0275nov"](l,61)._animationMode),n(l,63,0,t["\u0275nov"](l,64).disabled||null,"NoopAnimations"===t["\u0275nov"](l,64)._animationMode),n(l,66,0,t["\u0275nov"](l,67).styleDisplayFlex,t["\u0275nov"](l,67).hostClass,t["\u0275nov"](l,67).staticPaneClass,t["\u0275nov"](l,67).scrollablePaneClass),n(l,68,0,t["\u0275nov"](l,72).hostClasses,t["\u0275nov"](l,72).hostClasses,t["\u0275nov"](l,72).hostClasses,t["\u0275nov"](l,72).hostClasses,t["\u0275nov"](l,72).tabsAtTop,t["\u0275nov"](l,72).tabsAtRight,t["\u0275nov"](l,72).tabsAtBottom,t["\u0275nov"](l,72).tabsAtLeft,t["\u0275nov"](l,72).dir)}))}class de{constructor(n,l,e,t,i){this.route=n,this.dialog=l,this.apiService=e,this.router=t,this.notificationService=i,this.id=this.route.snapshot.params.id,this.gridColumns=[],this.dataSourcedanhsachThuocBHYT={data:[],total:0},this.dataSourcedanhsachThuocKhongBHYT={data:[],total:0}}ngOnInit(){this.danhSachThuoc=new $.z,this.GetThongTinDonThuoc(this.id),this.gridColumns=[{Field:"STT",Title:"#",Width:40,Sortable:!1},{Field:"TenDuocPham",Title:"T\xean Thu\u1ed1c",Width:190,Sortable:!1},{Field:"NongDoVaHamLuong",Title:"N\u1ed3ng \u0111\u1ed9 / h\xe0m l\u01b0\u1ee3ng",Width:185,Sortable:!1},{Field:"MaHoatChat",Title:"Ho\u1ea1t ch\u1ea5t",Width:185,Sortable:!1},{Field:"DonViTinh",Title:"\u0110VT",Width:94,Sortable:!1},{Field:"SoLuongMua",Title:"SL Mua",Width:110,Sortable:!1},{Field:"DonGia",Title:"\u0110\u01a1n gi\xe1",Width:129,Sortable:!1,Template:this.donGiaTemplate},{Field:"ThanhTien",Title:"Th\xe0nh ti\u1ec1n",Width:147,Sortable:!1,Template:this.thanhTienTemplate},{Field:"Solo",Title:"S\u1ed1 l\xf4",Width:109,Sortable:!1},{Field:"HanSuDungHientThi",Title:"H\u1ea1n s\u1eed d\u1ee5ng",Width:146,Sortable:!1}]}ngOnChanges(){0==this.flagOnce&&(this.GetThongTinDonThuoc(this.id),this.flagOnce=!0)}loadingPage(){this.dialog.open(X.a,{disableClose:!0,width:"200px",height:"90px",data:{Title:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."}})}GetThongTinDonThuoc(n){var l=this.dialog.open(X.a,{disableClose:!0,width:"200px",height:"90px",data:{Title:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."}});this.apiService.post("QuayThuoc/GetDanhSachXuatThuocKhongBHYT?tiepNhanId="+n).subscribe(n=>{this.dataSourcedanhsachThuocKhongBHYT.data=n;let l=1;this.dataSourcedanhsachThuocKhongBHYT.data.forEach(n=>{n.STT=l,l++}),this.danhSachThuoc.ThuocKhongBHYT=[...this.dataSourcedanhsachThuocKhongBHYT.data]},()=>{}),l.close()}GuiData(){this.danhSachThuoc.Id=this.id,this.dialog.open(al.a,{disableClose:!1,width:"400px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n xu\u1ea5t \u0111\u01a1n thu\u1ed1c n\xe0y?"}}).afterClosed().subscribe(n=>{"Yes"==n&&this.apiService.post("QuayThuoc/XuatDonThuocBHYT",this.danhSachThuoc).subscribe(n=>{null!=n&&null!=n&&""!=n?this.notificationService.showError(n):(1==this.ttcheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttcheck,hoQuerysearch:!1}}),2==this.ttcheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttcheck,hoQuerysearch:!1}}),3==this.ttcheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttcheck,hoQuerysearch:!1}}),0==this.ttcheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttcheck,hoQuerysearch:!1}}))},n=>{})})}KeThuoc(){this.showPopupLoadingIn();var n={Hosting:null,TiepNhanId:this.id};n.Hosting=window.location.protocol+"//"+window.location.host,this.apiService.postExportPdf("QuayThuoc/XacNhanInThuocCoBhyt",n).subscribe(n=>{null!=n&&null!=n&&this.dialog.open(U.a,{disableClose:!0,width:"1000px",data:{Model:n}}).afterClosed().subscribe(()=>{this.closePopupLoadingData()})},n=>{"Validation Failed"!==n.Message&&this.notificationService.showError(n.Message),this.closePopupLoadingData()})}showPopupLoadingIn(){this.dialog.open(X.a,{disableClose:!0,width:"250px",height:"90px",data:{Title:"\u0110ang loading..."}})}closePopupLoadingData(){this.dialog.closeAll()}}var ce=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function se(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","px-2 py-2"],["style","background: burlywood;overflow: hidden;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"h4",[["style","font-weight: bold;float: left;line-height: 36px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["THU\u1ed0C BHYT- V\u1eacT T\u01af"])),(n()(),t["\u0275eld"](3,0,null,null,2,"button",[["mat-raised-button",""],["style","float: right;"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.KeThuoc()&&t),t}),p.d,p.b)),t["\u0275did"](4,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],null,null),(n()(),t["\u0275ted"](-1,0,[" In k\xea thu\u1ed1c"]))],null,(function(n,l){n(l,3,0,t["\u0275nov"](l,4).disabled||null,"NoopAnimations"===t["\u0275nov"](l,4)._animationMode)}))}function re(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-grid",[["fxFlex","100%"],["useActionDefault","false"]],null,null,null,o.b,o.a)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](2,1818624,null,0,u.a,[h.a,d.a,c.o,s.a,t.ChangeDetectorRef,r.g,T.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],gridDataSource:[1,"gridDataSource"],headerTemplate:[2,"headerTemplate"],useHeaderDefault:[3,"useHeaderDefault"],useActionDefault:[4,"useActionDefault"],pageable:[5,"pageable"],autoHeight:[6,"autoHeight"],lazyLoadPage:[7,"lazyLoadPage"],useAddDeault:[8,"useAddDeault"],checkboxAble:[9,"checkboxAble"],allowSortDefault:[10,"allowSortDefault"]},null),(n()(),t["\u0275and"](0,[["headerTemplate",2]],null,0,null,se))],(function(n,l){var e=l.component;n(l,1,0,"100%"),n(l,2,1,[e.gridColumns,e.dataSourcedanhsachThuocBHYT,t["\u0275nov"](l,3),!1,!1,!1,!0,!1,!1,!1,!1])}),null)}function Te(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","px-2 py-2"],["style","background: lightblue;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"h4",[["style","font-weight: bold;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["THU\u1ed0C KH\xd4NG BHYT-V\u1eacT T\u01af"]))],null,null)}function ge(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-grid",[["fxFlex","100%"],["useActionDefault","false"]],null,null,null,o.b,o.a)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](2,1818624,null,0,u.a,[h.a,d.a,c.o,s.a,t.ChangeDetectorRef,r.g,T.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],gridDataSource:[1,"gridDataSource"],headerTemplate:[2,"headerTemplate"],useHeaderDefault:[3,"useHeaderDefault"],useActionDefault:[4,"useActionDefault"],pageable:[5,"pageable"],autoHeight:[6,"autoHeight"],lazyLoadPage:[7,"lazyLoadPage"],useAddDeault:[8,"useAddDeault"],checkboxAble:[9,"checkboxAble"],allowSortDefault:[10,"allowSortDefault"]},null),(n()(),t["\u0275and"](0,[["headerTemplate1",2]],null,0,null,Te))],(function(n,l){var e=l.component;n(l,1,0,"100%"),n(l,2,1,[e.gridColumns,e.dataSourcedanhsachThuocKhongBHYT,t["\u0275nov"](l,3),!1,!1,!1,!0,!1,!1,!1,!1])}),null)}function me(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Kh\xf4ng c\xf3 d\u01b0\u1ee3c ph\u1ea9m n\xe0o ch\u1edd xu\u1ea5t"]))],null,null)}function pe(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent,0),l.context.$implicit.DonGia,"0.2-2","vi-VN"));n(l,1,0,e)}))}function fe(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent,0),l.context.$implicit.ThanhTien,"0.2-2","vi-VN"));n(l,1,0,e)}))}function Ce(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","mr-1 float-right"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.GuiData()&&t),t}),p.d,p.b)),t["\u0275did"](2,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,[" Xu\u1ea5t thu\u1ed1c"]))],(function(n,l){n(l,2,0,"primary")}),(function(n,l){n(l,1,0,t["\u0275nov"](l,2).disabled||null,"NoopAnimations"===t["\u0275nov"](l,2)._animationMode)}))}function xe(n){return t["\u0275vid"](0,[t["\u0275pid"](0,b.g,[t.LOCALE_ID]),t["\u0275qud"](402653184,1,{donGiaTemplate:0}),t["\u0275qud"](402653184,2,{thanhTienTemplate:0}),(n()(),t["\u0275eld"](3,0,null,null,10,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](4,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](5,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,re)),t["\u0275did"](7,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,ge)),t["\u0275did"](9,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,me)),t["\u0275did"](11,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,[[1,2],["donGiaTemplate",2]],null,0,null,pe)),(n()(),t["\u0275and"](0,[[2,2],["thanhTienTemplate",2]],null,0,null,fe)),(n()(),t["\u0275eld"](14,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Ce)),t["\u0275did"](16,16384,null,0,b.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,4,0,"row wrap","column"),n(l,5,0,"16px grid","0"),n(l,7,0,e.dataSourcedanhsachThuocBHYT.data.length>0),n(l,9,0,e.dataSourcedanhsachThuocKhongBHYT.data.length>0),n(l,11,0,0==e.dataSourcedanhsachThuocKhongBHYT.data.length&&0==e.dataSourcedanhsachThuocBHYT.data.length),n(l,16,0,e.dataSourcedanhsachThuocBHYT.data.length>0||e.dataSourcedanhsachThuocKhongBHYT.data.length>0)}),null)}var Se=e("/sr0"),be=e("ZuBe"),ye=e("uwSD"),De=e("KNdO"),ve=e("Z998"),Ne=e("R6Ha"),Me=e("68z7"),Le=e("C0s9"),Pe=e("biCn"),Ge=e("5tDl"),Ie=e("DUNy");e.d(l,"a",(function(){return Ve}));var Re=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function we(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-thong-tin-bao-hiem-tu-nhan",[],null,[[null,"valueChangeBaoHiem"],[null,"valueChangeMg"]],(function(n,l,e){var t=!0,i=n.component;return"valueChangeBaoHiem"===l&&(t=!1!==i.getBaoHiem(e)&&t),"valueChangeMg"===l&&(t=!1!==i.getMg(e)&&t),t}),G,N)),t["\u0275did"](1,638976,null,0,D,[c.a,v.a,t.ChangeDetectorRef,s.a],{tongTienBNThanhToan:[0,"tongTienBNThanhToan"]},{valueChangeBaoHiem:"valueChangeBaoHiem",valueChangeMg:"valueChangeMg"}),(n()(),t["\u0275eld"](2,0,null,null,1,"app-quay-thuoc-hinh-thuc-thanh-toan",[],null,[[null,"afterChangedCongNo"],[null,"changeTab"],[null,"afterChangedMg"],[null,"danhSachChuaThanhToan"]],(function(n,l,e){var t=!0,i=n.component;return"afterChangedCongNo"===l&&(t=!1!==i.afterChangedCongNo()&&t),"changeTab"===l&&(t=!1!==i.changeTab()&&t),"afterChangedMg"===l&&(t=!1!==i.afterChangedMienGiam()&&t),"danhSachChuaThanhToan"===l&&(t=!1!==i.danhSachChuaThanhToan(e)&&t),t}),he,ml)),t["\u0275did"](3,638976,[[2,4]],0,gl,[c.a,v.a,s.a,T.e,t.ChangeDetectorRef,d.a,c.o],{benhnhanThongTin:[0,"benhnhanThongTin"],apDungCongNoThuoc:[1,"apDungCongNoThuoc"],apDungMienGiam:[2,"apDungMienGiam"],thongTinTam:[3,"thongTinTam"],viTri:[4,"viTri"],thongTinMienGiamVos:[5,"thongTinMienGiamVos"]},{danhSachChuaThanhToan:"danhSachChuaThanhToan",afterChangedCongNo:"afterChangedCongNo",afterChangedMg:"afterChangedMg",changeTab:"changeTab"})],(function(n,l){var e=l.component;n(l,1,0,e.tongTienBNThanhToan),n(l,3,0,e.benhnhanThongTin,e.apDungCongNoThuoc,e.apDungMienGiam,e.thongTinTam,e.viTri,e.thongTinMienGiamVos)}),null)}function ke(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["kendoTooltip",""],["title","Ph\xedm t\u1eaft: Ctrl + F1"]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275ted"](-1,null,[" Mua thu\u1ed1c-v\u1eadt t\u01b0 "]))],(function(n,l){n(l,1,0)}),null)}function He(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-cho-xuat-thuoc",[],null,null,null,xe,ce)),t["\u0275did"](1,638976,null,0,de,[c.a,T.e,v.a,c.o,s.a],{flagOnce:[0,"flagOnce"],trangThaiXuatThuoc:[1,"trangThaiXuatThuoc"],ttcheck:[2,"ttcheck"]},null)],(function(n,l){var e=l.component;n(l,1,0,e.flagAllowLoadThuoc,e.tt,e.ttcheck)}),null)}function Ee(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["kendoTooltip",""],["title","Ph\xedm t\u1eaft: Ctrl + F2"]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275ted"](-1,null,[" Ch\u1edd xu\u1ea5t thu\u1ed1c-v\u1eadt t\u01b0 "]))],(function(n,l){n(l,1,0)}),null)}function Ke(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{tabQuayThuoc:0}),t["\u0275qud"](671088640,2,{quayThuocHinhThucThanhToan:0}),(n()(),t["\u0275eld"](2,0,null,null,64,"vex-page-layout",[["class","vex-page-layout"]],[[2,"vex-page-layout-card",null],[2,"vex-page-layout-simple",null]],null,null,Se.b,Se.a)),t["\u0275did"](3,49152,null,0,be.a,[],null,null),(n()(),t["\u0275eld"](4,0,null,0,17,"vex-page-layout-header",[["class","pb-16 vex-page-layout-header"],["fxLayout","column"],["fxLayoutAlign","center start"]],null,null,null,null,null)),t["\u0275did"](5,16384,null,0,ye.a,[],null,null),t["\u0275did"](6,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](7,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](8,0,null,null,13,"div",[["class","w-full flex justify-between"]],[[2,"px-gutter",null]],null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,5,"vex-breadcrumbs",[],null,null,null,De.b,De.a)),t["\u0275did"](10,114688,null,0,ve.a,[],{crumbs:[0,"crumbs"]},null),t["\u0275pod"](11,{Title:0,Path:1}),t["\u0275pod"](12,{page:0,hoQuerysearch:1}),t["\u0275pod"](13,{Title:0,Path:1,queryParams:2,Active:3}),t["\u0275pad"](14,2),(n()(),t["\u0275eld"](15,0,null,null,6,"app-hot-key",[],null,null,null,Ne.b,Ne.a)),t["\u0275did"](16,114688,null,0,Me.a,[t.ChangeDetectorRef],{keys:[0,"keys"]},null),t["\u0275pod"](17,{Key:0,Description:1}),t["\u0275pod"](18,{Key:0,Description:1}),t["\u0275pod"](19,{Key:0,Description:1}),t["\u0275pod"](20,{Key:0,Description:1,End:2}),t["\u0275pad"](21,4),(n()(),t["\u0275eld"](22,0,null,0,44,"vex-page-layout-content",[["class","-mt-6 vex-page-layout-content"]],[[2,"px-gutter",null]],null,null,null,null)),t["\u0275did"](23,16384,null,0,Le.a,[],null,null),(n()(),t["\u0275eld"](24,0,null,null,42,"div",[["class","-mt-16"]],null,null,null,null,null)),(n()(),t["\u0275eld"](25,0,null,null,41,"div",[["fxLayout","row"],["fxLayout.lt-md","column"],["fxLayoutGap","20px"]],null,null,null,null,null)),t["\u0275did"](26,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-md":[1,"fxLayout.lt-md"]},null),t["\u0275did"](27,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(n()(),t["\u0275eld"](28,0,null,null,38,"div",[["class","card"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](29,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](30,0,null,null,36,"div",[["class","px-6 py-4"],["fxLayout","column"]],null,null,null,null,null)),t["\u0275did"](31,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),(n()(),t["\u0275eld"](32,0,null,null,1,"app-quay-thuoc-thong-tin-hanh-chinh",[],null,null,null,Pe.b,Pe.a)),t["\u0275did"](33,114688,null,0,Ge.a,[c.a,v.a],{benhnhanThongTin:[0,"benhnhanThongTin"]},null),(n()(),t["\u0275eld"](34,0,null,null,21,"kendo-tabstrip",[["class","content-has-border has-padding mt-3"],["fxFlex","100%"]],[[2,"k-widget",null],[2,"k-tabstrip",null],[2,"k-floatwrap",null],[2,"k-header",null],[2,"k-tabstrip-top",null],[2,"k-tabstrip-right",null],[2,"k-tabstrip-bottom",null],[2,"k-tabstrip-left",null],[1,"dir",0]],[[null,"tabSelect"]],(function(n,l,e){var t=!0;return"tabSelect"===l&&(t=!1!==n.component.onTabSelect(e)&&t),t}),Xn.k,Xn.e)),t["\u0275did"](35,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275prd"](256,null,O.b,"kendo.tabstrip",[]),t["\u0275prd"](131584,null,O.c,O.c,[O.b,[2,O.d],[2,O.e]]),t["\u0275did"](38,245760,[[1,4],["tabQuayThuoc",4]],1,$n.u,[O.c,t.Renderer2,t.ElementRef],{keepTabContent:[0,"keepTabContent"]},{tabSelect:"tabSelect"}),t["\u0275qud"](603979776,3,{tabs:1}),(n()(),t["\u0275eld"](40,0,null,null,7,"kendo-tabstrip-tab",[],null,null,null,Xn.l,Xn.f)),t["\u0275did"](41,1622016,[[3,4]],2,$n.w,[],{selected:[0,"selected"]},null),t["\u0275qud"](603979776,4,{_tabContent:1}),t["\u0275qud"](335544320,5,{tabTitle:0}),(n()(),t["\u0275and"](0,null,null,1,null,we)),t["\u0275did"](45,16384,[[4,4]],0,$n.t,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,ke)),t["\u0275did"](47,16384,[[5,4]],0,$n.x,[t.TemplateRef],null,null),(n()(),t["\u0275eld"](48,0,null,null,7,"kendo-tabstrip-tab",[],null,null,null,Xn.l,Xn.f)),t["\u0275did"](49,1622016,[[3,4]],2,$n.w,[],{selected:[0,"selected"]},null),t["\u0275qud"](603979776,6,{_tabContent:1}),t["\u0275qud"](335544320,7,{tabTitle:0}),(n()(),t["\u0275and"](0,null,null,1,null,He)),t["\u0275did"](53,16384,[[6,4]],0,$n.t,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Ee)),t["\u0275did"](55,16384,[[7,4]],0,$n.x,[t.TemplateRef],null,null),(n()(),t["\u0275eld"](56,0,null,null,10,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](57,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](58,1720320,null,0,i.d,[t.ElementRef,t.NgZone,S.b,a.i,[2,i.h],a.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](59,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](60,9125888,null,0,w.c,[t.ElementRef,t.NgZone,t.Renderer2,k.g,[2,w.e],[2,w.a]],null,null),(n()(),t["\u0275eld"](61,0,null,null,2,"button",[["mat-raised-button",""],["title","In B\u1ea3ng K\xea"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.inXemTruocBangKeThuoc()&&t),t}),p.d,p.b)),t["\u0275did"](62,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],null,null),(n()(),t["\u0275ted"](-1,0,[" In B\u1ea3ng K\xea "])),(n()(),t["\u0275eld"](64,0,null,null,2,"button",[["mat-raised-button",""],["title","Ph\xedm t\u1eaft: ESC"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.Huy()&&t),t}),p.d,p.b)),t["\u0275did"](65,180224,null,0,f.b,[t.ElementRef,C.g,[2,x.a]],null,null),(n()(),t["\u0275ted"](-1,0,[" Quay l\u1ea1i "]))],(function(n,l){var e=l.component;n(l,6,0,"column"),n(l,7,0,"center start");var t=n(l,14,0,n(l,11,0,"Nh\xe0 Thu\u1ed1c",""),n(l,13,0,"Mua thu\u1ed1c","/nha-thuoc",n(l,12,0,e.ttcheck,!1),!0));n(l,10,0,t);var i=n(l,21,0,n(l,17,0,"Ctrl + F1","Di chuy\u1ec3n t\u1edbi v\xe0 m\u1edf tab Mua thu\u1ed1c"),n(l,18,0,"Ctrl + F2","Di chuy\u1ec3n t\u1edbi v\xe0 m\u1edf tab Ch\u1edd xu\u1ea5t thu\u1ed1c"),n(l,19,0,"Ctrl + S","Thu ti\u1ec1n"),n(l,20,0,"Esc","Quay l\u1ea1i",!0));n(l,16,0,i),n(l,26,0,"row","column"),n(l,27,0,"20px"),n(l,29,0,"100%"),n(l,31,0,"column"),n(l,33,0,e.benhnhanThongTin),n(l,35,0,"100%"),n(l,38,0,!0),n(l,41,0,1==e.tt),n(l,49,0,2==e.tt),n(l,57,0,"row"),n(l,58,0,"8px"),n(l,59,0,"end center"),n(l,60,0)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).isCard,t["\u0275nov"](l,3).isSimple),n(l,8,0,!0),n(l,22,0,!0),n(l,34,0,t["\u0275nov"](l,38).hostClasses,t["\u0275nov"](l,38).hostClasses,t["\u0275nov"](l,38).hostClasses,t["\u0275nov"](l,38).hostClasses,t["\u0275nov"](l,38).tabsAtTop,t["\u0275nov"](l,38).tabsAtRight,t["\u0275nov"](l,38).tabsAtBottom,t["\u0275nov"](l,38).tabsAtLeft,t["\u0275nov"](l,38).dir),n(l,61,0,t["\u0275nov"](l,62).disabled||null,"NoopAnimations"===t["\u0275nov"](l,62)._animationMode),n(l,64,0,t["\u0275nov"](l,65).disabled||null,"NoopAnimations"===t["\u0275nov"](l,65)._animationMode)}))}function Fe(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-mua-thuoc",[],null,[["document","keydown"]],(function(n,l,e){var i=!0;return"document:keydown"===l&&(i=!1!==t["\u0275nov"](n,1).keyEvent(e)&&i),i}),Ke,Re)),t["\u0275did"](1,8503296,null,0,Ie.a,[c.a,s.a,T.e,v.a,c.o,t.ChangeDetectorRef],null,null)],(function(n,l){n(l,1,0)}),null)}var Ve=t["\u0275ccf"]("app-quay-thuoc-mua-thuoc",Ie.a,Fe,{},{},[])},"3VkT":function(n,l,e){"use strict";var t=e("8Y7J"),i=e("bujt"),a=e("Fwaw"),o=e("5GAg"),u=e("omvX"),h=e("VDRc"),d=e("/q54"),c=e("s6ns"),s=e("Mr+X"),r=e("Gi4r"),T=e("l+Q0"),g=e("cUpR"),m=e("A5bt"),p=e("QbaE"),f=e("0MWk"),C=e("Ex7W"),x=e("TXUA"),S=e("63sk"),b=e("0GlS"),y=e("IP0z"),D=e("SVse"),v=e("GWPR");e.d(l,"a",(function(){return G}));var N=t["\u0275crt"]({encapsulation:0,styles:[[".container-iframe[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-bottom:100%;background:#ebeced}.container-iframe[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]],data:{}});function M(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["cdkFocusInitial",""],["color","primary"],["mat-button",""],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ApDungMGT()&&t),t}),i.d,i.b)),t["\u0275did"](1,180224,null,0,a.b,[t.ElementRef,o.g,[2,u.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["A\u0301p du\u0323ng"]))],(function(n,l){n(l,1,0,"primary")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode)}))}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](1,671744,null,0,h.c,[t.ElementRef,d.i,[2,h.i],d.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](2,671744,null,0,h.b,[t.ElementRef,d.i,[2,h.g],d.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](3,81920,null,0,c.m,[[2,c.l],t.ElementRef,c.e],null,null),(n()(),t["\u0275eld"](4,0,null,null,1,"div",[["style","font: 500 18px/26px var(--font)"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" MI\xca\u0303N GIA\u0309M T\xc2\u0301T CA\u0309 DI\u0323CH VU\u0323 "])),(n()(),t["\u0275eld"](6,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close()&&t),t}),i.d,i.b)),t["\u0275did"](7,180224,null,0,a.b,[t.ElementRef,o.g,[2,u.a]],null,null),(n()(),t["\u0275eld"](8,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,s.b,s.a)),t["\u0275did"](9,9158656,null,0,r.b,[t.ElementRef,r.d,[8,null],[2,r.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](10,606208,null,0,T.a,[g.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](11,0,null,null,32,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),t["\u0275did"](12,16384,null,0,c.j,[],null,null),(n()(),t["\u0275eld"](13,0,null,null,30,"div",[["fxLayout","row"],["width","100%"]],null,null,null,null,null)),t["\u0275did"](14,671744,null,0,h.c,[t.ElementRef,d.i,[2,h.i],d.f],{fxLayout:[0,"fxLayout"]},null),(n()(),t["\u0275eld"](15,0,null,null,28,"table",[["class","table table-border"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](16,0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,10,"td",[["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,2,"app-checkbox",[["fxFlex","30%"],["id","phan-tram"],["label","%"],["value","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.apDungMiemGiamThem.ChietKhauTheoTiLe=e)&&t),"modelChange"===l&&(t=!1!==i.apDungPhanTram(e)&&t),t}),m.b,m.a)),t["\u0275did"](19,671744,null,0,h.a,[t.ElementRef,d.i,d.e,h.f,d.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](20,638976,null,0,p.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](21,0,null,null,3,"app-textboxnumeric",[["class","no-label"],["fxFlex","60%"],["label",""],["max","100"],["min","0"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.apDungMiemGiamThem.TiLe=e)&&t),t}),f.b,f.a)),t["\u0275did"](22,671744,null,0,h.a,[t.ElementRef,d.i,d.e,h.f,d.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](23,4833280,null,0,C.a,[],{label:[0,"label"],required:[1,"required"],model:[2,"model"],disabled:[3,"disabled"],validationerror:[4,"validationerror"],min:[5,"min"],max:[6,"max"]},{modelChange:"modelChange"}),t["\u0275pid"](0,x.a,[]),(n()(),t["\u0275eld"](25,0,null,null,2,"label",[["class","red"],["fxFlex","10%"]],null,null,null,null,null)),t["\u0275did"](26,671744,null,0,h.a,[t.ElementRef,d.i,d.e,h.f,d.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275ted"](-1,null,["(*)"])),(n()(),t["\u0275eld"](28,0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](29,0,null,null,10,"td",[["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,2,"app-checkbox",[["fxFlex","30%"],["id","so-tien"],["label","Ti\xea\u0300n"],["value","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.apDungMiemGiamThem.ChietKhauTheoSoTien=e)&&t),"modelChange"===l&&(t=!1!==i.apDungSoTien(e)&&t),t}),m.b,m.a)),t["\u0275did"](31,671744,null,0,h.a,[t.ElementRef,d.i,d.e,h.f,d.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](32,638976,null,0,p.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](33,0,null,null,3,"app-textboxnumeric",[["class","no-label"],["fxFlex","60%"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.apDungMiemGiamThem.SoTien=e)&&t),t}),f.b,f.a)),t["\u0275did"](34,671744,null,0,h.a,[t.ElementRef,d.i,d.e,h.f,d.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](35,4833280,null,0,C.a,[],{required:[0,"required"],model:[1,"model"],disabled:[2,"disabled"],validationerror:[3,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,x.a,[]),(n()(),t["\u0275eld"](37,0,null,null,2,"label",[["class","red"],["fxFlex","10%"]],null,null,null,null,null)),t["\u0275did"](38,671744,null,0,h.a,[t.ElementRef,d.i,d.e,h.f,d.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275ted"](-1,null,["(*)"])),(n()(),t["\u0275eld"](40,0,null,null,3,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](41,0,null,null,2,"td",[["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](42,0,null,null,1,"app-textarea",[["id","ghichu"],["label","Ghi chu\u0301"],["maxlength","2000"],["minHeight","60"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.apDungMiemGiamThem.GhiChu=e)&&t),t}),S.b,S.a)),t["\u0275did"](43,245760,null,0,b.a,[c.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],model:[3,"model"],minHeight:[4,"minHeight"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](44,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"]],null,null,null,null,null)),t["\u0275did"](45,1720320,null,0,h.d,[t.ElementRef,t.NgZone,y.b,d.i,[2,h.h],d.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](46,671744,null,0,h.b,[t.ElementRef,d.i,[2,h.g],d.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](47,16384,null,0,c.f,[],null,null),(n()(),t["\u0275eld"](48,0,null,null,3,"button",[["mat-button",""],["mat-dialog-close",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,e){var i=!0,a=n.component;return"click"===l&&(i=!1!==t["\u0275nov"](n,50).dialogRef.close(t["\u0275nov"](n,50).dialogResult)&&i),"click"===l&&(i=!1!==a.HuyApDungMGT()&&i),i}),i.d,i.b)),t["\u0275did"](49,180224,null,0,a.b,[t.ElementRef,o.g,[2,u.a]],null,null),t["\u0275did"](50,606208,null,0,c.g,[[2,c.l],t.ElementRef,c.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t["\u0275ted"](-1,0,["Hu\u0309y"])),(n()(),t["\u0275and"](16777216,null,null,1,null,M)),t["\u0275did"](53,16384,null,0,D.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,1,0,"row"),n(l,2,0,"space-between center"),n(l,3,0),n(l,9,0),n(l,10,0,e.icClose),n(l,14,0,"row"),n(l,19,0,"30%"),n(l,20,0,"phan-tram","%",e.apDungMiemGiamThem.ChietKhauTheoTiLe),n(l,22,0,"60%"),n(l,23,0,"",!0,e.apDungMiemGiamThem.TiLe,e.disablePhanTram,t["\u0275unv"](l,23,4,t["\u0275nov"](l,24).transform("TiLe",e.validationErrors)),"0","100"),n(l,26,0,"10%"),n(l,31,0,"30%"),n(l,32,0,"so-tien","Ti\xea\u0300n",e.apDungMiemGiamThem.ChietKhauTheoSoTien),n(l,34,0,"60%"),n(l,35,0,!0,e.apDungMiemGiamThem.SoTien,e.disableSoTien,t["\u0275unv"](l,35,3,t["\u0275nov"](l,36).transform("SoTien",e.validationErrors))),n(l,38,0,"10%"),n(l,43,0,"ghichu","Ghi chu\u0301","2000",e.apDungMiemGiamThem.GhiChu,"60"),n(l,45,0,"8px"),n(l,46,0,"end center"),n(l,50,0,""),n(l,53,0,e.apDungMiemGiamThem.ChietKhauTheoTiLe||e.apDungMiemGiamThem.ChietKhauTheoSoTien)}),(function(n,l){n(l,0,0,t["\u0275nov"](l,3).id),n(l,6,0,t["\u0275nov"](l,7).disabled||null,"NoopAnimations"===t["\u0275nov"](l,7)._animationMode),n(l,8,0,t["\u0275nov"](l,9).inline,"primary"!==t["\u0275nov"](l,9).color&&"accent"!==t["\u0275nov"](l,9).color&&"warn"!==t["\u0275nov"](l,9).color,t["\u0275nov"](l,10).inline,t["\u0275nov"](l,10).size,t["\u0275nov"](l,10).iconHTML),n(l,48,0,t["\u0275nov"](l,49).disabled||null,"NoopAnimations"===t["\u0275nov"](l,49)._animationMode,t["\u0275nov"](l,50).ariaLabel||null,t["\u0275nov"](l,50).type)}))}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-ap-dung-miem-giam-them-popup",[],null,null,null,L,N)),t["\u0275did"](1,114688,null,0,v.a,[c.a,g.b,t.ChangeDetectorRef,c.l],null,null)],(function(n,l){n(l,1,0)}),null)}var G=t["\u0275ccf"]("app-ap-dung-miem-giam-them-popup",v.a,P,{},{},[])},"45ka":function(n,l,e){"use strict";var t=e("8Y7J"),i=e("m4FZ"),a=e("rd4Z"),o=e("0MWk"),u=e("Ex7W"),h=e("SVse"),d=e("A5bt"),c=e("VDRc"),s=e("/q54"),r=e("QbaE"),T=e("TXUA"),g=e("bujt"),m=e("Fwaw"),p=e("5GAg"),f=e("omvX"),C=e("s6ns"),x=e("Mr+X"),S=e("Gi4r"),b=e("l+Q0"),y=e("cUpR"),D=e("63sk"),v=e("0GlS"),N=e("IP0z"),M=e("IA+W"),L=e("Y4+Y");e.d(l,"a",(function(){return Q}));var P=t["\u0275crt"]({encapsulation:0,styles:[[".container-iframe[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-bottom:100%;background:#ebeced}.container-iframe[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}height_table[_ngcontent-%COMP%]{height:60px!important}"]],data:{}});function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"td",[["class","no-border-bottom pb-0"],["colspan","3"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0110\u1ed1i t\u01b0\u1ee3ng: "])),(n()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""]))],null,(function(n,l){n(l,4,0,l.parent.context.$implicit.DoiTuongUuDai)}))}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,14,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"td",[["style","width: 31%;"],["width","140px"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,4,"app-radio",[["class","no-format-css p-0"]],null,null,null,i.b,i.a)),t["\u0275did"](3,114688,null,0,a.a,[],{model:[0,"model"],items:[1,"items"],disabled:[2,"disabled"]},null),t["\u0275pod"](4,{Value:0,Text:1}),t["\u0275pod"](5,{Value:0,Text:1}),t["\u0275pad"](6,2),(n()(),t["\u0275eld"](7,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,1,"app-textboxnumeric",[["class","no-label p-0"],["label"," "],["max","100"],["min","0"]],null,null,null,o.b,o.a)),t["\u0275did"](9,4833280,null,0,u.a,[],{label:[0,"label"],model:[1,"model"],disabled:[2,"disabled"],min:[3,"min"],max:[4,"max"]},null),(n()(),t["\u0275eld"](10,0,null,null,4,"td",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["= "])),(n()(),t["\u0275eld"](12,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](13,null,["",""])),t["\u0275ppd"](14,3)],(function(n,l){var e=l.parent.context.$implicit.LoaiChietKhau,t=n(l,6,0,n(l,4,0,2,"Ti\xea\u0300n"),n(l,5,0,1,"%"));n(l,3,0,e,t,!0),n(l,9,0," ",l.parent.context.$implicit.TiLe,!0,"0","100")}),(function(n,l){var e=t["\u0275unv"](l,13,0,n(l,14,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.TongTienMiemGiam,"0.2-2","vi-VN"));n(l,13,0,e)}))}function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](2,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](4,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,2,0,1===l.context.$implicit.LoaiMienGiam),n(l,4,0,1===l.context.$implicit.LoaiMienGiam)}),null)}function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"td",[["class","no-border-bottom pb-0"],["colspan","3"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Voucher: "])),(n()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""]))],null,(function(n,l){n(l,4,0,l.parent.context.$implicit.MaTheVoucher)}))}function k(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"td",[["class","no-border-bottom pb-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-textboxnumeric",[["class","no-label p-0"],["label"," "],["max","100"],["min","0"]],null,null,null,o.b,o.a)),t["\u0275did"](2,4833280,null,0,u.a,[],{label:[0,"label"],model:[1,"model"],disabled:[2,"disabled"],min:[3,"min"],max:[4,"max"]},null)],(function(n,l){n(l,2,0," ",l.parent.parent.context.$implicit.TiLe,!0,"0","100")}),null)}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"td",[["class","no-border-bottom pb-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"app-textboxnumeric",[["class","no-label p-0"],["label"," "],["max","999999"],["min","0"]],null,null,null,o.b,o.a)),t["\u0275did"](2,4833280,null,0,u.a,[],{label:[0,"label"],model:[1,"model"],disabled:[2,"disabled"],min:[3,"min"],max:[4,"max"]},null)],(function(n,l){n(l,2,0," ",l.parent.parent.context.$implicit.SoTien,!0,"0","999999")}),null)}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,15,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"td",[["class","no-border-bottom pb-0"],["style","width: 31%;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,4,"app-radio",[["class","no-format-css p-0"]],null,null,null,i.b,i.a)),t["\u0275did"](3,114688,null,0,a.a,[],{model:[0,"model"],items:[1,"items"],disabled:[2,"disabled"]},null),t["\u0275pod"](4,{Value:0,Text:1}),t["\u0275pod"](5,{Value:0,Text:1}),t["\u0275pad"](6,2),(n()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](8,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](10,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](11,0,null,null,4,"td",[["class","no-border-bottom pb-0"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["= "])),(n()(),t["\u0275eld"](13,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](14,null,["",""])),t["\u0275ppd"](15,3)],(function(n,l){var e=l.parent.context.$implicit.LoaiChietKhau,t=n(l,6,0,n(l,4,0,2,"Ti\xea\u0300n"),n(l,5,0,1,"%"));n(l,3,0,e,t,!0),n(l,8,0,2===l.parent.context.$implicit.LoaiMienGiam&&1===l.parent.context.$implicit.LoaiChietKhau),n(l,10,0,2===l.parent.context.$implicit.LoaiMienGiam&&2===l.parent.context.$implicit.LoaiChietKhau)}),(function(n,l){var e=t["\u0275unv"](l,14,0,n(l,15,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.TongTienMiemGiam,"0.2-2","vi-VN"));n(l,14,0,e)}))}function K(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](2,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](4,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,2,0,2===l.context.$implicit.LoaiMienGiam),n(l,4,0,2===l.context.$implicit.LoaiMienGiam)}),null)}function F(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"td",[["class","no-border-bottom"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"app-checkbox",[["fxFlex","40%"],["id","phan-tram"],["label","%"],["value","1"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.disableInputPhanTram=e)&&t),"modelChange"===l&&(t=!1!==i.apDungPhanTram(e,n.parent.context.$implicit)&&t),t}),d.b,d.a)),t["\u0275did"](3,671744,null,0,c.a,[t.ElementRef,s.i,s.e,c.f,s.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](4,638976,null,0,r.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](5,0,null,null,3,"td",[["class","no-border-bottom"],["style","width: 1200px;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,2,"app-textboxnumeric",[["class","no-label p-0"],["label"," "],["max","100"],["min","0"],["style","width: 1200px;"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(n.parent.context.$implicit.TiLe=e)&&t),"modelChange"===l&&(t=!1!==i.changePhanTram(e,n.parent.context.$implicit)&&t),t}),o.b,o.a)),t["\u0275did"](7,4833280,null,0,u.a,[],{label:[0,"label"],model:[1,"model"],disabled:[2,"disabled"],validationerror:[3,"validationerror"],min:[4,"min"],max:[5,"max"]},{modelChange:"modelChange"}),t["\u0275pid"](0,T.a,[]),(n()(),t["\u0275eld"](9,0,null,null,4,"td",[["class","no-border-bottom"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["= "])),(n()(),t["\u0275eld"](11,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](12,null,["",""])),t["\u0275ppd"](13,3)],(function(n,l){var e=l.component;n(l,3,0,"40%"),n(l,4,0,"phan-tram","%",e.disableInputPhanTram),n(l,7,0," ",l.parent.context.$implicit.TiLe,!e.disableInputPhanTram,t["\u0275unv"](l,7,3,t["\u0275nov"](l,8).transform("TiLe",e.validationErrors)),"0","100")}),(function(n,l){var e=t["\u0275unv"](l,12,0,n(l,13,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.TongTienMiemGiam,"0.2-2","vi-VN"));n(l,12,0,e)}))}function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"td",[["class","no-border-bottom pb-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"app-checkbox",[["fxFlex","40%"],["id","so-tien"],["label","Ti\xea\u0300n"],["value","1"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.disableInputSoTien=e)&&t),"modelChange"===l&&(t=!1!==i.apDungSoTien(e,n.parent.context.$implicit)&&t),t}),d.b,d.a)),t["\u0275did"](3,671744,null,0,c.a,[t.ElementRef,s.i,s.e,c.f,s.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](4,638976,null,0,r.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](5,0,null,null,3,"td",[["class","no-border-bottom pb-0"],["style","width: 1200px;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,2,"app-textboxnumeric",[["class","no-label p-0"],["label",""],["max","99999999"],["min","0"],["style","width: 1200px;"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(n.parent.context.$implicit.SoTien=e)&&t),"modelChange"===l&&(t=!1!==i.changeSoTien(e,n.parent.context.$implicit)&&t),t}),o.b,o.a)),t["\u0275did"](7,4833280,null,0,u.a,[],{label:[0,"label"],model:[1,"model"],disabled:[2,"disabled"],validationerror:[3,"validationerror"],min:[4,"min"],max:[5,"max"]},{modelChange:"modelChange"}),t["\u0275pid"](0,T.a,[]),(n()(),t["\u0275eld"](9,0,null,null,4,"td",[["class","no-border-bottom pb-0"],["style","width: 500px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["= "])),(n()(),t["\u0275eld"](11,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](12,null,["",""])),t["\u0275ppd"](13,3)],(function(n,l){var e=l.component;n(l,3,0,"40%"),n(l,4,0,"so-tien","Ti\xea\u0300n",e.disableInputSoTien),n(l,7,0,"",l.parent.context.$implicit.SoTien,!e.disableInputSoTien,t["\u0275unv"](l,7,3,t["\u0275nov"](l,8).transform("SoTien",e.validationErrors)),"0","99999999")}),(function(n,l){var e=t["\u0275unv"](l,12,0,n(l,13,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.TongTienMiemGiam,"0.2-2","vi-VN"));n(l,12,0,e)}))}function B(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](2,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,V)),t["\u0275did"](4,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,2,0,3===l.context.$implicit.LoaiMienGiam&&1===l.context.$implicit.LoaiChietKhau),n(l,4,0,3===l.context.$implicit.LoaiMienGiam&&2===l.context.$implicit.LoaiChietKhau)}),null)}function q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["cdkFocusInitial",""],["color","primary"],["mat-button",""],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ApDungMGT()&&t),t}),g.d,g.b)),t["\u0275did"](1,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["A\u0301p du\u0323ng"]))],(function(n,l){n(l,1,0,"primary")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode)}))}function A(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](2,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,e.disableInputPhanTram||e.disableInputSoTien||e.kiemTraThayDoiSoTienTiLe)}),null)}function O(n){return t["\u0275vid"](0,[t["\u0275pid"](0,h.g,[t.LOCALE_ID]),(n()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](2,671744,null,0,c.c,[t.ElementRef,s.i,[2,c.i],s.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](3,671744,null,0,c.b,[t.ElementRef,s.i,[2,c.g],s.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,81920,null,0,C.m,[[2,C.l],t.ElementRef,C.e],null,null),(n()(),t["\u0275eld"](5,0,null,null,3,"div",[["style","font: 500 18px/26px var(--font)"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Mi\xea\u0303n gia\u0309m di\u0323ch vu\u0323: "])),(n()(),t["\u0275eld"](7,0,null,null,1,"strong",[["style","color: green;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),(n()(),t["\u0275eld"](9,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close()&&t),t}),g.d,g.b)),t["\u0275did"](10,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],null,null),(n()(),t["\u0275eld"](11,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,x.b,x.a)),t["\u0275did"](12,9158656,null,0,S.b,[t.ElementRef,S.d,[8,null],[2,S.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](13,606208,null,0,b.a,[y.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](14,0,null,null,31,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),t["\u0275did"](15,16384,null,0,C.j,[],null,null),(n()(),t["\u0275eld"](16,0,null,null,29,"div",[["fxLayout","row"],["width","100%"]],null,null,null,null,null)),t["\u0275did"](17,671744,null,0,c.c,[t.ElementRef,s.i,[2,c.i],s.f],{fxLayout:[0,"fxLayout"]},null),(n()(),t["\u0275eld"](18,0,null,null,27,"table",[["class","table table-border"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,6,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](20,0,null,null,1,"td",[["align","right"],["colspan","2"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["S\xf4\u0301 ti\xea\u0300n tr\u01b0\u01a1\u0301c mi\xea\u0303n gia\u0309m :"])),(n()(),t["\u0275eld"](22,0,null,null,3,"td",[],null,null,null,null,null)),(n()(),t["\u0275eld"](23,0,null,null,2,"strong",[["style","color: blue;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](24,null,["",""])),t["\u0275ppd"](25,3),(n()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](27,278528,null,0,h.o,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](29,278528,null,0,h.o,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](30,0,null,null,2,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](31,0,null,null,1,"td",[["class","no-border-bottom pb-0"],["colspan","3"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["MG th\xeam:"])),(n()(),t["\u0275and"](16777216,null,null,1,null,B)),t["\u0275did"](34,278528,null,0,h.o,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](35,0,null,null,6,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](36,0,null,null,1,"td",[["align","right"],["colspan","2"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\u1ed5ng c\u1ed9ng MG :"])),(n()(),t["\u0275eld"](38,0,null,null,3,"td",[],null,null,null,null,null)),(n()(),t["\u0275eld"](39,0,null,null,2,"strong",[["style","color: red;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](40,null,["",""])),t["\u0275ppd"](41,3),(n()(),t["\u0275eld"](42,0,null,null,3,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](43,0,null,null,2,"td",[["colspan","3"]],null,null,null,null,null)),(n()(),t["\u0275eld"](44,0,null,null,1,"app-textarea",[["label","Ghi chu\u0301"],["maxlength","2000"],["minHeight","60"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.data.dataItem.GhiChuMienGiamThem=e)&&t),t}),D.b,D.a)),t["\u0275did"](45,245760,null,0,v.a,[C.e],{label:[0,"label"],maxlength:[1,"maxlength"],model:[2,"model"],minHeight:[3,"minHeight"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](46,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"]],null,null,null,null,null)),t["\u0275did"](47,1720320,null,0,c.d,[t.ElementRef,t.NgZone,N.b,s.i,[2,c.h],s.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](48,671744,null,0,c.b,[t.ElementRef,s.i,[2,c.g],s.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](49,16384,null,0,C.f,[],null,null),(n()(),t["\u0275eld"](50,0,null,null,3,"button",[["mat-button",""],["mat-dialog-close",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,e){var i=!0,a=n.component;return"click"===l&&(i=!1!==t["\u0275nov"](n,52).dialogRef.close(t["\u0275nov"](n,52).dialogResult)&&i),"click"===l&&(i=!1!==a.HuyApDungMGT()&&i),i}),g.d,g.b)),t["\u0275did"](51,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],null,null),t["\u0275did"](52,606208,null,0,C.g,[[2,C.l],t.ElementRef,C.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t["\u0275ted"](-1,0,["Hu\u0309y"])),(n()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](55,16384,null,0,h.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,4,0),n(l,12,0),n(l,13,0,e.icClose),n(l,17,0,"row"),n(l,27,0,e.danhSachChiPhi.DanhSachMienGiamVos),n(l,29,0,e.danhSachChiPhi.DanhSachMienGiamVos),n(l,34,0,e.danhSachChiPhi.DanhSachMienGiamVos),n(l,45,0,"Ghi chu\u0301","2000",e.data.dataItem.GhiChuMienGiamThem,"60"),n(l,47,0,"8px"),n(l,48,0,"end center"),n(l,52,0,""),n(l,55,0,e.tongTienTungDichVu>0)}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).id),n(l,8,0,e.tenDichVu),n(l,9,0,t["\u0275nov"](l,10).disabled||null,"NoopAnimations"===t["\u0275nov"](l,10)._animationMode),n(l,11,0,t["\u0275nov"](l,12).inline,"primary"!==t["\u0275nov"](l,12).color&&"accent"!==t["\u0275nov"](l,12).color&&"warn"!==t["\u0275nov"](l,12).color,t["\u0275nov"](l,13).inline,t["\u0275nov"](l,13).size,t["\u0275nov"](l,13).iconHTML);var i=t["\u0275unv"](l,24,0,n(l,25,0,t["\u0275nov"](l,0),e.tongTienTungDichVu,"0.2-2","vi-VN"));n(l,24,0,i);var a=t["\u0275unv"](l,40,0,n(l,41,0,t["\u0275nov"](l,0),e.tongTatCaSoTienMg,"0.2-2","vi-VN"));n(l,40,0,a),n(l,50,0,t["\u0275nov"](l,51).disabled||null,"NoopAnimations"===t["\u0275nov"](l,51)._animationMode,t["\u0275nov"](l,52).ariaLabel||null,t["\u0275nov"](l,52).type)}))}function _(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-ap-dung-miem-giam-cho-tung-loai-thuoc-popup",[],null,null,null,O,P)),t["\u0275did"](1,114688,null,0,M.a,[C.a,y.b,L.a,C.l,t.ChangeDetectorRef],null,null)],(function(n,l){n(l,1,0)}),null)}var Q=t["\u0275ccf"]("app-ap-dung-miem-giam-cho-tung-loai-thuoc-popup",M.a,_,{},{},[])},"4hd2":function(n,l){l.__esModule=!0,l.default={body:'<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" fill="currentColor"/>',width:24,height:24}},"5ghv":function(n,l){l.__esModule=!0,l.default={body:'<path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" fill="currentColor"/>',width:24,height:24}},"5tDl":function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("FIHo");class i{constructor(n,l){this.route=n,this.apiService=l,this.data={}}ngOnInit(){null==this.benhnhanThongTin&&(this.benhnhanThongTin=new t.b),null!=this.MaBN&&this.GetThongTinBenhNhan(this.MaBN)}GetThongTinBenhNhan(n){this.apiService.post("QuayThuoc/GetThongTinBenhNhan1?maBN="+n).subscribe(n=>{this.data=n},()=>{})}}},"60aS":function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("FIHo");class i{constructor(n,l){this.dialogRef=n,this.dataItem=l,this.Title=null,this.thongTin=new t.c,this.thongTin.TaiKhoanBenhNhanThuId=l.Model.TaiKhoanBenhNhanThuId,this.Title=l.Title}ngOnInit(){}close(n){this.thongTin.Response=n,this.dialogRef.close(this.thongTin)}}},"67gF":function(n,l,e){"use strict";var t=e("8Y7J"),i=e("uShY"),a=e("7OI1"),o=e("teW0"),u=e("7dP1"),h=e("iInd"),d=e("Y4+Y"),c=e("s7LF"),s=e("s6ns"),r=e("SVse"),T=e("VDRc"),g=e("/q54"),m=e("IP0z"),p=e("Dnqu"),f=e("QDH1"),C=e("yg3i"),x=e("C8zy"),S=e("bujt"),b=e("Fwaw"),y=e("5GAg"),D=e("omvX"),v=e("/sr0"),N=e("ZuBe"),M=e("uwSD"),L=e("KNdO"),P=e("Z998"),G=e("C0s9"),I=e("biCn"),R=e("5tDl"),w=e("qc5V"),k=e("7S5k");e.d(l,"a",(function(){return O}));var H=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-grid",[],null,null,null,i.b,i.a)),t["\u0275did"](1,1818624,[[1,4]],0,a.a,[o.a,u.a,h.o,d.a,t.ChangeDetectorRef,c.g,s.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],searchString:[1,"searchString"],useHeaderDefault:[2,"useHeaderDefault"],useActionDefault:[3,"useActionDefault"],pageable:[4,"pageable"],autoHeight:[5,"autoHeight"],lazyLoadPage:[6,"lazyLoadPage"],useAddDeault:[7,"useAddDeault"],checkboxAble:[8,"checkboxAble"],urlGetData:[9,"urlGetData"],urlGetTotalPage:[10,"urlGetTotalPage"]},null)],(function(n,l){var e=l.component;n(l,1,1,[e.gridChildColumns,t["\u0275inlineInterpolate"](1,"",l.context.$implicit.Id,""),!1,!1,!1,!0,!0,!1,!1,e.urlGetDataGridChild1,e.urlGetTotalPageGridChild1])}),null)}function K(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["D\u01b0\u1ee3c ph\u1ea9m ngo\xe0i b\u1ec7nh vi\u1ec7n"]))],null,null)}function F(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color:blue"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["D\u01b0\u1ee3c ph\u1ea9m trong b\u1ec7nh vi\u1ec7n"]))],null,null)}function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](1,16384,null,0,r.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](3,16384,null,0,r.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,0==l.context.$implicit.LaDuocPhamBenhVien),n(l,3,0,1==l.context.$implicit.LaDuocPhamBenhVien)}),null)}function B(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,19,"div",[["class","px-2 py-3"],["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,T.c,[t.ElementRef,g.i,[2,T.i],g.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](2,1720320,null,0,T.d,[t.ElementRef,t.NgZone,m.b,g.i,[2,T.h],g.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](3,0,null,null,2,"app-textbox",[["fxFlex","20%"],["fxFlex.sm","40%"],["id","DVKhamHienThi"],["label","DV Kh\xe1m"],["maxlength","4000"],["style","padding-left: 10px;"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.timKiemToaThuocCu.DVKhamHienThi=e)&&t),"keyup"===l&&(t=!1!==i.onKey(e)&&t),t}),p.b,p.a)),t["\u0275did"](4,671744,null,0,T.a,[t.ElementRef,g.i,g.e,T.f,g.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](5,4833280,null,0,f.a,[t.ChangeDetectorRef,s.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],model:[3,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](6,0,null,null,2,"app-textbox",[["fxFlex","20%"],["fxFlex.sm","40%"],["id","ChuanDoan"],["label","Ch\u1ea9n \u0111o\xe1n"],["maxlength","4000"],["style","padding-left: 10px;"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.timKiemToaThuocCu.ChuanDoan=e)&&t),"keyup"===l&&(t=!1!==i.onKey(e)&&t),t}),p.b,p.a)),t["\u0275did"](7,671744,null,0,T.a,[t.ElementRef,g.i,g.e,T.f,g.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](8,4833280,null,0,f.a,[t.ChangeDetectorRef,s.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],model:[3,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](9,0,null,null,2,"app-textbox",[["fxFlex","20%"],["fxFlex.sm","40%"],["id","BSKham"],["label","BS Kh\xe1m"],["maxlength","4000"],["style","padding-left: 10px;"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.timKiemToaThuocCu.BSKham=e)&&t),"keyup"===l&&(t=!1!==i.onKey(e)&&t),t}),p.b,p.a)),t["\u0275did"](10,671744,null,0,T.a,[t.ElementRef,g.i,g.e,T.f,g.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](11,4833280,null,0,f.a,[t.ChangeDetectorRef,s.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],model:[3,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](12,0,null,null,2,"app-daterangepicker",[["fxFlex","20%"],["fxFlex.sm","20%"],["id","Daterange"],["label","T\u1eeb ng\xe0y - \u0110\u1ebfn ng\xe0y"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.timKiemToaThuocCu.RangeDate=e)&&t),"keyup"===l&&(t=!1!==i.onKey3(e)&&t),"modelChange"===l&&(t=!1!==i.changRange(e)&&t),t}),C.b,C.a)),t["\u0275did"](13,671744,null,0,T.a,[t.ElementRef,g.i,g.e,T.f,g.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](14,1687552,null,0,x.a,[t.Injector],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](15,0,null,null,4,"div",[["class","mt-5"],["fxFlex","15%"]],null,null,null,null,null)),t["\u0275did"](16,671744,null,0,T.a,[t.ElementRef,g.i,g.e,T.f,g.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](17,0,null,null,2,"button",[["class","mr-1"],["color","primary"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.TimKiem()&&t),t}),S.d,S.b)),t["\u0275did"](18,180224,null,0,b.b,[t.ElementRef,y.g,[2,D.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["T\xecm ki\u1ebfm"]))],(function(n,l){var e=l.component;n(l,1,0,"row wrap","column"),n(l,2,0,"16px grid","0"),n(l,4,0,"20%","40%"),n(l,5,0,"DVKhamHienThi","DV Kh\xe1m","4000",e.timKiemToaThuocCu.DVKhamHienThi),n(l,7,0,"20%","40%"),n(l,8,0,"ChuanDoan","Ch\u1ea9n \u0111o\xe1n","4000",e.timKiemToaThuocCu.ChuanDoan),n(l,10,0,"20%","40%"),n(l,11,0,"BSKham","BS Kh\xe1m","4000",e.timKiemToaThuocCu.BSKham),n(l,13,0,"20%","20%"),n(l,14,0,"Daterange","T\u1eeb ng\xe0y - \u0110\u1ebfn ng\xe0y",e.timKiemToaThuocCu.RangeDate),n(l,16,0,"15%"),n(l,18,0,"primary")}),(function(n,l){n(l,17,0,t["\u0275nov"](l,18).disabled||null,"NoopAnimations"===t["\u0275nov"](l,18)._animationMode)}))}function q(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{gridChild:0}),t["\u0275qud"](402653184,2,{actionChiTietTemplate:0}),(n()(),t["\u0275eld"](2,0,null,null,43,"vex-page-layout",[["class","vex-page-layout"]],[[2,"vex-page-layout-card",null],[2,"vex-page-layout-simple",null]],null,null,v.b,v.a)),t["\u0275did"](3,49152,null,0,N.a,[],null,null),(n()(),t["\u0275eld"](4,0,null,0,9,"vex-page-layout-header",[["class","pb-16 vex-page-layout-header"],["fxLayout","column"],["fxLayoutAlign","center start"]],null,null,null,null,null)),t["\u0275did"](5,16384,null,0,M.a,[],null,null),t["\u0275did"](6,671744,null,0,T.c,[t.ElementRef,g.i,[2,T.i],g.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](7,671744,null,0,T.b,[t.ElementRef,g.i,[2,T.g],g.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](8,0,null,null,5,"div",[["class","w-full flex justify-between"]],[[2,"px-gutter",null]],null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,4,"vex-breadcrumbs",[],null,null,null,L.b,L.a)),t["\u0275did"](10,114688,null,0,P.a,[],{crumbs:[0,"crumbs"]},null),t["\u0275pod"](11,{Title:0,Path:1}),t["\u0275pod"](12,{Title:0,Path:1,Active:2}),t["\u0275pad"](13,2),(n()(),t["\u0275eld"](14,0,null,0,31,"vex-page-layout-content",[["class","-mt-6 vex-page-layout-content"]],[[2,"px-gutter",null]],null,null,null,null)),t["\u0275did"](15,16384,null,0,G.a,[],null,null),(n()(),t["\u0275eld"](16,0,null,null,29,"div",[["class","-mt-16"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,28,"div",[["fxLayout","row"],["fxLayout.lt-md","column"],["fxLayoutGap","20px"]],null,null,null,null,null)),t["\u0275did"](18,671744,null,0,T.c,[t.ElementRef,g.i,[2,T.i],g.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-md":[1,"fxLayout.lt-md"]},null),t["\u0275did"](19,1720320,null,0,T.d,[t.ElementRef,t.NgZone,m.b,g.i,[2,T.h],g.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(n()(),t["\u0275eld"](20,0,null,null,25,"div",[["class","card"],["fxFlex","auto"]],null,null,null,null,null)),t["\u0275did"](21,671744,null,0,T.a,[t.ElementRef,g.i,g.e,T.f,g.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](22,0,null,null,23,"div",[["class","card"],["fxFlex","auto"]],null,null,null,null,null)),t["\u0275did"](23,671744,null,0,T.a,[t.ElementRef,g.i,g.e,T.f,g.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](24,0,null,null,21,"div",[["class","px-6 py-4"],["fxLayout","column"],["style","position: relative;"]],null,null,null,null,null)),t["\u0275did"](25,671744,null,0,T.c,[t.ElementRef,g.i,[2,T.i],g.f],{fxLayout:[0,"fxLayout"]},null),(n()(),t["\u0275eld"](26,0,null,null,1,"app-quay-thuoc-thong-tin-hanh-chinh",[],null,null,null,I.b,I.a)),t["\u0275did"](27,114688,null,0,R.a,[h.a,w.a],{MaBN:[0,"MaBN"]},null),(n()(),t["\u0275eld"](28,0,null,null,2,"h4",[["class","sub-title"],["fxFlex","100%"],["style","font-weight: bold;"]],null,null,null,null,null)),t["\u0275did"](29,671744,null,0,T.a,[t.ElementRef,g.i,g.e,T.f,g.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275ted"](-1,null,["Toa Thu\u1ed1c C\u0169"])),(n()(),t["\u0275eld"](31,0,null,null,1,"app-grid",[["heightToolbar","325"]],null,[[null,"extCheckboxSelection"]],(function(n,l,e){var t=!0;return"extCheckboxSelection"===l&&(t=!1!==n.component.extCheckboxSelection(e)&&t),t}),i.b,i.a)),t["\u0275did"](32,1818624,[[1,4]],0,a.a,[o.a,u.a,h.o,d.a,t.ChangeDetectorRef,c.g,s.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],headerTemplate:[1,"headerTemplate"],useHeaderDefault:[2,"useHeaderDefault"],useActionDefault:[3,"useActionDefault"],heightToolbar:[4,"heightToolbar"],lazyLoadPage:[5,"lazyLoadPage"],useAddDeault:[6,"useAddDeault"],detailTemplate:[7,"detailTemplate"],checkboxAble:[8,"checkboxAble"],urlGetData:[9,"urlGetData"],urlGetTotalPage:[10,"urlGetTotalPage"]},{extCheckboxSelection:"extCheckboxSelection"}),(n()(),t["\u0275and"](0,[["detailTemplate",2]],null,0,null,E)),(n()(),t["\u0275and"](0,[[2,2],["detailTemplateCT",2]],null,0,null,V)),(n()(),t["\u0275and"](0,[["headerTemplate",2]],null,0,null,B)),(n()(),t["\u0275eld"](36,0,null,null,9,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"]],null,null,null,null,null)),t["\u0275did"](37,671744,null,0,T.c,[t.ElementRef,g.i,[2,T.i],g.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](38,1720320,null,0,T.d,[t.ElementRef,t.NgZone,m.b,g.i,[2,T.h],g.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](39,671744,null,0,T.b,[t.ElementRef,g.i,[2,T.g],g.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](40,0,null,null,2,"button",[["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.Huy()&&t),t}),S.d,S.b)),t["\u0275did"](41,180224,null,0,b.b,[t.ElementRef,y.g,[2,D.a]],null,null),(n()(),t["\u0275ted"](-1,0,[" H\u1ee7y "])),(n()(),t["\u0275eld"](43,0,null,null,2,"button",[["color","primary"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ChonThuoc()&&t),t}),S.d,S.b)),t["\u0275did"](44,180224,null,0,b.b,[t.ElementRef,y.g,[2,D.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,[" Ch\u1ecdn "]))],(function(n,l){var e=l.component;n(l,6,0,"column"),n(l,7,0,"center start");var i=n(l,13,0,n(l,11,0,"Nh\xe0 Thu\u1ed1c","/nha-thuoc"),n(l,12,0,"Mua Toa C\u0169 ","",!0));n(l,10,0,i),n(l,18,0,"row","column"),n(l,19,0,"20px"),n(l,21,0,"auto"),n(l,23,0,"auto"),n(l,25,0,"column"),n(l,27,0,e.id),n(l,29,0,"100%"),n(l,32,1,[e.gridColumns,t["\u0275nov"](l,35),!1,!1,"325",!0,!1,t["\u0275nov"](l,33),!0,e.urlGetDataGridChild,e.urlGetTotalPageGridChild]),n(l,37,0,"row"),n(l,38,0,"8px"),n(l,39,0,"end center"),n(l,44,0,"primary")}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).isCard,t["\u0275nov"](l,3).isSimple),n(l,8,0,!0),n(l,14,0,!0),n(l,40,0,t["\u0275nov"](l,41).disabled||null,"NoopAnimations"===t["\u0275nov"](l,41)._animationMode),n(l,43,0,t["\u0275nov"](l,44).disabled||null,"NoopAnimations"===t["\u0275nov"](l,44)._animationMode)}))}function A(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-toa-thuoc-cu",[],null,null,null,q,H)),t["\u0275did"](1,114688,null,0,k.a,[h.a,h.o,d.a],null,null)],(function(n,l){n(l,1,0)}),null)}var O=t["\u0275ccf"]("app-quay-thuoc-toa-thuoc-cu",k.a,A,{},{},[])},"7S5k":function(n,l,e){"use strict";e.d(l,"a",(function(){return a}));var t=e("FIHo"),i=(e("7OI1"),e("iPKF"));class a{constructor(n,l,e){this.route=n,this.router=l,this.notificationService=e,this.id=this.route.snapshot.params.id,this.idSub=0,this.gridColumns=[],this.gridChildColumns=[],this.donThuocId=[],this.urlGetDataGridChild="QuayThuoc/GetDataForGridToaThuocCuAsync?tiepNhanId="+this.id,this.urlGetTotalPageGridChild="QuayThuoc/GetTotalPageForGridToaThuocCuAsync?tiepNhanId="+this.id,this.urlGetDataGridChild1="QuayThuoc/GetDataForGridChildAsync",this.urlGetTotalPageGridChild1="QuayThuoc/GetTotalPageForGridChildAsync"}ngOnInit(){this.idSub=this.route.snapshot.params.ttcheck,this.id=this.route.snapshot.params.id,this.timKiemToaThuocCu=new t.w,this.gridColumns=[{Field:"DVKham",Title:"DV Kh\xe1m",Width:200,Sortable:!0},{Field:"ChuanDoan",Title:"Ch\u1ea9n \u0111o\xe1n",MinWidth:120,Sortable:!0},{Field:"BacSiKham",Title:"BS Kh\xe1m",Width:150,Sortable:!0},{Field:"NgayKham",Title:"Ng\xe0y Kh\xe1m",Width:200,Sortable:!0}],this.gridChildColumns=[{Field:"TenThuoc",Title:"T\xean thu\u1ed1c",Width:200,Sortable:!0,LinkDetail:!1},{Field:"HoatChat",Title:"Ho\u1ea1t Ch\u1ea5t",MinWidth:200,Sortable:!0},{Field:"DVT",Title:"\u0110VT",Width:150,Sortable:!0},{Field:"SoLuong",Title:"S\u1ed1 l\u01b0\u1ee3ng",Width:100,Sortable:!0},{Field:"LaDuocPhamBenhVien",Title:"",Width:200,Template:this.actionChiTietTemplate}]}onKey(n){"Enter"==n.key&&this.TimKiem()}ConvertDateTime(n){var l=new Date(n),e=l.getFullYear(),t=parseInt(String(l.getMonth()))+1,i=t<10?"0"+t:t,a=parseInt(String(l.getDate()));return e+"-"+i+"-"+(a<10?"0"+a:a)}TimKiem(){let n=null,l=null,e=null,t=null,a=null;null!=this.timKiemToaThuocCu.DVKhamHienThi&&(n='"'+this.timKiemToaThuocCu.DVKhamHienThi+'"'),null!=this.timKiemToaThuocCu.ChuanDoan&&(l='"'+this.timKiemToaThuocCu.ChuanDoan+'"'),null!=this.timKiemToaThuocCu.BSKham&&(e='"'+this.timKiemToaThuocCu.BSKham+'"'),null!=this.timKiemToaThuocCu.RangeDate.startDate&&(t='"'+i.a.formatDateTime(this.timKiemToaThuocCu.RangeDate.startDate,"mm/dd/yyyy")+'"'),null!=this.timKiemToaThuocCu.RangeDate.endDate&&(a='"'+i.a.formatDateTime(this.timKiemToaThuocCu.RangeDate.endDate,"mm/dd/yyyy")+'"'),this.gridChild._additionalSearchString='{"DVKham":'+n+',"ChuanDoan":'+l+',"BacSi":'+e+',"DateStart":'+t+',"DateEnd":'+a+"}",this.gridChild.search()}extCheckboxSelection(n){this.donThuocId=n}ChonThuoc(){0==this.donThuocId.length?this.notificationService.showError("B\u1ea1n ch\u01b0a ch\u1ecdn toa thu\u1ed1c."):this.router.navigate(["/nha-thuoc/khach-vang-lai"],{queryParams:{ToaThuoc:this.donThuocId,maBN:this.id,ttCheck:this.idSub}})}Huy(){this.router.navigate(["nha-thuoc"])}onKey3(n){}changRange(n){}}},DUNy:function(n,l,e){"use strict";e.d(l,"a",(function(){return o}));var t=e("FIHo"),i=e("pJhR"),a=e("PpHG");class o{constructor(n,l,e,i,a,o){this.route=n,this.notificationService=l,this.dialog=e,this.apiService=i,this.router=a,this.cdRef=o,this.tt=this.route.snapshot.params.tt,this.ttcheck=this.route.snapshot.params.ttcheck,this.apDungCongNoThuoc=!1,this.thongTinTam=[],this.viTri=0,this.tongTienBNThanhToan=0,this.apDungMienGiam=!1,this.flagAllowLoadThuoc=!0,this.xemTruocBangKeThuoc=new t.y,this.tabIndex=0}ngOnInit(){const n=this.route.snapshot.params.id,l=this.route.snapshot.params.idsub;this.benhnhanThongTin=new t.b,this.GetThongTinBenhNhan(l,n)}GetThongTinBenhNhan(n,l){this.apiService.post("QuayThuoc/GetThongTinBenhNhan?benhNhanId="+n+"&tiepNhanId="+l).subscribe(n=>{this.benhnhanThongTin=n},()=>{})}onTabSelect(n){this.tabIndex=n.index,this.flagAllowLoadThuoc=1!=n.index}Huy(){1==this.ttcheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttcheck,hoQuerysearch:!1}}),2==this.ttcheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttcheck,hoQuerysearch:!1}}),3==this.ttcheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttcheck,hoQuerysearch:!1}}),0==this.ttcheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttcheck,hoQuerysearch:!1}})}ngAfterViewChecked(){this.cdRef.detectChanges()}afterChangedCongNo(){this.cdRef.detectChanges(),this.apDungCongNoThuoc=!1}afterChangedMienGiam(){this.cdRef.detectChanges(),this.apDungMienGiam=!1}getBaoHiem(n){this.apDungCongNoThuoc=n.apDungCongNoThuoc,this.thongTinTam=n.thongTinTam,this.viTri=n.viTri}getMg(n){this.apDungMienGiam=n.apDungMienGiam,this.thongTinMienGiamVos=n.thongTinMienGiam}danhSachChuaThanhToan(n){let l=0;null!=n&&null!=n&&n.forEach(n=>{l+=n.BNConPhaiThanhToan}),this.tongTienBNThanhToan=l,this.xemTruocBangKeThuoc.DanhSachDonThuocs=n}changeTab(){this.tabQuayThuoc.selectTab(1),this.flagAllowLoadThuoc=!1}inXemTruocBangKeThuoc(){this.showPopupLoadingIn(),this.xemTruocBangKeThuoc.Hosting=window.location.protocol+"//"+window.location.host,this.xemTruocBangKeThuoc.YeuCauTiepNhanId=this.route.snapshot.params.id,void 0!==this.xemTruocBangKeThuoc.DanhSachDonThuocs||null!==this.xemTruocBangKeThuoc.DanhSachDonThuocs||0!==this.xemTruocBangKeThuoc.DanhSachDonThuocs.length?this.apiService.postExportPdf("QuayThuoc/XemTruocBangKeThuoc",this.xemTruocBangKeThuoc).subscribe(n=>{null!=n&&null!=n&&this.dialog.open(a.a,{disableClose:!0,width:"1000px",data:{Model:n}}).afterClosed().subscribe(()=>{this.closePopupLoadingData()})},n=>{this.closePopupLoadingData()}):this.notificationService.showError("Kh\xf4ng c\xf3 thu\u1ed1c v\xe0 v\u1eadt t\u01b0.")}showPopupLoadingIn(){this.dialog.open(i.a,{disableClose:!0,width:"250px",height:"90px",data:{Title:"\u0110ang loading..."}})}closePopupLoadingData(){this.dialog.closeAll()}keyEvent(n){83==n.keyCode&&n.ctrlKey&&(0==this.tabIndex&&this.quayThuocHinhThucThanhToan.ThuTien(),n.preventDefault()),112==n.keyCode&&n.ctrlKey&&(this.tabQuayThuoc.selectTab(0),n.preventDefault()),113==n.keyCode&&n.ctrlKey&&(this.tabQuayThuoc.selectTab(1),n.preventDefault()),27!=n.keyCode||n.ctrlKey||(this.Huy(),n.preventDefault())}}},FIHo:function(n,l,e){"use strict";e.d(l,"v",(function(){return t})),e.d(l,"b",(function(){return a})),e.d(l,"q",(function(){return o})),e.d(l,"o",(function(){return u})),e.d(l,"j",(function(){return h})),e.d(l,"w",(function(){return d})),e.d(l,"z",(function(){return c})),e.d(l,"p",(function(){return s})),e.d(l,"y",(function(){return r})),e.d(l,"s",(function(){return T})),e.d(l,"r",(function(){return g})),e.d(l,"e",(function(){return m})),e.d(l,"c",(function(){return p})),e.d(l,"f",(function(){return f})),e.d(l,"d",(function(){return C})),e.d(l,"h",(function(){return x})),e.d(l,"n",(function(){return S})),e.d(l,"a",(function(){return b})),e.d(l,"g",(function(){return y})),e.d(l,"k",(function(){return D})),e.d(l,"l",(function(){return v})),e.d(l,"t",(function(){return N})),e.d(l,"x",(function(){return M})),e.d(l,"u",(function(){return L})),e.d(l,"i",(function(){return P})),e.d(l,"m",(function(){return G}));class t{constructor(n=null,l=null,e=null,t=null,a=0,o=new i){this.MaBenhNhan=n,this.MaTiepNhan=l,this.HoTen=e,this.SoDienThoai=t,this.KiemTraThanhToan=a,this.RangeDate=o}}class i{constructor(n=null,l=null){this.startDate=n,this.endDate=l}}class a{constructor(n=null,l=null,e=null,t=null,i=null,a=null,o=null,u=null,h=null,d=null,c=null,s=0){this.Id=n,this.MaBN=l,this.MaYeuCauTiepNhan=e,this.HoTen=t,this.GioiTinh=i,this.GioiTinhHienThi=a,this.NamSinh=o,this.DiaChi=u,this.DiaChiDayDu=h,this.SoDienThoai=d,this.Email=c,this.SoDuTaiKhoan=s}}class o{constructor(n=null,l=null,e=null,t=null){this.MaBenhNhan=n,this.MaTiepNhan=l,this.YeuCauTiepNhanId=e,this.TrangThaiThanhToan=t}}class u{constructor(n="",l="",e="",t="",i="",a=0,o=50,u=50,h="",d="",c=[]){this.MaBenhNhan=n,this.MaTiepNhan=l,this.HoTen=e,this.SoDienThoai=t,this.KiemTraThanhToan=i,this.Skip=a,this.Take=o,this.PageSize=u,this.SearchString=h,this.AdditionalSearchString=d,this.Sort=c}}class h{constructor(n=0,l=null,e=1,t=1900,i=null,a=null,o=null,u=0,h=0,d=0,c=null,s=null,r=null,T=null,g=null,m=null,p=null){this.Id=n,this.HoTen=l,this.GioiTinh=e,this.NamSinh=t,this.DiaChi=i,this.DiaChiDayDu=a,this.SoDienThoai=o,this.TinhThanhId=u,this.QuanHuyenId=h,this.PhuongXaId=d,this.Email=c,this.GioiTinhHienThi=s,this.MaBN=r,this.MaTN=T,this.TenTinhDisplay=g,this.TenHuyenDisplay=m,this.TenPhuongDisplay=p}}class d{constructor(n=null,l=null,e=null,t=null,a=null,o=new i){this.DVKhamHienThi=n,this.DVKhamId=l,this.ChuanDoan=e,this.BSKham=t,this.BSId=a,this.RangeDate=o}}class c{constructor(n=0,l=[],e=[]){this.Id=n,this.ThuocBHYT=l,this.ThuocKhongBHYT=e}}class s{constructor(n=null,l=null,e=null,t=null){this.DuocPhamId=n,this.DuocPhamText=l,this.SoLuongTon=e,this.SoLuong=t}}class r{constructor(n=null,l=null,e=[]){this.YeuCauTiepNhanId=n,this.Hosting=l,this.DanhSachDonThuocs=e}}class T{constructor(n=null,l=null,e=null,t=null,i=null,a=null,o=null,u=null,h=null,d=null,c=null,s=null,r=null,T=null,g=null,m=null,p=null,f=null,C=null,x=null,S=null,b=!0,y=0,D=[],v=null,N=null,M=null,L=0,P=0,G=null,I=[],R=null,w=null,k=null,H=null,E=null){this.Id=n,this.STT=l,this.DuocPhamId=e,this.MaHoatChat=t,this.TenDuocPham=i,this.SoLuongTon=a,this.NhapKhoDuocPhamChiTietId=o,this.TenHoatChat=u,this.DonViTinh=h,this.SoLuongToa=d,this.SoLuongMua=c,this.ThanhTien=s,this.DonGiaHienThi=r,this.Solo=T,this.ViTri=g,this.HanSuDung=m,this.HanSuDungHientThi=p,this.BacSiKeToa=f,this.BacSiId=C,this.isNew=x,this.HighLightClass=S,this.CheckedDefault=b,this.BNConPhaiThanhToan=y,this.DanhSachCongNoChoThus=D,this.DonGia=v,this.ThanhTienHienThi=N,this.BNConPhaiThanhToanHienThi=M,this.LoaiDuocPhamHoacVatTu=L,this.LoaiDuocPhamHoacVatTu1=P,this.GhiChuMienGiamThem=G,this.DanhSachMienGiamVos=I,this.SoTienMG=R,this.DaThanhToan=w,this.TongCongNo=k,this.BHYTThanhToan=H,this.apdungMGTThanhCong=E}}class g{constructor(n=null,l=null,e=0,t=0,i=0,a=0,o=0,u=null,h=[],d=null,c=null,s=[],r=[],T=e+t+i){this.Id=n,this.HoTenBenhNhan=l,this.TienMat=e,this.ChuyenKhoan=t,this.POS=i,this.SoTienCongNo=a,this.BenhNhanDua=o,this.TienTraLai=u,this.HinhThucThanhToan=h,this.NgayThu=d,this.NoiDungThu=c,this.DanhSachCongNos=s,this.DanhSachDonThuocs=r,this.TongTien=T}}class m{constructor(n=null,l=null){this.CongTyCongNoId=n,this.SoTienCongNo=l}}class p{constructor(n=null,l=!1,e=!0,t=null,i=null){this.TaiKhoanBenhNhanThuId=n,this.InPhieuThu=l,this.InBangKe=e,this.Hosting=t,this.Response=i}}class f{constructor(n=[]){this.CongNoChoThus=n}}class C{constructor(n=0,l=null,e=0,t=0){this.CongNoId=n,this.TenCongTy=l,this.SoTienCongNoChoThu=e,this.ViTri=t}}class x{constructor(n=0,l=50,e=50,t="",i="",a=[]){this.Skip=n,this.Take=l,this.PageSize=e,this.SearchString=t,this.AdditionalSearchString=i,this.Sort=a}}class S{constructor(n=null,l=null,e=null,t=null,i=null,a=null,o=null,u=null,h=!1){this.MaBenhNhan=n,this.MaTiepNhan=l,this.HoTen=e,this.SoDienThoai=t,this.KiemTraThanhToan=i,this.DateStart=a,this.DateEnd=o,this.DateNow=u,this.DieuKienLoadVaoChiTiet=h}}class b{constructor(n=!1,l=!1,e=0,t=0,i=null){this.ChietKhauTheoTiLe=n,this.ChietKhauTheoSoTien=l,this.SoTien=e,this.TiLe=t,this.GhiChu=i}}class y{constructor(n=0,l=null,e=null,t=null,i=null,a=0,o=0,u=0,h=0,d=0,c=!1){this.LoaiMienGiam=n,this.DoiTuongUuDaiId=l,this.DoiTuongUuDai=e,this.TheVoucherId=t,this.MaTheVoucher=i,this.LoaiChietKhau=a,this.SoTien=o,this.TiLe=u,this.SoTienMiemGiamTatCa=h,this.TongTienMiemGiam=d,this.DaSuDung=c}}class D{constructor(){this.ChietKhauTheoTiLe=1,this.ChietKhauTheoSoTien=2}}class v{constructor(){this.UuDai=1,this.Voucher=2,this.MienGiamThem=3}}class N{constructor(n=null,l=null,e=null,t=null,i=null,a=null,o=null,u=null,h=null,d=null){this.SoPhieu=n,this.TenSoPhieu=l,this.TenPhieuThuChi=e,this.LoaiPhieuThuChiThuNgan=t,this.ThuHoiPhieu=i,this.NguoiThuHoiId=a,this.TenNguoiThuHoi=o,this.ThoiGianThuHoi=u,this.DaHoanUng=h,this.LyDo=d}}class M{constructor(){this.ThuTheoChiPhiNumber=1,this.ThuTheoChiPhi="Phi\u1ebfu thu",this.Huy="\u0110\xe3 h\u1ee7y"}}class L{constructor(n=null,l=null,e=null,t=null,i=null,a=null,o=null,u=null,h=null,d=null,c=null,s=null,r=null,T=null,g=null,m=null,p=null,f=null,C=null,x=null,S=null,b=null,y=null,D=null,v=[]){this.SoPhieuId=n,this.TenSoPhieu=l,this.LoaiPhieu=e,this.TinhTrang=t,this.SoTien=i,this.HinhThucThanhToan=a,this.TienMat=o,this.ChuyenKhoan=u,this.Pos=h,this.TongChiPhi=d,this.CongNo=c,this.BHYTThanhToan=s,this.MienGiam=r,this.BenhNhanThanhToan=T,this.SoTienPhaiThuHoacChi=g,this.LoaiPhieuThuChiThuNgan=m,this.SoPhieu=p,this.NgayThuStr=f,this.NoiDungThu=C,this.DaThuHoi=x,this.NguoiThuHoi=S,this.ConHanHuyPhieuThu=b,this.NhanVienHuyPhieu=y,this.NgayHuyStr=D,this.DanhSachThuPhis=v}}class P{constructor(n=null,l=null,e=null,t=null,i=null,a=null,o=null){this.TaiKhoanBenhNhanThuId=n,this.TenSoPhieu=l,this.ThuHoiPhieu=e,this.NguoiThuHoiId=t,this.TenNguoiThuHoi=i,this.ThoiGianThuHoi=a,this.LyDo=o}}class G{constructor(n=null){this.YeuCauTiepNhanId=n}}},GWPR:function(n,l,e){"use strict";e.d(l,"a",(function(){return o}));var t=e("5mnX"),i=e.n(t),a=e("FIHo");class o{constructor(n,l,e,t){this.data=n,this.sanitizer=l,this.cdRef=e,this.dialogRef=t,this.icClose=i.a,this.disablePhanTram=!0,this.disableSoTien=!0,this.apDungMiemGiamThem=new a.a}ngOnInit(){}apDungPhanTram(n){this.validationErrors=[],this.cdRef.detectChanges(),this.disablePhanTram=!n,this.apDungMiemGiamThem.TiLe=0}apDungSoTien(n){this.validationErrors=[],this.cdRef.detectChanges(),this.disableSoTien=!n,this.apDungMiemGiamThem.SoTien=0}replaceAll(n,l,e){return n.replace(new RegExp(l,"g"),e)}HuyApDungMGT(){this.dialogRef.close(null)}ApDungMGT(){if(this.validationErrors=[],this.cdRef.detectChanges(),!this.apDungMiemGiamThem.ChietKhauTheoTiLe||void 0!==this.apDungMiemGiamThem.TiLe&&0!==this.apDungMiemGiamThem.TiLe||this.validationErrors.push({Message:"Vui lo\u0300ng nh\xe2\u0323p ti\u0309 l\xea\u0323 mi\xea\u0303n gia\u0309m.",Field:"TiLe"}),!this.apDungMiemGiamThem.ChietKhauTheoSoTien||void 0!==this.apDungMiemGiamThem.SoTien&&0!==this.apDungMiemGiamThem.SoTien||this.validationErrors.push({Message:"Vui l\xf2ng nh\xe2\u0323p s\xf4\u0301 ti\xea\u0300n mi\xea\u0303n gia\u0309m.",Field:"SoTien"}),this.validationErrors.length>0)return!1;this.dialogRef.close(this.apDungMiemGiamThem),this.apDungMiemGiamThem.ChietKhauTheoTiLe||this.apDungMiemGiamThem.ChietKhauTheoSoTien||this.dialogRef.close(null)}close(){this.dialogRef.close(null)}}},"IA+W":function(n,l,e){"use strict";e.d(l,"a",(function(){return u}));var t=e("5mnX"),i=e.n(t),a=e("FIHo"),o=e("F/us");class u{constructor(n,l,e,t,o){this.data=n,this.sanitizer=l,this.notificationService=e,this.dialogRef=t,this.cdRef=o,this.icClose=i.a,this.maxSoTienMiemGiamThem=0,this.maxPhanTramMiemGiamThem=0,this.disablePhanTram=!1,this.disableSoTien=!1,this.disableInputPhanTram=!1,this.disableInputSoTien=!1,this.tenDichVu=null,this.tongTienTungDichVu=0,this.tongSoTienDuocMiemGiam=0,this.loaiMienGiam=new a.l,this.loaiChietKhau=new a.k,this.tongTatCaSoTienMg=0,this.danhSachMienGiamVos=[],this.isView=!1,this.format="n2",this.tiLeBanDau=0,this.soTienBanDau=0,this.kiemTraThayDoiSoTienTiLe=!1,this.firstApDungDauTien=!1,this.tamdanhSachChiPhi={},this.changeTien=!1}ngOnInit(){this.tamdanhSachChiPhi=JSON.parse(JSON.stringify(this.data.dataItem)),this.danhSachChiPhi=Object.assign({},this.data.dataItem),this.bindCheckboxMienGiamThem(this.data.dataItem),this.danhSachTam=JSON.parse(JSON.stringify(this.data.dataItem)),this.tongTienTungDichVu=this.soTienTruocKhiMiemGiam(),this.tongTienTungDichVu=this.tongTienTungDichVu<0?0:this.tongTienTungDichVu,null!=this.danhSachChiPhi.DanhSachMienGiamVos&&this.tinhSoTienMiemGiam(this.danhSachChiPhi),this.tenDichVu=this.data.dataItem.TenDichVu}resetLaiTongSoTienMG(){this.data.dataItem.DanhSachMienGiamVos.forEach(n=>{n.TongTienMiemGiam=0})}soTienTruocKhiMiemGiam(){let n=this.data.dataItem.DonGia*this.data.dataItem.SoLuongMua,l=0;return null!=this.data.dataItem.DanhSachCongNoChoThus&&this.data.dataItem.DanhSachCongNoChoThus.length>0&&this.data.dataItem.DanhSachCongNoChoThus.forEach(n=>{l+=n.SoTienCongNoChoThu}),n-l}changePhanTram(n,l){null!=n&&null!=n?l.TiLe=n:(l.TiLe=0,l.TongTienMiemGiam=0),this.tinhSoTienMiemGiamTiLe(this.danhSachChiPhi)}changeSoTien(n,l){null!=n&&null!=n?l.SoTien=n:(l.SoTien=0,l.TongTienMiemGiam=0),this.tinhSoTienMiemGiamSoTienMGT(this.danhSachChiPhi)}kiemTraTiLeVaSoTien(){this.data.dataItem.DanhSachMienGiamVos.forEach(n=>{3===n.LoaiMienGiam&&this.firstApDungDauTien&&n.TiLe===this.tiLeBanDau&&n.SoTien===this.soTienBanDau&&(this.kiemTraThayDoiSoTienTiLe=!0)})}apDungPhanTram(n,l){this.validationErrors=[],this.cdRef.detectChanges(),this.disableInputPhanTram=n,this.firstApDungDauTien=!0,this.kiemTraTiLeVaSoTien(),this.data.dataItem=Object.assign({},this.danhSachChiPhi),n||(l.TiLe=0,l.TongTienMiemGiam=0),this.tinhSoTienMiemGiamTiLe(this.danhSachChiPhi)}apDungSoTien(n,l){this.validationErrors=[],this.cdRef.detectChanges(),this.disableInputSoTien=n,this.firstApDungDauTien=!0,this.kiemTraTiLeVaSoTien(),this.data.dataItem=Object.assign({},this.danhSachChiPhi),n||(l.SoTien=0,l.TongTienMiemGiam=0),this.tinhSoTienMiemGiamSoTienMGT(this.danhSachChiPhi)}resetPhanTram(){this.data.dataItem.DanhSachMienGiamVos.forEach(n=>{3===n.LoaiMienGiam&&1==n.LoaiChietKhau&&(n.TiLe=0,n.TongTienMiemGiam=0)})}resetSoTien(){this.data.dataItem.DanhSachMienGiamVos.forEach(n=>{3===n.LoaiMienGiam&&2==n.LoaiChietKhau&&(n.SoTien=0,n.TongTienMiemGiam=0)})}replaceAll(n,l,e){return n.replace(new RegExp(l,"g"),e)}resetMGT(){this.data.dataItem.DanhSachMienGiamVos.forEach(n=>{3===n.LoaiMienGiam&&1==n.LoaiChietKhau&&(n.TiLe=0,n.TongTienMiemGiam=0),3===n.LoaiMienGiam&&2==n.LoaiChietKhau&&(n.SoTien=0,n.TongTieMiemGiam=0)})}close(){this.tamdanhSachChiPhi.apdungMGTThanhCong=!1,this.dialogRef.close(this.tamdanhSachChiPhi)}HuyApDungMGT(){this.tamdanhSachChiPhi.apdungMGTThanhCong=!1,this.dialogRef.close(this.tamdanhSachChiPhi)}ApDungMGT(){if(this.validationErrors=[],this.cdRef.detectChanges(),this.data.dataItem.DanhSachMienGiamVos.forEach(n=>{!this.disableInputPhanTram||3!==n.LoaiMienGiam||1!=n.LoaiChietKhau||null!=n.TiLe&&0!==n.TiLe||this.validationErrors.push({Message:"Vui lo\u0300ng nh\xe2\u0323p ti\u0309 l\xea\u0323 mi\xea\u0303n gia\u0309m.",Field:"TiLe"}),!this.disableInputSoTien||3!==n.LoaiMienGiam||2!=n.LoaiChietKhau||null!=n.SoTien&&0!==n.SoTien||this.validationErrors.push({Message:"Vui l\xf2ng nh\xe2\u0323p s\xf4\u0301 ti\xea\u0300n mi\xea\u0303n gia\u0309m.",Field:"SoTien"})}),this.validationErrors.length>0)return!1;this.data.dataItem.apdungMGTThanhCong=!!(this.disableInputPhanTram||this.disableInputSoTien||this.kiemTraThayDoiSoTienTiLe),this.tongTatCaSoTienMg>this.tongTienTungDichVu?this.notificationService.showError("T\xf4\u0309ng s\xf4\u0301 ti\xea\u0300n mi\xea\u0303n gia\u0309m l\u01a1\u0301n h\u01a1n s\xf4\u0301 ti\xea\u0300n mi\xea\u0303n gia\u0309m th\u01b0\u0323c t\xea\u0301."):this.dialogRef.close(this.data.dataItem)}tinhSoTienMiemGiamTiLe(n){this.tongTatCaSoTienMg=0;var l=100;if(0!==this.tongTienTungDichVu){var e=n.DanhSachMienGiamVos.filter(n=>1==n.LoaiChietKhau&&0!=n.TiLe);n.DanhSachMienGiamVos.filter(n=>2==n.LoaiChietKhau&&0!=n.SoTien).forEach(n=>{this.tongTatCaSoTienMg+=n.TongTienMiemGiam}),null!=e&&e.length>0&&(e=o.sortBy(e,"LoaiMienGiam")).forEach(n=>{n.TongTienMiemGiam=0!==this.tongTienTungDichVu?n.TiLe*this.tongTienTungDichVu/100:0,this.tongTatCaSoTienMg+=n.TongTienMiemGiam,n.TiLe>=l?l=0:l-=n.TiLe})}}tinhSoTienMiemGiamSoTienMGT(n){this.tongTatCaSoTienMg=0;var l=this.tongTienTungDichVu;if(0!==this.tongTienTungDichVu){var e=n.DanhSachMienGiamVos.filter(n=>2==n.LoaiChietKhau&&0!=n.SoTien);n.DanhSachMienGiamVos.filter(n=>1==n.LoaiChietKhau&&0!=n.TiLe).forEach(n=>{this.tongTatCaSoTienMg+=n.TongTienMiemGiam}),null!=e&&e.length>0&&(e=o.sortBy(e,"LoaiMienGiam")).forEach(n=>{n.SoTien>=l?l=0:l-=n.SoTien,n.TongTienMiemGiam=0!==this.tongTienTungDichVu?n.SoTien:0,this.tongTatCaSoTienMg+=n.TongTienMiemGiam})}}tinhSoTienMiemGiam(n){this.tongTatCaSoTienMg=0;var l=100,e=this.tongTienTungDichVu,t=n.DanhSachMienGiamVos.filter(n=>1==n.LoaiChietKhau&&0!=n.TiLe),i=n.DanhSachMienGiamVos.filter(n=>2==n.LoaiChietKhau&&0!=n.SoTien);null!=t&&t.length>0&&(t=o.sortBy(t,"LoaiMienGiam")).forEach(n=>{n.TiLe=l>0?n.TiLe>l?l:n.TiLe:0,n.TongTienMiemGiam=0!==this.tongTienTungDichVu?n.TiLe*this.tongTienTungDichVu/100:0,this.tongTatCaSoTienMg+=n.TongTienMiemGiam,n.TiLe>=l?l=0:l-=n.TiLe}),l>0&&null!=i&&i.length>0&&(e=0!=(l=null!=t&&t.length>0?l:0)?n.ThanhTien*l/100:n.ThanhTien,(i=o.sortBy(i,"LoaiMienGiam")).forEach(n=>{n.SoTien=e>0?n.SoTien>e?e:n.SoTien:0,n.TongTienMiemGiam=0!==this.tongTienTungDichVu?n.SoTien:0,this.tongTatCaSoTienMg+=n.TongTienMiemGiam,n.SoTien>=e?e=0:e-=n.SoTien}))}bindCheckboxMienGiamThem(n){null!=n.DanhSachMienGiamVos&&n.DanhSachMienGiamVos.filter(n=>3===n.LoaiMienGiam).forEach(n=>{n.LoaiChietKhau===this.loaiChietKhau.ChietKhauTheoTiLe&&(null!=n.TiLe&&0!=n.TiLe?(this.disablePhanTram=!0,this.disableInputPhanTram=!0,this.tiLeBanDau=n.TiLe):(this.disablePhanTram=!1,this.disableInputPhanTram=!1,n.TongTienMiemGiam=0)),n.LoaiChietKhau===this.loaiChietKhau.ChietKhauTheoSoTien&&(null!=n.SoTien&&0!=n.SoTien?(this.disableSoTien=!0,this.disableInputSoTien=!0,this.soTienBanDau=n.SoTien):(this.disableSoTien=!1,this.disableInputSoTien=!1,n.TongTienMiemGiam=0))})}}},IcII:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("BHPW"),a=e("PrTX"),o=e("bujt"),u=e("Fwaw"),h=e("5GAg"),d=e("omvX"),c=e("uShY"),s=e("7OI1"),r=e("teW0"),T=e("7dP1"),g=e("iInd"),m=e("Y4+Y"),p=e("s7LF"),f=e("s6ns"),C=e("Mr+X"),x=e("Gi4r"),S=e("l+Q0"),b=e("cUpR"),y=e("SVse"),D=e("VDRc"),v=e("/q54"),N=e("dxC+"),M=e("qc5V");e.d(l,"a",(function(){return B}));var L=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","text-center"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,i.c,[t.ElementRef,t.NgZone,t.Renderer2,a.g,[2,i.e],[2,i.a]],null,null),(n()(),t["\u0275eld"](2,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close(n.context.$implicit,2)&&t),t}),o.d,o.b)),t["\u0275did"](3,180224,null,0,u.b,[t.ElementRef,h.g,[2,d.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,[" Ch\u1ecdn "]))],(function(n,l){n(l,1,0),n(l,3,0,"primary")}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).disabled||null,"NoopAnimations"===t["\u0275nov"](l,3)._animationMode)}))}function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-grid",[["baseRoute",""]],null,null,null,c.b,c.a)),t["\u0275did"](1,1818624,null,0,s.a,[r.a,T.a,g.o,m.a,t.ChangeDetectorRef,p.g,f.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],baseRoute:[1,"baseRoute"],additionalSearchString:[2,"additionalSearchString"],useHeaderDefault:[3,"useHeaderDefault"],useActionDefault:[4,"useActionDefault"],pageable:[5,"pageable"],autoHeight:[6,"autoHeight"],documentType:[7,"documentType"],lazyLoadPage:[8,"lazyLoadPage"],useAddDeault:[9,"useAddDeault"],checkboxAble:[10,"checkboxAble"],urlGetData:[11,"urlGetData"]},null)],(function(n,l){var e=l.component;n(l,1,1,[e.gridChild,"",l.context.$implicit.Id+"-"+l.context.$implicit.DateStart+"-"+l.context.$implicit.DateEnd,!1,!1,!1,!0,e.documentType,!0,!1,!1,e.urlGetDataChild])}),null)}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,(function(n,l){n(l,1,0,l.context.value)}))}function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"button",[["kendoTooltip",""],["mat-icon-button",""],["title","In phi\u1ebfu"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.PrinAllDonThuocBenhNhan(n.parent.context.$implicit.DonThuocThanhToanId)&&t),t}),o.d,o.b)),t["\u0275did"](2,9125888,null,0,i.c,[t.ElementRef,t.NgZone,t.Renderer2,a.g,[2,i.e],[2,i.a]],null,null),t["\u0275did"](3,180224,null,0,u.b,[t.ElementRef,h.g,[2,d.a]],null,null),(n()(),t["\u0275eld"](4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,C.b,C.a)),t["\u0275did"](5,9158656,null,0,x.b,[t.ElementRef,x.d,[8,null],[2,x.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](6,606208,null,0,S.a,[b.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,2,0),n(l,5,0),n(l,6,0,e.icPrint)}),(function(n,l){n(l,1,0,t["\u0275nov"](l,3).disabled||null,"NoopAnimations"===t["\u0275nov"](l,3)._animationMode),n(l,4,0,t["\u0275nov"](l,5).inline,"primary"!==t["\u0275nov"](l,5).color&&"accent"!==t["\u0275nov"](l,5).color&&"warn"!==t["\u0275nov"](l,5).color,t["\u0275nov"](l,6).inline,t["\u0275nov"](l,6).size,t["\u0275nov"](l,6).iconHTML)}))}function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](1,16384,null,0,y.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,0==l.context.$implicit.DonThuocBacSiKeToa)}),null)}function k(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.context.$implicit.SoTienDisPlay)}))}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.parent.context.$implicit.TinhTrang)}))}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color:blue"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.parent.context.$implicit.TinhTrang)}))}function K(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](1,16384,null,0,y.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](3,16384,null,0,y.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,"Ch\u01b0a xu\u1ea5t thu\u1ed1c"==l.context.$implicit.TinhTrang||"Ch\u01b0a thanh to\xe1n"==l.context.$implicit.TinhTrang),n(l,3,0,"\u0110\xe3 thanh to\xe1n"==l.context.$implicit.TinhTrang)}),null)}function F(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{actionTemplate:0}),t["\u0275qud"](402653184,2,{TongGiaTriDonThuocTemplate:0}),t["\u0275qud"](402653184,3,{SoTienChoThanhToanTemplate:0}),t["\u0275qud"](402653184,4,{trangThaiTemplate:0}),t["\u0275qud"](402653184,5,{maTNTemplate:0}),t["\u0275qud"](402653184,6,{templatePrint:0}),t["\u0275qud"](402653184,7,{SoTienThuoctemplate:0}),t["\u0275qud"](402653184,8,{TinhTrangThuoctemplate:0}),(n()(),t["\u0275eld"](8,0,null,null,10,"div",[["class","mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](9,671744,null,0,D.c,[t.ElementRef,v.i,[2,D.i],v.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](10,671744,null,0,D.b,[t.ElementRef,v.i,[2,D.g],v.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](11,81920,null,0,f.m,[[2,f.l],t.ElementRef,f.e],null,null),(n()(),t["\u0275eld"](12,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](13,null,["",""])),(n()(),t["\u0275eld"](14,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close("No answer",1)&&t),t}),o.d,o.b)),t["\u0275did"](15,180224,null,0,u.b,[t.ElementRef,h.g,[2,d.a]],null,null),(n()(),t["\u0275eld"](16,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,C.b,C.a)),t["\u0275did"](17,9158656,null,0,x.b,[t.ElementRef,x.d,[8,null],[2,x.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](18,606208,null,0,S.a,[b.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](19,0,null,null,9,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),t["\u0275did"](20,16384,null,0,f.j,[],null,null),(n()(),t["\u0275eld"](21,0,null,null,1,"app-grid",[],null,null,null,c.b,c.a)),t["\u0275did"](22,1818624,null,0,s.a,[r.a,T.a,g.o,m.a,t.ChangeDetectorRef,p.g,f.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],gridDataSource:[1,"gridDataSource"],useHeaderDefault:[2,"useHeaderDefault"],useActionDefault:[3,"useActionDefault"],pageable:[4,"pageable"],autoHeight:[5,"autoHeight"],documentType:[6,"documentType"],lazyLoadPage:[7,"lazyLoadPage"],useAddDeault:[8,"useAddDeault"],detailTemplate:[9,"detailTemplate"],checkboxAble:[10,"checkboxAble"]},null),(n()(),t["\u0275and"](0,[[1,2],["actionTemplate",2]],null,0,null,P)),(n()(),t["\u0275and"](0,[["detailTemplate",2]],null,0,null,G)),(n()(),t["\u0275and"](0,[["nhomGroupHeaderTemplate",2]],null,0,null,I)),(n()(),t["\u0275and"](0,[[6,2],["templatePrint",2]],null,0,null,w)),(n()(),t["\u0275and"](0,[[7,2],["SoTienThuoctemplate",2]],null,0,null,k)),(n()(),t["\u0275and"](0,[[8,2],["TinhTrangThuoctemplate",2]],null,0,null,K))],(function(n,l){var e=l.component;n(l,9,0,"row"),n(l,10,0,"space-between center"),n(l,11,0),n(l,17,0),n(l,18,0,e.icClose),n(l,22,1,[e.gridChildColumns2,e.data,!1,!1,!1,!0,e.documentType,!0,!1,t["\u0275nov"](l,24),!1])}),(function(n,l){var e=l.component;n(l,8,0,t["\u0275nov"](l,11).id),n(l,13,0,e.Title),n(l,14,0,t["\u0275nov"](l,15).disabled||null,"NoopAnimations"===t["\u0275nov"](l,15)._animationMode),n(l,16,0,t["\u0275nov"](l,17).inline,"primary"!==t["\u0275nov"](l,17).color&&"accent"!==t["\u0275nov"](l,17).color&&"warn"!==t["\u0275nov"](l,17).color,t["\u0275nov"](l,18).inline,t["\u0275nov"](l,18).size,t["\u0275nov"](l,18).iconHTML)}))}function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-tim-benh-nhan-pop-up",[],null,null,null,F,L)),t["\u0275did"](1,114688,null,0,N.a,[f.l,[2,f.a],M.a,f.e],null,null)],(function(n,l){n(l,1,0)}),null)}var B=t["\u0275ccf"]("app-quay-thuoc-tim-benh-nhan-pop-up",N.a,V,{},{},[])},Knx4:function(n,l,e){"use strict";e.d(l,"a",(function(){return c}));var t=e("5mnX"),i=e.n(t),a=e("pJhR"),o=e("4FRq"),u=e("H+pe"),h=e("5fHe"),d=e("FIHo");class c{constructor(n,l,e,t,a,o){this.data=n,this.dialogRef=l,this.authService=e,this.dialog=t,this.notificationService=a,this.apiService=o,this.documentType=u.b.QuayThuoc,this.thongTinHuyPhieu=new d.t,this.icClose=i.a,this.thuHoiPhieu=!1}ngOnInit(){if(this.thongTinHuyPhieu=this.data.thongTinHuyPhieu,this.thuHoiPhieu=this.data.thuHoiPhieu,this.loaiType=this.data.loaiType,this.thongTinHuyPhieu.ThuHoiPhieu=!1,this.thuHoiPhieu){let n=this.authService.getAccessUser();this.apiService.get("NhanVien/GetNhanVienProflie/"+n.Id).subscribe(l=>{this.thongTinHuyPhieu.NguoiThuHoiId=n.Id,this.thongTinHuyPhieu.TenNguoiThuHoi=l.HoTen,this.thongTinHuyPhieu.ThoiGianThuHoi=new Date})}}close(){this.dialog.closeAll()}modelChangeThuHoiPhieu(n){if(n){let n=this.authService.getAccessUser();this.apiService.get("NhanVien/GetNhanVienProflie/"+n.Id).subscribe(l=>{this.thongTinHuyPhieu.NguoiThuHoiId=n.Id,this.thongTinHuyPhieu.TenNguoiThuHoi=l.HoTen,this.thongTinHuyPhieu.ThoiGianThuHoi=new Date})}else this.thongTinHuyPhieu.NguoiThuHoiId=null,this.thongTinHuyPhieu.TenNguoiThuHoi=null,this.thongTinHuyPhieu.ThoiGianThuHoi=null}xacNhanThongTinHuy(){var n=this.dialog.open(a.a,{disableClose:!0,width:"200px",height:"90px",data:{}});this.loaiType?this.authService.hasPermission(this.documentType,o.a.Update)?this.thuHoiPhieu?this.apiService.post("QuayThuoc/CapnhatNguoiThuHoiPhieuThuThuoc",this.thongTinHuyPhieu).subscribe(n=>{this.dialog.closeAll(),this.dialogRef.close("Yes")},l=>{null===l.ValidationErrors||0==l.ValidationErrors.length?this.notificationService.showError(l.Message):this.validationErrors=l.ValidationErrors,n.close()}):this.apiService.post("QuayThuoc/HuyPhieuThuThuoc",this.thongTinHuyPhieu).subscribe(n=>{this.dialog.closeAll(),this.dialogRef.close("Yes")},l=>{null===l.ValidationErrors||0==l.ValidationErrors.length?this.notificationService.showError(l.Message):this.validationErrors=l.ValidationErrors,n.close()}):this.notificationService.showError(h.B.UnAuthorizedMessage):this.authService.hasPermission(this.documentType,o.a.Update)?this.thuHoiPhieu?this.apiService.post("QuayThuoc/CapnhatNguoiThuHoiPhieuThuThuoc",this.thongTinHuyPhieu).subscribe(n=>{this.dialog.closeAll(),this.dialogRef.close("Yes")},l=>{null===l.ValidationErrors||0==l.ValidationErrors.length?this.notificationService.showError(l.Message):this.validationErrors=l.ValidationErrors,n.close()}):this.apiService.post("QuayThuoc/HuyThanhToan",this.thongTinHuyPhieu).subscribe(n=>{this.dialog.closeAll(),this.dialogRef.close("Yes")},l=>{null===l.ValidationErrors||0==l.ValidationErrors.length?this.notificationService.showError(l.Message):this.validationErrors=l.ValidationErrors,n.close()}):this.notificationService.showError(h.B.UnAuthorizedMessage)}}},PpHG:function(n,l,e){"use strict";e.d(l,"a",(function(){return u}));var t=e("5mnX"),i=e.n(t),a=e("iPKF"),o=e("pJhR");class u{constructor(n,l,e,t){this.data=n,this.apiService=l,this.dialog=e,this.notificationService=t,this.icClose=i.a,this.arrFilePdf=[],this.arrFileUrl=[]}ngOnInit(){this.getALlFilePDFFromHtml(this.data.Model)}getALlFilePDFFromHtml(n){this.showPopupLoadingData();let l=new Blob([n],{type:"application/pdf"}),e=window.URL.createObjectURL(l);this.arrFileUrl.push(e),this.arrFilePdf.push(n),this.closePopupLoadingData()}downloadAllFile(){const n=new Date;this.arrFilePdf.forEach(l=>{a.a.downLoadFile(l,"application/pdf","PhieuThuNgan"+n.getFullYear()+".pdf")})}showPopupLoadingData(){(null==this.popupLoadingData||null==this.popupLoadingData||null==this.popupLoadingData.openDialogs||null!=this.popupLoadingData.openDialogs&&0==this.popupLoadingData.openDialogs.length)&&(this.popupLoadingData=this.dialog.open(o.a,{disableClose:!0,width:"200px",height:"90px",data:{Title:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."}}))}closePopupLoadingData(){null!=this.popupLoadingData&&null!=this.popupLoadingData&&this.popupLoadingData.close()}}},UYgp:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("VDRc"),a=e("/q54"),o=e("s6ns"),u=e("SVse"),h=e("bujt"),d=e("Fwaw"),c=e("5GAg"),s=e("omvX"),r=e("lMrx"),T=e("iInd");e.d(l,"a",(function(){return x}));var g=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function m(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","mb-3"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Ng\u01b0\u1eddi b\u1ec7nh n\xe0y ch\u01b0a c\xf3 ph\xe1t sinh \u0111\u01a1n thu\u1ed1c n\xe0o. B\u1ea1n c\xf3 mu\u1ed1n b\xe1n thu\u1ed1c cho ng\u01b0\u1eddi b\u1ec7nh n\xe0y nh\u01b0 kh\xe1ch v\xe3ng lai hay kh\xf4ng? "]))],null,null)}function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"p",[["class","mb-3"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Kh\xf4ng t\xecm th\u1ea5y ng\u01b0\u1eddi b\u1ec7nh n\xe0y trong h\u1ec7 th\u1ed1ng. B\u1ea1n c\xf3 mu\u1ed1n b\xe1n thu\u1ed1c cho ng\u01b0\u1eddi b\u1ec7nh n\xe0y nh\u01b0 kh\xe1ch v\xe3ng lai hay kh\xf4ng? "]))],null,null)}function f(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](2,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](3,81920,null,0,o.m,[[2,o.l],t.ElementRef,o.e],null,null),(n()(),t["\u0275eld"](4,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](7,16384,null,0,u.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](9,16384,null,0,u.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](10,0,null,null,6,"div",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,null,null,2,"button",[["class","mr-1 mt-2"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close(1)&&t),t}),h.d,h.b)),t["\u0275did"](12,180224,null,0,d.b,[t.ElementRef,c.g,[2,s.a]],null,null),(n()(),t["\u0275ted"](-1,0,["Kh\xf4ng"])),(n()(),t["\u0275eld"](14,0,null,null,2,"button",[["class","mr-1 mt-2"],["color","primary"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close(2)&&t),t}),h.d,h.b)),t["\u0275did"](15,180224,null,0,d.b,[t.ElementRef,c.g,[2,s.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["C\xf3"]))],(function(n,l){var e=l.component;n(l,1,0,"row"),n(l,2,0,"space-between center"),n(l,3,0),n(l,7,0,null!=e.dataItem.Model),n(l,9,0,null==e.dataItem.Model),n(l,15,0,"primary")}),(function(n,l){var e=l.component;n(l,0,0,t["\u0275nov"](l,3).id),n(l,5,0,e.Title),n(l,11,0,t["\u0275nov"](l,12).disabled||null,"NoopAnimations"===t["\u0275nov"](l,12)._animationMode),n(l,14,0,t["\u0275nov"](l,15).disabled||null,"NoopAnimations"===t["\u0275nov"](l,15)._animationMode)}))}function C(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up",[],null,null,null,f,g)),t["\u0275did"](1,114688,null,0,r.a,[o.l,[2,o.a],T.o],null,null)],(function(n,l){n(l,1,0)}),null)}var x=t["\u0275ccf"]("app-quay-thuoc-xac-nhan-mua-thuoc-khach-vang-lai-pop-up",r.a,C,{},{},[])},Uage:function(n,l,e){"use strict";e.d(l,"a",(function(){return a}));var t=e("lMrx"),i=(e("t7+x"),e("pWwE"));e("7OI1");class a{constructor(n,l,e,t){this.router=n,this.route=l,this.cd=e,this.dialog=t,this.id=0,this.typeDanhSachThanhToan=0,this.xacNhanIn=!1}ngOnInit(){if(this.route.queryParams.subscribe(n=>{this.id=n.page,this.hoquerySearch=n.hoQuerysearch}),null==this.id&&i.a.removeItem("additionalSearchStringChiTietNhaThuoc"),1==this.id){this.typeDanhSachThanhToan=1;var n=i.a.getItem("additionalSearchStringChiTietNhaThuoc");this.queryStringSearchUuTien=n}2==this.id&&(this.typeDanhSachThanhToan=2,n=i.a.getItem("additionalSearchStringChiTietNhaThuoc"),this.queryStringSearchUuTien=n),3==this.id&&(this.typeDanhSachThanhToan=3,n=i.a.getItem("additionalSearchStringChiTietNhaThuoc"),this.queryStringSearchUuTien=n),0==this.id&&(this.typeDanhSachThanhToan=0,n=i.a.getItem("additionalSearchStringChiTietNhaThuoc"),this.queryStringSearchUuTien=n)}getonHaddleDataSearch(n){this.dataQuayThuocSearch=n}ToKhachVangLai(n){this.router.navigate(["nha-thuoc/khach-vang-lai"],{queryParams:{page:n}})}getkiemTraDonThuocThanhToan(n){this.cd.detectChanges()}getonHaddleUuTienSearch(n){this.queryStringSearchUuTien=n,this.cd.detectChanges()}KiemTraeXportExel(n){this.xacNhanIn=n}getData(n){this.benhNhan=n,n.Id>0?this.router.navigate(["nha-thuoc/mua-thuoc/"+n.Id+"/"+n.MaBN+"/"+n.TrangThai+"/"+this.typeDanhSachThanhToan]):1==n.DonThuocThanhToanExits?this.router.navigate(["nha-thuoc/mua-toa-cu/"+n.MaBN+"/"+this.typeDanhSachThanhToan]):this.dialog.open(t.a,{disableClose:!0,width:"500px",data:{Model:n,KiemTraThanhToan:this.typeDanhSachThanhToan,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(n=>{})}}},Y2dJ:function(n,l,e){"use strict";e.d(l,"a",(function(){return a}));var t=e("5mnX"),i=e.n(t);class a{constructor(n,l,e){this.data=n,this.sanitizer=l,this.dialog=e,this.src="",this.icClose=i.a,this.kiemtraPhieuInManhinh=!1}ngOnInit(){this.modelPrint=this.data.Model,this.kiemtraPhieuInManhinh=this.data.InDonThuocDanhSachList,this.InPhieuThu=this.data.InPhieuThu,this.InBangKe=this.data.InBangKe,this.src="data:text/html;charset=utf-8,"+encodeURIComponent(this.data.Model)}InPhieu(n){this.loaiPhieu=n,this.getSharedPrintForm()}getSharedPrintForm(){const n="<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'><th>TOA THU\u1ed0C KH\xd4NG B\u1ea2O HI\u1ec2M Y T\u1ebe</th></p>";let l,e=(l=(l=(l=(l=(l=this.modelPrint.replace("<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'><th>TOA THU\u1ed0C B\u1ea2O HI\u1ec2M Y T\u1ebe</th></p>","")).replace(n,"")).replace(n,"")).replace("<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'><th>\u0110\u01a0N T\u01af V\u1ea4N</ th></p>","")).replace("<p  style='background: #005dab;color:#fff; height:40px; font-size:30px;text-align:center'><th>TOA THU\u1ed0C NGO\xc0I B\u1ec6NH VI\u1ec6N</ th></p>","")).split('<div class="pagebreak"></div>');if(1==this.loaiPhieu)return new Promise(n=>{n(e[0])});if(null!=e[1]||null!=e[1])return new Promise(n=>{n(e[1])});{let n="Kh\xf4ng c\xf3 phi\u1ebfu thu ti\u1ec1n";return new Promise(l=>{l(n)})}}close(){this.dialog.closeAll()}}},"Z+8L":function(n,l,e){"use strict";var t=e("8Y7J"),i=e("byyG"),a=e("usaP"),o=e("qc5V"),u=e("gM18"),h=e("TXUA"),d=e("eQ5O"),c=e("Tzki"),s=e("VDRc"),r=e("/q54"),T=e("s6ns"),g=e("bujt"),m=e("Fwaw"),p=e("5GAg"),f=e("omvX"),C=e("Mr+X"),x=e("Gi4r"),S=e("l+Q0"),b=e("cUpR"),y=e("IP0z"),D=e("m4FZ"),v=e("rd4Z"),N=e("SVse"),M=e("63sk"),L=e("0GlS"),P=e("Knx4"),G=e("7dP1"),I=e("Y4+Y");e.d(l,"a",(function(){return V}));var R=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-combobox",[["id","nguoithuhoi"],["label","Ng\u01b0\u01a1\u0300i thu h\xf4\u0300i"],["required","true"],["url","NhanVien/GetListLookupNhanVien"]],null,[[null,"modelChange"],[null,"modelTextChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.thongTinHuyPhieu.NguoiThuHoiId=e)&&t),"modelTextChange"===l&&(t=!1!==(i.thongTinHuyPhieu.TenNguoiThuHoi=e)&&t),t}),i.b,i.a)),t["\u0275did"](1,6012928,null,0,a.a,[o.a,u.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],modelText:[4,"modelText"],url:[5,"url"],validationerror:[6,"validationerror"],popupSettings:[7,"popupSettings"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"nguoithuhoi","Ng\u01b0\u01a1\u0300i thu h\xf4\u0300i","true",e.thongTinHuyPhieu.NguoiThuHoiId,e.thongTinHuyPhieu.TenNguoiThuHoi,"NhanVien/GetListLookupNhanVien",t["\u0275unv"](l,1,6,t["\u0275nov"](l,2).transform("NguoiThuHoiId",e.validationErrors)),null)}),null)}function k(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-datetimepicker",[["id","thuhoiluc"],["label","Thu h\xf4\u0300i Lu\u0301c"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongTinHuyPhieu.ThoiGianThuHoi=e)&&t),t}),d.b,d.a)),t["\u0275did"](1,638976,null,0,c.a,[],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],validationerror:[4,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"thuhoiluc","Thu h\xf4\u0300i Lu\u0301c","true",e.thongTinHuyPhieu.ThoiGianThuHoi,t["\u0275unv"](l,1,4,t["\u0275nov"](l,2).transform("ThoiGianThuHoi",e.validationErrors)))}),null)}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,45,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mb-1 mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](2,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](3,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,81920,null,0,T.m,[[2,T.l],t.ElementRef,T.e],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["XA\u0301C NH\xc2\u0323N HU\u0309Y PHI\xca\u0301U THU"])),(n()(),t["\u0275eld"](7,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close()&&t),t}),g.d,g.b)),t["\u0275did"](8,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,C.b,C.a)),t["\u0275did"](10,9158656,null,0,x.b,[t.ElementRef,x.d,[8,null],[2,x.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](11,606208,null,0,S.a,[b.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](12,0,null,null,33,"mat-dialog-content",[["class","mat-dialog-content"],["style","height: 250px;"]],null,null,null,null,null)),t["\u0275did"](13,16384,null,0,T.j,[],null,null),(n()(),t["\u0275ted"](14,null,[" B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y phi\xea\u0301u thu "," pha\u0309i kh\xf4ng? "])),(n()(),t["\u0275eld"](15,0,null,null,30,"div",[["class","py-1"],["fxLayout","row"],["fxLayoutAlign","start center"]],null,null,null,null,null)),t["\u0275did"](16,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](17,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](18,0,null,null,27,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](19,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](20,1720320,null,0,s.d,[t.ElementRef,t.NgZone,y.b,r.i,[2,s.h],r.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](21,0,null,null,18,"fieldset",[["class","row ml-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](22,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](23,0,null,null,16,"table",[["class","table table-border"],["width","700px"]],null,null,null,null,null)),(n()(),t["\u0275eld"](24,0,null,null,15,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](25,0,null,null,1,"td",[],[[8,"width",0]],null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["N\xea\u0301u pha\u0309i:"])),(n()(),t["\u0275eld"](27,0,null,null,6,"td",[],[[8,"width",0]],null,null,null,null)),(n()(),t["\u0275eld"](28,0,null,null,5,"app-radio",[["id","thuhoiphieu"],["label","Thu h\xf4\u0300i phi\xea\u0301u"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.thongTinHuyPhieu.ThuHoiPhieu=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeThuHoiPhieu(e)&&t),t}),D.b,D.a)),t["\u0275did"](29,114688,null,0,v.a,[],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],items:[4,"items"],validationerror:[5,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pod"](30,{Value:0,Text:1}),t["\u0275pod"](31,{Value:0,Text:1}),t["\u0275pad"](32,2),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](34,0,null,null,2,"td",[["width","30%"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](36,16384,null,0,N.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](37,0,null,null,2,"td",[["width","25%"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](39,16384,null,0,N.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](40,0,null,null,5,"fieldset",[["class","row ml-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](41,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](42,0,null,null,3,"app-textarea",[["class","item-no-padding"],["fxFlex","100%"],["fxFlex.sm","100%"],["id","ly-do"],["label","Ly\u0301 do"],["max","4000"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongTinHuyPhieu.LyDo=e)&&t),t}),M.b,M.a)),t["\u0275did"](43,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](44,245760,null,0,L.a,[T.e],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],validationerror:[4,"validationerror"],minHeight:[5,"minHeight"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,4,0),n(l,10,0),n(l,11,0,e.icClose),n(l,16,0,"row"),n(l,17,0,"start center"),n(l,19,0,"row wrap","column"),n(l,20,0,"16px grid","0"),n(l,22,0,"100%");var i=e.thongTinHuyPhieu.ThuHoiPhieu,a=n(l,32,0,n(l,30,0,!0,"R\xf4\u0300i"),n(l,31,0,!1,"Ch\u01b0a"));n(l,29,0,"thuhoiphieu","Thu h\xf4\u0300i phi\xea\u0301u","true",i,a,t["\u0275unv"](l,29,5,t["\u0275nov"](l,33).transform("ThuHoiPhieu",e.validationErrors))),n(l,36,0,e.thongTinHuyPhieu.ThuHoiPhieu),n(l,39,0,e.thongTinHuyPhieu.ThuHoiPhieu),n(l,41,0,"100%"),n(l,43,0,"100%","100%"),n(l,44,0,"ly-do","Ly\u0301 do","true",e.thongTinHuyPhieu.LyDo,t["\u0275unv"](l,44,4,t["\u0275nov"](l,45).transform("LyDo",e.validationErrors)),60)}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).id),n(l,7,0,t["\u0275nov"](l,8).disabled||null,"NoopAnimations"===t["\u0275nov"](l,8)._animationMode),n(l,9,0,t["\u0275nov"](l,10).inline,"primary"!==t["\u0275nov"](l,10).color&&"accent"!==t["\u0275nov"](l,10).color&&"warn"!==t["\u0275nov"](l,10).color,t["\u0275nov"](l,11).inline,t["\u0275nov"](l,11).size,t["\u0275nov"](l,11).iconHTML),n(l,14,0,e.thongTinHuyPhieu.TenSoPhieu),n(l,25,0,t["\u0275inlineInterpolate"](1,"",e.thongTinHuyPhieu.ThuHoiPhieu?"13%":"30%","")),n(l,27,0,t["\u0275inlineInterpolate"](1,"",e.thongTinHuyPhieu.ThuHoiPhieu?"25%":"100%",""))}))}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,37,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mb-1 mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](2,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](3,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,81920,null,0,T.m,[[2,T.l],t.ElementRef,T.e],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["C\xc2\u0323P NH\xc2\u0323T THU H\xd4\u0300I PHI\xca\u0301U THU"])),(n()(),t["\u0275eld"](7,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close()&&t),t}),g.d,g.b)),t["\u0275did"](8,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,C.b,C.a)),t["\u0275did"](10,9158656,null,0,x.b,[t.ElementRef,x.d,[8,null],[2,x.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](11,606208,null,0,S.a,[b.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](12,0,null,null,25,"mat-dialog-content",[["class","mat-dialog-content"],["style","height: 250px;"]],null,null,null,null,null)),t["\u0275did"](13,16384,null,0,T.j,[],null,null),(n()(),t["\u0275eld"](14,0,null,null,23,"div",[["class","py-1"],["fxLayout","row"],["fxLayoutAlign","start center"]],null,null,null,null,null)),t["\u0275did"](15,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](16,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](17,0,null,null,20,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](18,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](19,1720320,null,0,s.d,[t.ElementRef,t.NgZone,y.b,r.i,[2,s.h],r.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](20,0,null,null,11,"fieldset",[["class","row ml-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](21,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](22,0,null,null,9,"table",[["class","table table-border"],["width","700px"]],null,null,null,null,null)),(n()(),t["\u0275eld"](23,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](24,0,null,null,3,"td",[["width","30%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](25,0,null,null,2,"app-combobox",[["id","nguoithuhoi"],["label","Ng\u01b0\u01a1\u0300i thu h\xf4\u0300i"],["required","true"],["url","NhanVien/GetListLookupNhanVien"]],null,[[null,"modelChange"],[null,"modelTextChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.thongTinHuyPhieu.NguoiThuHoiId=e)&&t),"modelTextChange"===l&&(t=!1!==(i.thongTinHuyPhieu.TenNguoiThuHoi=e)&&t),t}),i.b,i.a)),t["\u0275did"](26,6012928,null,0,a.a,[o.a,u.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],modelText:[4,"modelText"],url:[5,"url"],validationerror:[6,"validationerror"],popupSettings:[7,"popupSettings"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](28,0,null,null,3,"td",[["width","25%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](29,0,null,null,2,"app-datetimepicker",[["id","thuhoiluc"],["label","Thu h\xf4\u0300i Lu\u0301c"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongTinHuyPhieu.ThoiGianThuHoi=e)&&t),t}),d.b,d.a)),t["\u0275did"](30,638976,null,0,c.a,[],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],validationerror:[4,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](32,0,null,null,5,"fieldset",[["class","row ml-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](33,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](34,0,null,null,3,"app-textarea",[["class","item-no-padding"],["fxFlex","100%"],["fxFlex.sm","100%"],["id","ly-do"],["label","Ly\u0301 do"],["max","4000"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongTinHuyPhieu.LyDo=e)&&t),t}),M.b,M.a)),t["\u0275did"](35,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](36,245760,null,0,L.a,[T.e],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],validationerror:[4,"validationerror"],minHeight:[5,"minHeight"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,4,0),n(l,10,0),n(l,11,0,e.icClose),n(l,15,0,"row"),n(l,16,0,"start center"),n(l,18,0,"row wrap","column"),n(l,19,0,"16px grid","0"),n(l,21,0,"100%"),n(l,26,0,"nguoithuhoi","Ng\u01b0\u01a1\u0300i thu h\xf4\u0300i","true",e.thongTinHuyPhieu.NguoiThuHoiId,e.thongTinHuyPhieu.TenNguoiThuHoi,"NhanVien/GetListLookupNhanVien",t["\u0275unv"](l,26,6,t["\u0275nov"](l,27).transform("NguoiThuHoiId",e.validationErrors)),null),n(l,30,0,"thuhoiluc","Thu h\xf4\u0300i Lu\u0301c","true",e.thongTinHuyPhieu.ThoiGianThuHoi,t["\u0275unv"](l,30,4,t["\u0275nov"](l,31).transform("ThoiGianThuHoi",e.validationErrors))),n(l,33,0,"100%"),n(l,35,0,"100%","100%"),n(l,36,0,"ly-do","Ly\u0301 do","true",e.thongTinHuyPhieu.LyDo,t["\u0275unv"](l,36,4,t["\u0275nov"](l,37).transform("LyDo",e.validationErrors)),60)}),(function(n,l){n(l,1,0,t["\u0275nov"](l,4).id),n(l,7,0,t["\u0275nov"](l,8).disabled||null,"NoopAnimations"===t["\u0275nov"](l,8)._animationMode),n(l,9,0,t["\u0275nov"](l,10).inline,"primary"!==t["\u0275nov"](l,10).color&&"accent"!==t["\u0275nov"](l,10).color&&"warn"!==t["\u0275nov"](l,10).color,t["\u0275nov"](l,11).inline,t["\u0275nov"](l,11).size,t["\u0275nov"](l,11).iconHTML)}))}function K(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](1,16384,null,0,N.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](3,16384,null,0,N.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](4,0,null,null,10,"mat-dialog-actions",[["class","mat-dialog-actions"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"]],null,null,null,null,null)),t["\u0275did"](5,1720320,null,0,s.d,[t.ElementRef,t.NgZone,y.b,r.i,[2,s.h],r.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](6,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](7,16384,null,0,T.f,[],null,null),(n()(),t["\u0275eld"](8,0,null,null,3,"button",[["mat-button",""],["mat-dialog-close",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](n,10).dialogRef.close(t["\u0275nov"](n,10).dialogResult)&&i),i}),g.d,g.b)),t["\u0275did"](9,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],null,null),t["\u0275did"](10,606208,null,0,T.g,[[2,T.l],t.ElementRef,T.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t["\u0275ted"](-1,0,["Kh\xf4ng"])),(n()(),t["\u0275eld"](12,0,null,null,2,"button",[["cdkFocusInitial",""],["color","primary"],["mat-button",""],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.xacNhanThongTinHuy()&&t),t}),g.d,g.b)),t["\u0275did"](13,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["C\xf3"]))],(function(n,l){var e=l.component;n(l,1,0,!e.thuHoiPhieu),n(l,3,0,e.thuHoiPhieu),n(l,5,0,"8px"),n(l,6,0,"end center"),n(l,10,0,""),n(l,13,0,"primary")}),(function(n,l){n(l,8,0,t["\u0275nov"](l,9).disabled||null,"NoopAnimations"===t["\u0275nov"](l,9)._animationMode,t["\u0275nov"](l,10).ariaLabel||null,t["\u0275nov"](l,10).type),n(l,12,0,t["\u0275nov"](l,13).disabled||null,"NoopAnimations"===t["\u0275nov"](l,13)._animationMode)}))}function F(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-xac-nhan-phieu-huy-thu",[],null,null,null,K,R)),t["\u0275did"](1,114688,null,0,P.a,[T.a,T.l,G.a,T.e,I.a,o.a],null,null)],(function(n,l){n(l,1,0)}),null)}var V=t["\u0275ccf"]("app-xac-nhan-phieu-huy-thu",P.a,F,{},{},[])},b5wp:function(n,l,e){"use strict";e.d(l,"a",(function(){return h}));var t=e("5mnX"),i=e.n(t),a=e("pJhR"),o=e("H+pe"),u=e("FIHo");class h{constructor(n,l,e,t,a,h){this.data=n,this.dialogRef=l,this.authService=e,this.dialog=t,this.notificationService=a,this.apiService=h,this.documentType=o.b.QuayThuoc,this.huyXuatThuocTrongNgay=new u.i,this.icClose=i.a}ngOnInit(){this.huyXuatThuocTrongNgay=this.data.huyXuatThuocTrongNgay}modelChangeThuHoiPhieu(n){if(n){let n=this.authService.getAccessUser();this.apiService.get("NhanVien/GetNhanVienProflie/"+n.Id).subscribe(l=>{this.huyXuatThuocTrongNgay.NguoiThuHoiId=n.Id,this.huyXuatThuocTrongNgay.TenNguoiThuHoi=l.HoTen,this.huyXuatThuocTrongNgay.ThoiGianThuHoi=new Date})}else this.huyXuatThuocTrongNgay.NguoiThuHoiId=null,this.huyXuatThuocTrongNgay.TenNguoiThuHoi=null,this.huyXuatThuocTrongNgay.ThoiGianThuHoi=null}xacNhanThongTinHuy(){this.showLoadingPopup(),this.apiService.post("QuayThuoc/HuyBanThuocTrongNgay",this.huyXuatThuocTrongNgay).subscribe(n=>{this.closeAllDialogs(),this.dialogRef.close("Yes")},n=>{null===n.ValidationErrors||0==n.ValidationErrors.length?this.notificationService.showError(n.Message):this.validationErrors=n.ValidationErrors,this.closeAllDialogs()})}close(){this.dialog.closeAll()}showLoadingPopup(){this.loadingPopup||(this.loadingPopup=this.dialog.open(a.a,{disableClose:!0,width:"200px",height:"90px",data:{Title:"\u0110ang t\u1ea3i..."}}))}closeAllDialogs(){this.loadingPopup&&(this.loadingPopup.close(),this.loadingPopup=null)}}},biCn:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("VDRc"),a=e("/q54"),o=e("SVse");e("5tDl"),e("iInd"),e("qc5V"),e.d(l,"a",(function(){return u})),e.d(l,"b",(function(){return c}));var u=t["\u0275crt"]({encapsulation:0,styles:[["fieldset[_ngcontent-%COMP%]{display:block;margin-left:2px;margin-right:2px;border:1px #e0e0e0;border-style:inherit;padding:.35em .75em .625em}fieldset[_ngcontent-%COMP%]   .item_right[_ngcontent-%COMP%]{text-align:right!important;float:right}fieldset[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:15px!important}fieldset[_ngcontent-%COMP%]   ul.inline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block!important}"]],data:{}});function h(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,38,"fieldset",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](2,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["TH\xd4NG TIN H\xc0NH CH\xcdNH"])),(n()(),t["\u0275eld"](4,0,null,null,34,"div",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](5,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](6,0,null,null,32,"ul",[["class","inline"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["M\xe3 TN: "])),(n()(),t["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),(n()(),t["\u0275eld"](11,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["M\xe3 NB: "])),(n()(),t["\u0275eld"](13,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](14,null,["",""])),(n()(),t["\u0275eld"](15,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["H\u1ecd t\xean: "])),(n()(),t["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](18,null,["",""])),(n()(),t["\u0275eld"](19,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Gi\u1edbi t\xednh: "])),(n()(),t["\u0275eld"](21,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](22,null,["",""])),(n()(),t["\u0275eld"](23,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["N\u0103m sinh: "])),(n()(),t["\u0275eld"](25,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](26,null,["",""])),(n()(),t["\u0275eld"](27,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0110\u1ecba ch\u1ec9: "])),(n()(),t["\u0275eld"](29,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](30,null,["",""])),(n()(),t["\u0275eld"](31,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["S\u0110T: "])),(n()(),t["\u0275eld"](33,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](34,null,["",""])),(n()(),t["\u0275eld"](35,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Email: "])),(n()(),t["\u0275eld"](37,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](38,null,["",""]))],(function(n,l){n(l,1,0,"100%"),n(l,5,0,"100%")}),(function(n,l){var e=l.component;n(l,10,0,e.benhnhanThongTin.MaYeuCauTiepNhan),n(l,14,0,e.benhnhanThongTin.MaBN),n(l,18,0,e.benhnhanThongTin.HoTen),n(l,22,0,e.benhnhanThongTin.GioiTinhHienThi),n(l,26,0,e.benhnhanThongTin.NamSinh),n(l,30,0,e.benhnhanThongTin.DiaChiDayDu),n(l,34,0,e.benhnhanThongTin.SoDienThoai),n(l,38,0,e.benhnhanThongTin.Email)}))}function d(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,34,"fieldset",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](2,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["TH\xd4NG TIN H\xc0NH CH\xcdNH"])),(n()(),t["\u0275eld"](4,0,null,null,30,"div",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](5,671744,null,0,i.a,[t.ElementRef,a.i,a.e,i.f,a.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](6,0,null,null,28,"ul",[["class","inline"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["M\xe3 NB: "])),(n()(),t["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),(n()(),t["\u0275eld"](11,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["H\u1ecd t\xean: "])),(n()(),t["\u0275eld"](13,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](14,null,["",""])),(n()(),t["\u0275eld"](15,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Gi\u1edbi t\xednh: "])),(n()(),t["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](18,null,["",""])),(n()(),t["\u0275eld"](19,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["N\u0103m sinh: "])),(n()(),t["\u0275eld"](21,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](22,null,["",""])),(n()(),t["\u0275eld"](23,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0110\u1ecba ch\u1ec9: "])),(n()(),t["\u0275eld"](25,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](26,null,["",""])),(n()(),t["\u0275eld"](27,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["S\u0110T: "])),(n()(),t["\u0275eld"](29,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](30,null,["",""])),(n()(),t["\u0275eld"](31,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Email: "])),(n()(),t["\u0275eld"](33,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](34,null,["",""]))],(function(n,l){n(l,1,0,"100%"),n(l,5,0,"100%")}),(function(n,l){var e=l.component;n(l,10,0,e.MaBN),n(l,14,0,e.data.HoTen),n(l,18,0,e.data.GioiTinhHienThi),n(l,22,0,e.data.NamSinh),n(l,26,0,e.data.DiaChiDayDu),n(l,30,0,e.data.SoDienThoai),n(l,34,0,e.data.Email)}))}function c(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](2,16384,null,0,o.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,d)),t["\u0275did"](4,16384,null,0,o.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,null==e.MaBN),n(l,4,0,null!=e.MaBN)}),null)}},caKV:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("byyG"),a=e("usaP"),o=e("qc5V"),u=e("gM18"),h=e("TXUA"),d=e("eQ5O"),c=e("Tzki"),s=e("VDRc"),r=e("/q54"),T=e("s6ns"),g=e("bujt"),m=e("Fwaw"),p=e("5GAg"),f=e("omvX"),C=e("Mr+X"),x=e("Gi4r"),S=e("l+Q0"),b=e("cUpR"),y=e("IP0z"),D=e("m4FZ"),v=e("rd4Z"),N=e("SVse"),M=e("63sk"),L=e("0GlS"),P=e("b5wp"),G=e("7dP1"),I=e("Y4+Y");e.d(l,"a",(function(){return K}));var R=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-combobox",[["id","nguoithuhoi"],["label","Ng\u01b0\u01a1\u0300i thu h\xf4\u0300i"],["required","true"],["url","NhanVien/GetListLookupNhanVien"]],null,[[null,"modelChange"],[null,"modelTextChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.huyXuatThuocTrongNgay.NguoiThuHoiId=e)&&t),"modelTextChange"===l&&(t=!1!==(i.huyXuatThuocTrongNgay.TenNguoiThuHoi=e)&&t),t}),i.b,i.a)),t["\u0275did"](1,6012928,null,0,a.a,[o.a,u.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],modelText:[4,"modelText"],url:[5,"url"],validationerror:[6,"validationerror"],popupSettings:[7,"popupSettings"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"nguoithuhoi","Ng\u01b0\u01a1\u0300i thu h\xf4\u0300i","true",e.huyXuatThuocTrongNgay.NguoiThuHoiId,e.huyXuatThuocTrongNgay.TenNguoiThuHoi,"NhanVien/GetListLookupNhanVien",t["\u0275unv"](l,1,6,t["\u0275nov"](l,2).transform("NguoiThuHoiId",e.validationErrors)),null)}),null)}function k(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-datetimepicker",[["id","thuhoiluc"],["label","Thu h\xf4\u0300i Lu\u0301c"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.huyXuatThuocTrongNgay.ThoiGianThuHoi=e)&&t),t}),d.b,d.a)),t["\u0275did"](1,638976,null,0,c.a,[],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],validationerror:[4,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"thuhoiluc","Thu h\xf4\u0300i Lu\u0301c","true",e.huyXuatThuocTrongNgay.ThoiGianThuHoi,t["\u0275unv"](l,1,4,t["\u0275nov"](l,2).transform("ThoiGianThuHoi",e.validationErrors)))}),null)}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,45,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mb-1 mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](2,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](3,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,81920,null,0,T.m,[[2,T.l],t.ElementRef,T.e],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["XA\u0301C NH\xc2\u0323N HU\u0309Y XU\xc2\u0301T THU\xd4\u0301C"])),(n()(),t["\u0275eld"](7,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close()&&t),t}),g.d,g.b)),t["\u0275did"](8,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,C.b,C.a)),t["\u0275did"](10,9158656,null,0,x.b,[t.ElementRef,x.d,[8,null],[2,x.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](11,606208,null,0,S.a,[b.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](12,0,null,null,33,"mat-dialog-content",[["class","mat-dialog-content"],["style","height: 250px;"]],null,null,null,null,null)),t["\u0275did"](13,16384,null,0,T.j,[],null,null),(n()(),t["\u0275ted"](-1,null,[" B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y xu\xe2\u0301t thu\xf4\u0301c cu\u0309a phi\xea\u0301u thu pha\u0309i kh\xf4ng? "])),(n()(),t["\u0275eld"](15,0,null,null,30,"div",[["class","py-1"],["fxLayout","row"],["fxLayoutAlign","start center"]],null,null,null,null,null)),t["\u0275did"](16,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](17,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](18,0,null,null,27,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](19,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](20,1720320,null,0,s.d,[t.ElementRef,t.NgZone,y.b,r.i,[2,s.h],r.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](21,0,null,null,18,"fieldset",[["class","row ml-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](22,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](23,0,null,null,16,"table",[["class","table table-border"],["width","700px"]],null,null,null,null,null)),(n()(),t["\u0275eld"](24,0,null,null,15,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](25,0,null,null,1,"td",[],[[8,"width",0]],null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["N\xea\u0301u pha\u0309i:"])),(n()(),t["\u0275eld"](27,0,null,null,6,"td",[],[[8,"width",0]],null,null,null,null)),(n()(),t["\u0275eld"](28,0,null,null,5,"app-radio",[["id","thuhoiphieu"],["label","Thu h\xf4\u0300i phi\xea\u0301u"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.huyXuatThuocTrongNgay.ThuHoiPhieu=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeThuHoiPhieu(e)&&t),t}),D.b,D.a)),t["\u0275did"](29,114688,null,0,v.a,[],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],items:[4,"items"],validationerror:[5,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pod"](30,{Value:0,Text:1}),t["\u0275pod"](31,{Value:0,Text:1}),t["\u0275pad"](32,2),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](34,0,null,null,2,"td",[["width","30%"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](36,16384,null,0,N.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](37,0,null,null,2,"td",[["width","25%"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](39,16384,null,0,N.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](40,0,null,null,5,"fieldset",[["class","row ml-1"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](41,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](42,0,null,null,3,"app-textarea",[["class","item-no-padding"],["fxFlex","100%"],["fxFlex.sm","100%"],["id","ly-do"],["label","Ly\u0301 do"],["max","4000"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.huyXuatThuocTrongNgay.LyDo=e)&&t),t}),M.b,M.a)),t["\u0275did"](43,671744,null,0,s.a,[t.ElementRef,r.i,r.e,s.f,r.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](44,245760,null,0,L.a,[T.e],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],validationerror:[4,"validationerror"],minHeight:[5,"minHeight"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](46,0,null,null,10,"mat-dialog-actions",[["class","mat-dialog-actions"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"]],null,null,null,null,null)),t["\u0275did"](47,1720320,null,0,s.d,[t.ElementRef,t.NgZone,y.b,r.i,[2,s.h],r.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](48,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](49,16384,null,0,T.f,[],null,null),(n()(),t["\u0275eld"](50,0,null,null,3,"button",[["mat-button",""],["mat-dialog-close",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](n,52).dialogRef.close(t["\u0275nov"](n,52).dialogResult)&&i),i}),g.d,g.b)),t["\u0275did"](51,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],null,null),t["\u0275did"](52,606208,null,0,T.g,[[2,T.l],t.ElementRef,T.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t["\u0275ted"](-1,0,["Kh\xf4ng"])),(n()(),t["\u0275eld"](54,0,null,null,2,"button",[["cdkFocusInitial",""],["color","primary"],["mat-button",""],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.xacNhanThongTinHuy()&&t),t}),g.d,g.b)),t["\u0275did"](55,180224,null,0,m.b,[t.ElementRef,p.g,[2,f.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["C\xf3"]))],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,4,0),n(l,10,0),n(l,11,0,e.icClose),n(l,16,0,"row"),n(l,17,0,"start center"),n(l,19,0,"row wrap","column"),n(l,20,0,"16px grid","0"),n(l,22,0,"100%");var i=e.huyXuatThuocTrongNgay.ThuHoiPhieu,a=n(l,32,0,n(l,30,0,!0,"R\xf4\u0300i"),n(l,31,0,!1,"Ch\u01b0a"));n(l,29,0,"thuhoiphieu","Thu h\xf4\u0300i phi\xea\u0301u","true",i,a,t["\u0275unv"](l,29,5,t["\u0275nov"](l,33).transform("ThuHoiPhieu",e.validationErrors))),n(l,36,0,e.huyXuatThuocTrongNgay.ThuHoiPhieu),n(l,39,0,e.huyXuatThuocTrongNgay.ThuHoiPhieu),n(l,41,0,"100%"),n(l,43,0,"100%","100%"),n(l,44,0,"ly-do","Ly\u0301 do","true",e.huyXuatThuocTrongNgay.LyDo,t["\u0275unv"](l,44,4,t["\u0275nov"](l,45).transform("LyDo",e.validationErrors)),60),n(l,47,0,"8px"),n(l,48,0,"end center"),n(l,52,0,""),n(l,55,0,"primary")}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).id),n(l,7,0,t["\u0275nov"](l,8).disabled||null,"NoopAnimations"===t["\u0275nov"](l,8)._animationMode),n(l,9,0,t["\u0275nov"](l,10).inline,"primary"!==t["\u0275nov"](l,10).color&&"accent"!==t["\u0275nov"](l,10).color&&"warn"!==t["\u0275nov"](l,10).color,t["\u0275nov"](l,11).inline,t["\u0275nov"](l,11).size,t["\u0275nov"](l,11).iconHTML),n(l,25,0,t["\u0275inlineInterpolate"](1,"",e.huyXuatThuocTrongNgay.ThuHoiPhieu?"13%":"30%","")),n(l,27,0,t["\u0275inlineInterpolate"](1,"",e.huyXuatThuocTrongNgay.ThuHoiPhieu?"25%":"100%","")),n(l,50,0,t["\u0275nov"](l,51).disabled||null,"NoopAnimations"===t["\u0275nov"](l,51)._animationMode,t["\u0275nov"](l,52).ariaLabel||null,t["\u0275nov"](l,52).type),n(l,54,0,t["\u0275nov"](l,55).disabled||null,"NoopAnimations"===t["\u0275nov"](l,55)._animationMode)}))}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-xac-nhan-phieu-huy-thu-ban-thuoc",[],null,null,null,H,R)),t["\u0275did"](1,114688,null,0,P.a,[T.a,T.l,G.a,T.e,I.a,o.a],null,null)],(function(n,l){n(l,1,0)}),null)}var K=t["\u0275ccf"]("app-xac-nhan-phieu-huy-thu-ban-thuoc",P.a,E,{},{},[])},dFYs:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("0MWk"),a=e("VDRc"),o=e("/q54"),u=e("Ex7W"),h=e("TXUA"),d=e("SVse"),c=e("IP0z"),s=e("byyG"),r=e("usaP"),T=e("qc5V"),g=e("gM18"),m=e("bujt"),p=e("Fwaw"),f=e("5GAg"),C=e("omvX"),x=e("Mr+X"),S=e("BHPW"),b=e("PrTX"),y=e("Gi4r"),D=e("l+Q0"),v=e("cUpR"),N=e("L4kb"),M=e("h6cf"),L=e("qwqc"),P=e("a4YI"),G=e("0Uif"),I=e("xxjd"),R=e("OCug"),w=e("Dnqu"),k=e("QDH1"),H=e("s6ns"),E=e("uShY"),K=e("7OI1"),F=e("teW0"),V=e("7dP1"),B=e("iInd"),q=e("Y4+Y"),A=e("s7LF"),O=e("FIHo"),_=e("4hd2"),Q=e.n(_),X=e("Pdl6"),$=e("60aS"),Y=e("H+pe"),z=e("pQML"),W=e.n(z),U=e("PpHG"),Z=e("pJhR");class j{constructor(n,l,e,i,a,o){this.apiService=n,this.notificationService=l,this.dialog=e,this.snackBar=i,this.cdRef=a,this.router=o,this.tongTien=0,this.tongTienHienThi=0,this.icDelete=Q.a,this.validationThuThuocErrors=[],this.flagCheckSeletedTienMat=!1,this.flagCheckSeletedChuyenKhoan=!1,this.flagCheckSeletedPos=!1,this.flagCheckSeletedSoTienCongNo=!1,this.soLuongTonTrongKho=0,this.icInfo=W.a,this.arrayThanhToans=[],this.arrayThanhToanstmp=[],this.selectItem=[],this.checkSeletedTienMat=!1,this.checkSeletedChuyenKhoan=!1,this.checkSeletedPos=!1,this.isSelectingItem=!1,this.selectMoneyTienBNDua=null,this.selectMoneyTienMat=null,this.selectMoneyTienChuyenKhoan=null,this.selectMoneyTienPos=null,this.selectMoneySoTienCongNo=null,this.setDefeautTienMat=[1],this.showCanhBaoSoTienNhap=!1,this.tongTienGrid=0,this.danhSachChuaThanhToan=new t.EventEmitter,this.valueChangeThuTien=new t.EventEmitter,this.gridColumns=[],this.lstDonThuocMoiThem=Array(),this.dataSourcedanhsachThuoc={data:[],total:0},this.hinhThucThanhToan=[{KeyId:1,DisplayName:"Ti\u1ec1n m\u1eb7t",Selected:!1,Change:!1},{KeyId:2,DisplayName:"Chuy\u1ec3n kho\u1ea3n",Selected:!1,Change:!1},{KeyId:3,DisplayName:"Pos",Selected:!1,Change:!1},{KeyId:4,DisplayName:"C\xf4ng n\u1ee3",Selected:!1,Change:!1}],this.changeTab=new t.EventEmitter,this.MaTiepNhanBenhNhanDaThuTien=new t.EventEmitter,this.donThuocIds=[]}ngOnInit(){this.documentType=Y.b.QuayThuoc,this.thongtinDonThuoc=new O.r,this.lstDonThuocMoiThem=new Array,this.themDuocPham=new O.p,this.deleteItem=new Array,this.gridColumns=[{Field:"STT",Title:"#",Width:40,Sortable:!1},{Field:"TenDuocPham",Title:"T\xean Thu\u1ed1c-V\u1eadt T\u01b0",Width:120,Sortable:!1},{Field:"DonViTinh",Title:"\u0110VT",Width:60,Sortable:!1},{Field:"ViTri",Title:"V\u1ecb tr\xed",Width:120,Sortable:!1},{Field:"SoLuongMua",Title:"SL Mua",Width:90,Sortable:!1,Template:this.soLuonTemplate},{Field:"DonGia",Title:"\u0110\u01a1n gi\xe1",Width:100,Sortable:!1,Template:this.donGiaTemplate,TemplateFooter:this.footerTemplateDonGia},{Field:"ThanhTien",Title:"Th\xe0nh ti\u1ec1n",Width:100,Sortable:!1,Template:this.thanhTienTemplate,TemplateFooter:this.footerTemplateTongTienDonThuoc},{Field:"Solo",Title:"S\u1ed1 l\xf4",Width:120,Sortable:!1},{Field:"HanSuDungHientThi",Title:"H\u1ea1n s\u1eed d\u1ee5ng",Width:100,Sortable:!1},{Field:"Action",Title:"",Width:50,Template:this.actionTemplate}],this.flagCheckSeletedTienMat=!0,this.thongtinDonThuoc.NgayThu=new Date,this.thongtinDonThuoc.NoiDungThu="Thu ti\u1ec1n thu\u1ed1c",this.thongtinDonThuoc.HinhThucThanhToan=[1],this.hinhThucThanhToan=[{KeyId:1,DisplayName:"Ti\u1ec1n m\u1eb7t",Selected:!0,Change:!1},{KeyId:2,DisplayName:"Chuy\u1ec3n kho\u1ea3n",Selected:!1,Change:!1},{KeyId:3,DisplayName:"Pos",Selected:!1,Change:!1},{KeyId:4,DisplayName:"C\xf4ng n\u1ee3",Selected:!1,Change:!1}],null!=this.donThuocId.ToaThuoc&&this.getDonThuocChiTietCu()}onSelectDuocPham(n){void 0!==n?this.apiService.post("QuayThuoc/GetThongTinDuocPham?duocPhamId="+n.KeyId+"&LoaiDuocPhamHoacVatTu="+n.LoaiDuocPhamHoacVatTu).subscribe(n=>{let l=0;this.lstthongTinDonThuoc=n,this.lstDonThuocMoiThem.length>0&&this.lstDonThuocMoiThem.forEach(n=>{n.DuocPhamId==this.themDuocPham.DuocPhamId&&(l+=n.SoLuongMua)}),this.themDuocPham.SoLuongTon=n.reduce((n,l)=>n+l.SoLuongTon,0)-l}):this.themDuocPham.SoLuongTon=null}delete(n){null!=n&&null!=n&&this.dialog.open(X.a,{disableClose:!1,width:"500px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a thu\u1ed1c/v\u1eadt t\u01b0 n\xe0y kh\xf4ng ?"}}).afterClosed().subscribe(l=>{if("Yes"==l){let l=0,e=n.STT;for(let u=0;u<this.dataSourcedanhsachThuoc.data.length;u++)this.dataSourcedanhsachThuoc.data[u].STT==n.STT&&(l=u,this.soLuongTonTrongKho=this.dataSourcedanhsachThuoc.data[u].SoLuongTon);this.dataSourcedanhsachThuoc.data[l].SoLuongDung=null,this.dataSourcedanhsachThuoc.data[l].HighLightClass=null,this.deleteItem.push(this.dataSourcedanhsachThuoc.data[l]),this.lstthongTinDonThuoc=new Array,this.lstthongTinDonThuoc.push(this.dataSourcedanhsachThuoc.data[l]),this.dataSourcedanhsachThuoc.data.splice(l,1);let t=0,i="",a=0;this.deleteItem.length>0&&this.deleteItem.forEach(n=>{t+=n.SoLuongMua,i=n.TenDuocPham,a=n.DuocPhamId}),this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=null,this.lstDonThuocMoiThem=new Array;for(let n=0;n<l;n++)this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[n]);for(let n=l;n<this.dataSourcedanhsachThuoc.data.length;n++)this.dataSourcedanhsachThuoc.data[n].STT=e,this.lstDonThuocMoiThem.push(this.dataSourcedanhsachThuoc.data[n]),e++;this.tongTien=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0)+1e-7),this.tongTienHienThi=this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0);let o=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=o&&o.length>0&&this.tinhTienChoPhuongThucThanhToan(o[0].KeyId),this.themDuocPham.DuocPhamId==a&&this.apiService.post("QuayThuoc/GetThongTinDuocPham?duocPhamId="+n.DuocPhamId).subscribe(l=>{let e=0;0!=this.dataSourcedanhsachThuoc.data.length&&this.dataSourcedanhsachThuoc.data.forEach(l=>{l.DuocPhamId==n.DuocPhamId&&(e+=l.SoLuongMua)}),this.themDuocPham.SoLuongTon=l.reduce((n,l)=>n+l.SoLuongTon,0)-e}),this.notificationService.showSuccess("X\xf3a th\xe0nh c\xf4ng"),this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data)}})}onChangeTienThoi(){this.thongtinDonThuoc.TienTraLai=this.thongtinDonThuoc.BenhNhanDua<this.tongTien?null:this.thongtinDonThuoc.BenhNhanDua-this.tongTien}setLastItemDelete(){if(this.arrayThanhToanstmp.length>1&&this.arrayThanhToanstmp[this.arrayThanhToanstmp.length-2].length>this.arrayThanhToans.length){var n=this.arrayThanhToanstmp[this.arrayThanhToanstmp.length-1],l=this.arrayThanhToanstmp[this.arrayThanhToanstmp.length-2].filter(l=>!n.includes(l));let e=0;3==l&&(e=this.thongtinDonThuoc.POS,this.thongtinDonThuoc.POS=0),2==l&&(e=this.thongtinDonThuoc.ChuyenKhoan,this.thongtinDonThuoc.ChuyenKhoan=0),1==l&&(e=this.thongtinDonThuoc.TienMat,this.thongtinDonThuoc.TienMat=0);let t=this.arrayThanhToanstmp[this.arrayThanhToanstmp.length-1];if(4===t[t.length-1]){let n=t[t.length-2];2==n&&(this.thongtinDonThuoc.ChuyenKhoan+=e),3==n&&(this.thongtinDonThuoc.POS+=e),1==n&&(this.thongtinDonThuoc.TienMat+=e)}else{let n=t[t.length-1];2==n&&(this.thongtinDonThuoc.ChuyenKhoan+=e),3==n&&(this.thongtinDonThuoc.POS+=e),1==n&&(this.thongtinDonThuoc.TienMat+=e)}}}clearHinhThucThanhToan(){this.flagCheckSeletedTienMat=!1,this.flagCheckSeletedChuyenKhoan=!1,this.flagCheckSeletedPos=!1,this.checkSeletedTienMat=!1,this.checkSeletedChuyenKhoan=!1,this.flagCheckSeletedSoTienCongNo=!1,this.checkSeletedPos=!1}setLastItem(){this.arrayThanhToans.sort();let n=this.arrayThanhToans[this.arrayThanhToans.length-1];1==n&&(this.checkSeletedTienMat=!0,this.checkSeletedChuyenKhoan=!0,this.thongtinDonThuoc.TienMat=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS,this.thongtinDonThuoc.TienMat<0&&(this.thongtinDonThuoc.TienMat=0)),2==n&&(this.checkSeletedChuyenKhoan=!0,this.thongtinDonThuoc.ChuyenKhoan=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS,this.thongtinDonThuoc.ChuyenKhoan<0&&(this.thongtinDonThuoc.ChuyenKhoan=0)),3==n&&(this.checkSeletedPos=!0,this.thongtinDonThuoc.POS=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan,this.thongtinDonThuoc.POS<0&&(this.thongtinDonThuoc.POS=0)),null==n&&(this.thongtinDonThuoc.TienMat=0,this.thongtinDonThuoc.POS=0,this.thongtinDonThuoc.ChuyenKhoan=0)}setLastItemBangTien(n){this.arrayThanhToans.sort();let l=this.arrayThanhToans[this.arrayThanhToans.length-1];1==l&&(this.checkSeletedTienMat=!0,this.checkSeletedChuyenKhoan=!0,this.thongtinDonThuoc.TienMat=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS,this.thongtinDonThuoc.TienMat<0&&(this.thongtinDonThuoc.TienMat=0)),2==l&&(this.checkSeletedChuyenKhoan=!0,this.thongtinDonThuoc.ChuyenKhoan=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS,this.thongtinDonThuoc.ChuyenKhoan<0&&(this.thongtinDonThuoc.ChuyenKhoan=0)),3==l&&(this.checkSeletedPos=!0,this.thongtinDonThuoc.POS=this.tongTien-this.thongtinDonThuoc.TienMat-n,this.thongtinDonThuoc.POS<0&&(this.thongtinDonThuoc.POS=0)),null==l&&(this.thongtinDonThuoc.TienMat=0,this.thongtinDonThuoc.POS=0,this.thongtinDonThuoc.ChuyenKhoan=0)}changeSoTien(n){switch(n){case 1:this.thongtinDonThuoc.TienMat=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo<0?0:this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo;break;case 2:this.thongtinDonThuoc.ChuyenKhoan=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo<0?0:this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo;break;case 3:this.thongtinDonThuoc.POS=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.SoTienCongNo<0?0:this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.SoTienCongNo;break;case 4:this.thongtinDonThuoc.SoTienCongNo=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS<0?0:this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS}}onValueChange(n,l){this.thongtinDonThuoc.TienTraLai<0&&(this.thongtinDonThuoc.TienTraLai=0),this.hinhThucThanhToan.forEach(n=>{n.KeyId==l&&(n.Change=!0)});var e=this.hinhThucThanhToan.filter(n=>1==n.Selected&&0==n.Change);if(1==e.length)this.changeSoTien(e[0].KeyId);else if(0==e.length&&2==this.hinhThucThanhToan.filter(n=>1==n.Selected).length){var t=this.hinhThucThanhToan.filter(n=>1==n.Selected&&n.KeyId!=l);this.changeSoTien(t[0].KeyId)}this.showCanhBaoSoTienNhap=this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo!=this.tongTien,this.changeTienTraLaiBenhNhan()}changeTienTraLaiBenhNhan(){this.thongtinDonThuoc.TienTraLai=this.thongtinDonThuoc.BenhNhanDua>this.thongtinDonThuoc.TienMat?this.thongtinDonThuoc.BenhNhanDua-this.thongtinDonThuoc.TienMat:0}modelChangePos(n,l){this.selectMoneyTienPos=[this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.SoTienCongNo===0?this.tongTien:this.tongTien-(this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.SoTienCongNo),0],this.thongtinDonThuoc.POS=n,this.onValueChange(n,l)}modelChangeChuyenKhoan(n,l){this.selectMoneyTienChuyenKhoan=[this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo!==0?this.tongTien:this.tongTien-(this.thongtinDonThuoc.TienMat+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo),0],this.thongtinDonThuoc.ChuyenKhoan=n,this.onValueChange(n,l)}modelChangeTienMat(n,l){this.selectMoneyTienMat=[this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo===0?this.tongTien:this.tongTien-(this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.SoTienCongNo),0],this.thongtinDonThuoc.TienTraLai=this.thongtinDonThuoc.BenhNhanDua-this.thongtinDonThuoc.TienMat,this.thongtinDonThuoc.TienTraLai<0&&(this.thongtinDonThuoc.TienTraLai=0),this.thongtinDonThuoc.TienMat=n,this.onValueChange(n,l)}modelChangeSoTienCongNo(n,l){this.selectMoneySoTienCongNo=[this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.TienMat===0?this.tongTien:this.tongTien-(this.thongtinDonThuoc.ChuyenKhoan+this.thongtinDonThuoc.POS+this.thongtinDonThuoc.TienMat),0],this.thongtinDonThuoc.SoTienCongNo=n,this.onValueChange(n,l)}modelChangeTienBNDua(n){this.selectMoneyTienBNDua=[this.tongTien,1e8],this.thongtinDonThuoc.TienTraLai=n-this.thongtinDonThuoc.TienMat,this.thongtinDonThuoc.TienTraLai<0&&(this.thongtinDonThuoc.TienTraLai=0)}onChangeBenhNhanDua(){this.thongtinDonThuoc.TienTraLai=this.thongtinDonThuoc.BenhNhanDua-this.thongtinDonThuoc.TienMat,this.thongtinDonThuoc.TienTraLai<0&&(this.thongtinDonThuoc.TienTraLai=0)}XacNhanIn(n){this.showPopupLoadingIn(),n.Hosting=window.location.protocol+"//"+window.location.host,this.apiService.postExportExcel("QuayThuoc/XacNhanIn",n).subscribe(l=>{null!=l&&null!=l&&(0==n.InBangKe&&0==n.InPhieuThu?(this.notificationService.showError("Kh\xf4ng c\xf3 phi\u1ebfu in \u0111\u01b0\u1ee3c ch\u1ecdn."),this.closePopupLoadingData()):this.dialog.open(U.a,{disableClose:!0,width:"1000px",data:{Model:l}}).afterClosed().subscribe(()=>{this.closePopupLoadingData()}))},n=>{this.closePopupLoadingData(),this.validationErrors=n.ValidationErrors,"Validation Failed"!=n.Message&&this.notificationService.showError(n.Message)})}shareData(){this.thongtinDonThuoc.DanhSachDonThuocs=[...this.dataSourcedanhsachThuoc.data];for(let n=0;n<this.thongtinDonThuoc.DanhSachDonThuocs.length;n++)this.thongtinDonThuoc.DanhSachDonThuocs[n].HighLightClass=null,0==this.thongtinDonThuoc.DanhSachDonThuocs[n].CheckedDefault&&(this.thongtinDonThuoc.DanhSachDonThuocs.splice(n,1),n=-1);return this.thongtinDonThuoc}ThuTienVaXuatThuoc(){if(this.validationErrors=[],this.cdRef.detectChanges(),this.dataSourcedanhsachThuoc.data!==[]&&0!=this.dataSourcedanhsachThuoc.data.length)if(-1==this.dataSourcedanhsachThuoc.data.findIndex(n=>1==n.LoaiDonThuoc))if(-1==this.dataSourcedanhsachThuoc.data.findIndex(n=>1==n.ThuocTrongKhoExit)){if(null==this.thongtinDonThuoc.TienMat&&(this.thongtinDonThuoc.TienMat=0),null==this.thongtinDonThuoc.ChuyenKhoan&&(this.thongtinDonThuoc.ChuyenKhoan=0),null==this.thongtinDonThuoc.POS&&(this.thongtinDonThuoc.POS=0),null==this.thongtinDonThuoc.BenhNhanDua&&(this.thongtinDonThuoc.BenhNhanDua=0),void 0===this.thongTinKhachVangLai&&(this.thongTinKhachVangLai=new O.j),0===this.setDefeautTienMat.length)return this.validationErrors.push({Message:"Vui lo\u0300ng cho\u0323n hi\u0300nh th\u01b0\u0301c thanh toa\u0301n",Field:"HinhThucThanhToan"}),!0;var n={HoTen:this.thongTinKhachVangLai.HoTen,NamSinh:this.thongTinKhachVangLai.NamSinh,HinhThucThanhToan:this.thongtinDonThuoc.HinhThucThanhToan,TienMat:this.thongtinDonThuoc.TienMat,ChuyenKhoan:this.thongtinDonThuoc.ChuyenKhoan,POS:this.thongtinDonThuoc.POS,SoTienCongNo:this.thongtinDonThuoc.SoTienCongNo,BenhNhanDua:this.thongtinDonThuoc.BenhNhanDua,NgayThu:this.thongtinDonThuoc.NgayThu,NoiDungThu:this.thongtinDonThuoc.NoiDungThu,TongTien:this.tongTien};this.validationErrors=[],this.validationErrorsThongTin=[],null!=this.donThuocId.maBN?(this.maBN=this.donThuocId.maBN,this.apiService.post("QuayThuoc/GetThongTinBenhNhan1?maBN="+this.maBN).subscribe(n=>{this.thongTinKhachVangLai.Id=n.Id,this.thongTinKhachVangLai.HoTen=n.HoTen,this.thongTinKhachVangLai.GioiTinh=n.GioiTinh,this.thongTinKhachVangLai.DiaChi=n.DiaChi,this.thongTinKhachVangLai.DiaChiDayDu=n.DiaChiDayDu,this.thongTinKhachVangLai.NamSinh=n.NamSinh,this.thongTinKhachVangLai.PhuongXaId=n.PhuongXaId,this.thongTinKhachVangLai.QuanHuyenId=n.QuanHuyenId,this.thongTinKhachVangLai.SoDienThoai=n.SoDienThoai,this.thongTinKhachVangLai.TinhThanhId=n.TinhThanhId,this.thongTinKhachVangLai.Email=n.Email}),this.apiService.post("QuayThuoc/GetTenBenhNhan?benhNhanId="+this.maBN).subscribe(l=>{this.tenBN=l,n.HoTen=this.tenBN,n.NamSinh=this.thongTinKhachVangLai.NamSinh,this.thongtinDonThuoc.HoTenBenhNhan=this.tenBN,this.thongTinKhachVangLai.HoTen=this.tenBN,this.apiService.post("QuayThuoc/CheckValidationForQuayThuocKhachVangLai",n).subscribe(()=>{var n={ThongTinKhach:this.thongTinKhachVangLai,ThongTinThuChi:this.thongtinDonThuoc,DanhSachDonThuoc:this.lstDonThuocMoiThem};let l=this.thongTinKhachVangLai.HoTen.toUpperCase();this.dialog.open(X.a,{width:"1000px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n thu c\u1ee7a ng\u01b0\u1eddi b\u1ec7nh "+l.bold()+" v\u1edbi s\u1ed1 ti\u1ec1n l\xe0 "+this.tongTien.toLocaleString("vi-VI").bold()+" \u0111\u1ed3ng hay kh\xf4ng?"}}).afterClosed().subscribe(l=>{"Yes"==l&&this.apiService.post("QuayThuoc/ThuTienKhachVangLaiVaXuatThuoc",n).subscribe(l=>{if(n.DanhSachDonThuoc=[],this.lstDonThuocMoiThem=[],0==l.ThanhCong){this.notificationService.showError(l.Error);for(let n=0;n<l.DanhSachDuocPhamVuotTonKho.length;n++)for(let e=0;e<this.dataSourcedanhsachThuoc.data.length;e++)l.DanhSachDuocPhamVuotTonKho[n].Stt==this.dataSourcedanhsachThuoc.data[e].STT&&(this.dataSourcedanhsachThuoc.data[e].HighLightClass="bg-row-lightpink",this.dataSourcedanhsachThuoc.data[e].SoLuongDung=l.DanhSachDuocPhamVuotTonKho[n].SoLuongTonKho)}else 1==l.ThanhCong&&(this.dataSourcedanhsachThuoc.data=[],void 0!==this.gridDanhSachMuaThuoc&&this.gridDanhSachMuaThuoc.setDataSource(),this.tongTien=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0)+1e-7),this.tongTienHienThi=this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0),this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1)>=0&&(this.thongtinDonThuoc.TienMat=this.tongTien),this.benhNhanResultData=l,this.apiService.post("QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId="+l.TaiKhoanBenhNhanThuId).subscribe(n=>{this.dialog.open($.a,{disableClose:!0,width:"500px",data:{Model:this.benhNhanResultData,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(l=>{"No answer"!=l.Response?(this.changeTab.emit(2),this.MaTiepNhanBenhNhanDaThuTien.emit(n),this.XacNhanIn(l)):(this.changeTab.emit(2),this.MaTiepNhanBenhNhanDaThuTien.emit(n))})}))})})},n=>{if(this.validationErrors=n.ValidationErrors,0!==this.validationErrors.length)for(var l=0;l<this.validationErrors.length;l++)"HoTen"===this.validationErrors[l].Field&&this.validationErrorsThongTin.push(this.validationErrors[l]),"NamSinh"===this.validationErrors[l].Field&&this.validationErrorsThongTin.push(this.validationErrors[l]);this.valueChangeThuTien.emit(this.validationErrorsThongTin)})},()=>{})):this.apiService.post("QuayThuoc/CheckValidationForQuayThuocKhachVangLai",n).subscribe(()=>{var n={ThongTinKhach:this.thongTinKhachVangLai,ThongTinThuChi:this.thongtinDonThuoc,DanhSachDonThuoc:this.lstDonThuocMoiThem};let l=this.thongTinKhachVangLai.HoTen.toUpperCase();this.dialog.open(X.a,{width:"1000px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n thu c\u1ee7a ng\u01b0\u1eddi b\u1ec7nh "+l.bold()+" v\u1edbi s\u1ed1 ti\u1ec1n l\xe0 "+this.tongTien.toLocaleString("vi-VI").bold()+" \u0111\u1ed3ng hay kh\xf4ng?"}}).afterClosed().subscribe(l=>{"Yes"==l&&this.apiService.post("QuayThuoc/ThuTienKhachVangLaiVaXuatThuoc",n).subscribe(l=>{if(n.DanhSachDonThuoc=[],this.lstDonThuocMoiThem=[],0==l.ThanhCong){this.notificationService.showError(l.Error);for(let n=0;n<l.DanhSachDuocPhamVuotTonKho.length;n++)for(let e=0;e<this.dataSourcedanhsachThuoc.data.length;e++)l.DanhSachDuocPhamVuotTonKho[n].Stt==this.dataSourcedanhsachThuoc.data[e].STT&&(this.dataSourcedanhsachThuoc.data[e].HighLightClass="bg-row-lightpink",this.dataSourcedanhsachThuoc.data[e].SoLuongDung=l.DanhSachDuocPhamVuotTonKho[n].SoLuongTonKho)}else 1==l.ThanhCong&&(this.reset(),this.dataSourcedanhsachThuoc.data=[],void 0!==this.gridDanhSachMuaThuoc&&this.gridDanhSachMuaThuoc.setDataSource(),this.tongTien=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0)+1e-7),this.tongTienHienThi=this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0),this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1)>=0&&(this.thongtinDonThuoc.TienMat=this.tongTien),this.benhNhanResultData=l,this.apiService.post("QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId="+l.TaiKhoanBenhNhanThuId).subscribe(n=>{this.dialog.open($.a,{disableClose:!0,width:"500px",data:{Model:this.benhNhanResultData,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(l=>{"No answer"!=l.Response?(this.changeTab.emit(2),this.MaTiepNhanBenhNhanDaThuTien.emit(n),this.XacNhanIn(l)):(this.changeTab.emit(2),this.MaTiepNhanBenhNhanDaThuTien.emit(n))})}))})})},n=>{if(this.validationErrors=n.ValidationErrors,0!==this.validationErrors.length)for(var l=0;l<this.validationErrors.length;l++)"HoTen"===this.validationErrors[l].Field&&this.validationErrorsThongTin.push(this.validationErrors[l]),"NamSinh"===this.validationErrors[l].Field&&this.validationErrorsThongTin.push(this.validationErrors[l]);this.valueChangeThuTien.emit(this.validationErrorsThongTin)})}else this.notificationService.showError("Thu\u1ed1c trong kho kh\xf4ng c\xf2n.");else this.notificationService.showError("\u0110ang c\xf3 thu\u1ed1c b\u1ea3o hi\u1ec3m trong \u0111\u01a1n thu\u1ed1c.");else this.notificationService.showError("Ng\u01b0\u1eddi b\u1ec7nh n\xe0y kh\xf4ng c\xf3 thu\u1ed1c n\xe0o \u0111\u1ec3 thanh to\xe1n.")}ThuTien(){if(this.validationErrors=[],this.cdRef.detectChanges(),this.dataSourcedanhsachThuoc.data!==[]&&0!=this.dataSourcedanhsachThuoc.data.length)if(-1==this.dataSourcedanhsachThuoc.data.findIndex(n=>1==n.LoaiDonThuoc))if(-1==this.dataSourcedanhsachThuoc.data.findIndex(n=>1==n.ThuocTrongKhoExit)){if(null==this.thongtinDonThuoc.TienMat&&(this.thongtinDonThuoc.TienMat=0),null==this.thongtinDonThuoc.ChuyenKhoan&&(this.thongtinDonThuoc.ChuyenKhoan=0),null==this.thongtinDonThuoc.POS&&(this.thongtinDonThuoc.POS=0),null==this.thongtinDonThuoc.BenhNhanDua&&(this.thongtinDonThuoc.BenhNhanDua=0),void 0===this.thongTinKhachVangLai&&(this.thongTinKhachVangLai=new O.j),0===this.setDefeautTienMat.length)return this.validationErrors.push({Message:"Vui lo\u0300ng cho\u0323n hi\u0300nh th\u01b0\u0301c thanh toa\u0301n",Field:"HinhThucThanhToan"}),!0;var n={HoTen:this.thongTinKhachVangLai.HoTen,NamSinh:this.thongTinKhachVangLai.NamSinh,HinhThucThanhToan:this.thongtinDonThuoc.HinhThucThanhToan,TienMat:this.thongtinDonThuoc.TienMat,ChuyenKhoan:this.thongtinDonThuoc.ChuyenKhoan,POS:this.thongtinDonThuoc.POS,SoTienCongNo:this.thongtinDonThuoc.SoTienCongNo,BenhNhanDua:this.thongtinDonThuoc.BenhNhanDua,NgayThu:this.thongtinDonThuoc.NgayThu,NoiDungThu:this.thongtinDonThuoc.NoiDungThu,TongTien:this.tongTien};this.validationErrors=[],this.validationErrorsThongTin=[],null!=this.donThuocId.maBN?(this.maBN=this.donThuocId.maBN,this.apiService.post("QuayThuoc/GetThongTinBenhNhan1?maBN="+this.maBN).subscribe(n=>{this.thongTinKhachVangLai.Id=n.Id,this.thongTinKhachVangLai.HoTen=n.HoTen,this.thongTinKhachVangLai.GioiTinh=n.GioiTinh,this.thongTinKhachVangLai.DiaChi=n.DiaChi,this.thongTinKhachVangLai.DiaChiDayDu=n.DiaChiDayDu,this.thongTinKhachVangLai.NamSinh=n.NamSinh,this.thongTinKhachVangLai.PhuongXaId=n.PhuongXaId,this.thongTinKhachVangLai.QuanHuyenId=n.QuanHuyenId,this.thongTinKhachVangLai.SoDienThoai=n.SoDienThoai,this.thongTinKhachVangLai.TinhThanhId=n.TinhThanhId,this.thongTinKhachVangLai.Email=n.Email}),this.apiService.post("QuayThuoc/GetTenBenhNhan?benhNhanId="+this.maBN).subscribe(l=>{this.tenBN=l,n.HoTen=this.tenBN,n.NamSinh=this.thongTinKhachVangLai.NamSinh,this.thongtinDonThuoc.HoTenBenhNhan=this.tenBN,this.thongTinKhachVangLai.HoTen=this.tenBN,this.apiService.post("QuayThuoc/CheckValidationForQuayThuocKhachVangLai",n).subscribe(()=>{var n={ThongTinKhach:this.thongTinKhachVangLai,ThongTinThuChi:this.thongtinDonThuoc,DanhSachDonThuoc:this.lstDonThuocMoiThem};let l=this.thongTinKhachVangLai.HoTen.toUpperCase();this.dialog.open(X.a,{width:"1000px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n thu c\u1ee7a ng\u01b0\u1eddi b\u1ec7nh "+l.bold()+" v\u1edbi s\u1ed1 ti\u1ec1n l\xe0 "+this.tongTien.toLocaleString("vi-VI").bold()+" \u0111\u1ed3ng hay kh\xf4ng?"}}).afterClosed().subscribe(l=>{"Yes"==l&&this.apiService.post("QuayThuoc/ThuTienKhachVangLai",n).subscribe(l=>{if(n.DanhSachDonThuoc=[],this.lstDonThuocMoiThem=[],0==l.ThanhCong){this.notificationService.showError(l.Error);for(let n=0;n<l.DanhSachDuocPhamVuotTonKho.length;n++)for(let e=0;e<this.dataSourcedanhsachThuoc.data.length;e++)l.DanhSachDuocPhamVuotTonKho[n].Stt==this.dataSourcedanhsachThuoc.data[e].STT&&(this.dataSourcedanhsachThuoc.data[e].HighLightClass="bg-row-lightpink",this.dataSourcedanhsachThuoc.data[e].SoLuongDung=l.DanhSachDuocPhamVuotTonKho[n].SoLuongTonKho)}else 1==l.ThanhCong&&(this.dataSourcedanhsachThuoc.data=[],void 0!==this.gridDanhSachMuaThuoc&&this.gridDanhSachMuaThuoc.setDataSource(),this.tongTien=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0)+1e-7),this.tongTienHienThi=this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0),this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1)>=0&&(this.thongtinDonThuoc.TienMat=this.tongTien),this.benhNhanResultData=l,this.apiService.post("QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId="+l.TaiKhoanBenhNhanThuId).subscribe(n=>{this.dialog.open($.a,{disableClose:!0,width:"500px",data:{Model:this.benhNhanResultData,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(l=>{"No answer"!=l.Response?(this.changeTab.emit(2),this.MaTiepNhanBenhNhanDaThuTien.emit(n),this.XacNhanIn(l)):(this.changeTab.emit(2),this.MaTiepNhanBenhNhanDaThuTien.emit(n))})}))})})},n=>{if(this.validationErrors=n.ValidationErrors,0!==this.validationErrors.length)for(var l=0;l<this.validationErrors.length;l++)"HoTen"===this.validationErrors[l].Field&&this.validationErrorsThongTin.push(this.validationErrors[l]),"NamSinh"===this.validationErrors[l].Field&&this.validationErrorsThongTin.push(this.validationErrors[l]);this.valueChangeThuTien.emit(this.validationErrorsThongTin)})},()=>{})):this.apiService.post("QuayThuoc/CheckValidationForQuayThuocKhachVangLai",n).subscribe(()=>{var n={ThongTinKhach:this.thongTinKhachVangLai,ThongTinThuChi:this.thongtinDonThuoc,DanhSachDonThuoc:this.lstDonThuocMoiThem};let l=this.thongTinKhachVangLai.HoTen.toUpperCase();this.dialog.open(X.a,{width:"1000px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n thu c\u1ee7a ng\u01b0\u1eddi b\u1ec7nh "+l.bold()+" v\u1edbi s\u1ed1 ti\u1ec1n l\xe0 "+this.tongTien.toLocaleString("vi-VI").bold()+" \u0111\u1ed3ng hay kh\xf4ng?"}}).afterClosed().subscribe(l=>{"Yes"==l&&this.apiService.post("QuayThuoc/ThuTienKhachVangLai",n).subscribe(l=>{if(n.DanhSachDonThuoc=[],this.lstDonThuocMoiThem=[],0==l.ThanhCong){this.notificationService.showError(l.Error);for(let n=0;n<l.DanhSachDuocPhamVuotTonKho.length;n++)for(let e=0;e<this.dataSourcedanhsachThuoc.data.length;e++)l.DanhSachDuocPhamVuotTonKho[n].Stt==this.dataSourcedanhsachThuoc.data[e].STT&&(this.dataSourcedanhsachThuoc.data[e].HighLightClass="bg-row-lightpink",this.dataSourcedanhsachThuoc.data[e].SoLuongDung=l.DanhSachDuocPhamVuotTonKho[n].SoLuongTonKho)}else 1==l.ThanhCong&&(this.reset(),this.dataSourcedanhsachThuoc.data=[],void 0!==this.gridDanhSachMuaThuoc&&this.gridDanhSachMuaThuoc.setDataSource(),this.tongTien=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0)+1e-7),this.tongTienHienThi=this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0),this.thongtinDonThuoc.HinhThucThanhToan.indexOf(1)>=0&&(this.thongtinDonThuoc.TienMat=this.tongTien),this.benhNhanResultData=l,this.apiService.post("QuayThuoc/GetBenhNhanForNavigation?taiKhoanThuId="+l.TaiKhoanBenhNhanThuId).subscribe(n=>{this.dialog.open($.a,{disableClose:!0,width:"500px",data:{Model:this.benhNhanResultData,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(l=>{"No answer"!=l.Response?(this.changeTab.emit(2),this.MaTiepNhanBenhNhanDaThuTien.emit(n),this.XacNhanIn(l)):(this.changeTab.emit(2),this.MaTiepNhanBenhNhanDaThuTien.emit(n))})}))})})},n=>{if(this.validationErrors=n.ValidationErrors,0!==this.validationErrors.length)for(var l=0;l<this.validationErrors.length;l++)"HoTen"===this.validationErrors[l].Field&&this.validationErrorsThongTin.push(this.validationErrors[l]),"NamSinh"===this.validationErrors[l].Field&&this.validationErrorsThongTin.push(this.validationErrors[l]);this.valueChangeThuTien.emit(this.validationErrorsThongTin)})}else this.notificationService.showError("Thu\u1ed1c trong kho kh\xf4ng c\xf2n.");else this.notificationService.showError("\u0110ang c\xf3 thu\u1ed1c b\u1ea3o hi\u1ec3m trong \u0111\u01a1n thu\u1ed1c.");else this.notificationService.showError("Ng\u01b0\u1eddi b\u1ec7nh n\xe0y kh\xf4ng c\xf3 thu\u1ed1c n\xe0o \u0111\u1ec3 thanh to\xe1n.")}showError(n){this.showIt(n)}showIt(n){null!=this.snackBarOpen&&this.snackBarOpen.dismiss(),this.snackBarOpen=this.snackBar.open(n,"\u0110\xf3ng",{duration:7e3,horizontalPosition:"right"})}them1(){if(this.validationThuocErrors=[],null==this.themDuocPham.DuocPhamId&&this.validationThuocErrors.push({Message:"D\u01b0\u1ee3c ph\u1ea9m y\xeau c\u1ea7u nh\u1eadp",Field:"DuocPhamId"}),null==this.themDuocPham.SoLuong&&this.validationThuocErrors.push({Message:"S\u1ed1 l\u01b0\u1ee3ng y\xeau c\u1ea7u nh\u1eadp",Field:"SoLuong"}),0==this.themDuocPham.SoLuong&&this.validationThuocErrors.push({Message:"S\u1ed1 l\u01b0\u1ee3ng ph\u1ea3i l\u1edbn h\u01a1n 0",Field:"SoLuong"}),this.themDuocPham.SoLuongTon<this.themDuocPham.SoLuong&&this.validationThuocErrors.push({Message:"S\u1ed1 l\u01b0\u1ee3ng ph\u1ea3i nh\u1ecf h\u01a1n t\u1ed3n kho",Field:"SoLuong"}),this.validationThuocErrors.length>0)return;let n=0;if(this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=null,this.lstDonThuocMoiThem.length>0&&this.lstDonThuocMoiThem.forEach(l=>{l.DuocPhamId==this.themDuocPham.DuocPhamId&&(n+=l.SoLuongMua)}),this.themDuocPham.SoLuongTon>=this.themDuocPham.SoLuong){let l=1,e=1;this.dataSourcedanhsachThuoc.data.length>0&&(l=this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length-1].STT+1,e=this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length-1].Id+1);let t=this.themDuocPham.SoLuong,i=this.lstthongTinDonThuoc;if(null!=this.lstDonThuocMoiThem||null!=this.lstDonThuocMoiThem)for(let n=0;n<this.lstDonThuocMoiThem.length;n++)for(let l=0;l<this.lstthongTinDonThuoc.length;l++)this.lstDonThuocMoiThem[n].Solo==this.lstthongTinDonThuoc[l].Solo&&(this.lstthongTinDonThuoc[l].SoLuongTon=this.lstthongTinDonThuoc[l].SoLuongTon-this.lstDonThuocMoiThem[n].SoLuongMua,i=this.lstthongTinDonThuoc);console.log("lusc them :",this.lstthongTinDonThuoc);for(let n=0;n<i.length;n++)if(i[n].SoLuongTon>0){if(0==t)break;{let i=new O.s;t<=this.lstthongTinDonThuoc[n].SoLuongTon?((i=Object.assign({},this.lstthongTinDonThuoc[n])).SoLuongMua=t,i.STT=l,i.Id=e,i.CheckedDefault=!0,i.isNew=!0,i.BacSiKeToa="Nh\xe0 Thu\u1ed1c",i.ThanhTien=i.SoLuongMua*i.DonGia,i.LoaiDuocPhamHoacVatTu1=i.LoaiDuocPhamHoacVatTu,this.lstDonThuocMoiThem.push(i),this.lstthongTinDonThuoc[n].SoLuongTon=this.lstthongTinDonThuoc[n].SoLuongTon-t,this.dataSourcedanhsachThuoc.data.push(i),this.duocPhamCombobox.focusManual(),t=0):((i=Object.assign({},this.lstthongTinDonThuoc[n])).SoLuongMua=this.lstthongTinDonThuoc[n].SoLuongTon,i.ThanhTien=i.SoLuongMua*i.DonGia,i.STT=l,i.Id=e,i.isNew=!0,i.CheckedDefault=!0,i.BacSiKeToa="Nh\xe0 Thu\u1ed1c",i.LoaiDuocPhamHoacVatTu1=i.LoaiDuocPhamHoacVatTu,t-=this.lstthongTinDonThuoc[n].SoLuongTon,this.lstDonThuocMoiThem.push(i),this.dataSourcedanhsachThuoc.data.push(i),this.duocPhamCombobox.focusManual(),this.lstthongTinDonThuoc.splice(n,1),n=-1),this.gridDanhSachMuaThuoc.setSelectCheckbox(e),e++,l++}}this.lstDonThuocMoiThem.length>0&&this.lstDonThuocMoiThem.forEach(l=>{l.DuocPhamId==this.themDuocPham.DuocPhamId&&(n+=l.SoLuongMua)}),this.themDuocPham.SoLuongTon=this.themDuocPham.SoLuongTon-this.themDuocPham.SoLuong,this.tongTien=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0)+1e-7),this.tongTienHienThi=this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0);let a=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=a&&a.length>0&&this.tinhTienChoPhuongThucThanhToan(a[0].KeyId),this.themDuocPham=new O.p}else this.notificationService.showError("S\u1ed1 l\u01b0\u1ee3ng b\u1ea1n nh\u1eadp l\u1edbn h\u01a1n s\u1ed1 l\u01b0\u1ee3ng t\u1ed3n");this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data)}danhSachXemTruocBangKeThuocVaVatTu(n){this.danhSachChuaThanhToan.emit(n)}getDonThuocChiTietCu(){let n=[];"string"==typeof this.donThuocId.ToaThuoc?n.push(this.donThuocId.ToaThuoc):this.donThuocId.ToaThuoc.forEach(l=>{n.push(l)}),this.apiService.post("QuayThuoc/GetDonthuocChiTietCu",{ToaThuoc:n}).subscribe(n=>{this.validationThuocErrors=[];let l=0;if(this.lstDonThuocMoiThem.length>0&&this.lstDonThuocMoiThem.forEach(n=>{n.DuocPhamId==this.themDuocPham.DuocPhamId&&(l+=n.SoLuongMua)}),this.themDuocPham.SoLuongTon>=this.themDuocPham.SoLuong){let e=1,t=1;this.dataSourcedanhsachThuoc.data.length>0&&(e=this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length-1].STT+1,t=this.dataSourcedanhsachThuoc.data[this.dataSourcedanhsachThuoc.data.length-1].Id+1);for(let l=0;l<n.length;l++){let i=this.themDuocPham.SoLuong;if(0==i)break;{let a=new O.s;i<=n[l].SoLuongTon?(i=(a=Object.assign({},n[l])).SoLuongMua,a.STT=e,a.Id=t,a.CheckedDefault=!0,a.isNew=!0,a.BacSiKeToa="Nh\xe0 Thu\u1ed1c",a.ThanhTien=a.SoLuongMua*a.DonGia,this.lstDonThuocMoiThem.push(a),n[l].SoLuongTon=n[l].SoLuongTon-i,this.dataSourcedanhsachThuoc.data.push(a),i=0):((a=Object.assign({},this.lstthongTinDonThuoc[l])).SoLuongMua=n[l].SoLuongTon,a.ThanhTien=a.SoLuongMua*a.DonGia,a.STT=e,a.Id=t,a.isNew=!0,a.CheckedDefault=!0,a.BacSiKeToa="Nh\xe0 Thu\u1ed1c",i-=n[l].SoLuongTon,this.lstDonThuocMoiThem.push(a),this.dataSourcedanhsachThuoc.data.push(a),n.splice(l,1),l=-1),this.gridDanhSachMuaThuoc.setSelectCheckbox(t),t++,e++}}this.lstDonThuocMoiThem.length>0&&this.lstDonThuocMoiThem.forEach(n=>{n.DuocPhamId==this.themDuocPham.DuocPhamId&&(l+=n.SoLuongMua)}),this.themDuocPham.SoLuongTon=this.themDuocPham.SoLuongTon-this.themDuocPham.SoLuong,this.tongTien=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0)+1e-7),this.tongTienHienThi=this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0),1==this.thongtinDonThuoc.HinhThucThanhToan.length&&1==this.thongtinDonThuoc.HinhThucThanhToan[0]&&(this.thongtinDonThuoc.TienMat=this.tongTien),this.themDuocPham=new O.p}else this.notificationService.showError("S\u1ed1 l\u01b0\u1ee3ng b\u1ea1n nh\u1eadp l\u1edbn h\u01a1n s\u1ed1 l\u01b0\u1ee3ng t\u1ed3n")},()=>{})}reset(){this.thongtinDonThuoc.HinhThucThanhToan=[1],this.thongtinDonThuoc.TienMat=null,this.thongtinDonThuoc.BenhNhanDua=null,this.thongtinDonThuoc.TienTraLai=null,this.thongtinDonThuoc.NgayThu=new Date,this.thongtinDonThuoc.NoiDungThu="Thu ti\u1ec1n thu\u1ed1c"}onKeyEnterAddItem(n){"Enter"!=n.key||this.isSelectingItem||(1!=this.isSelectingItem?this.them1():this.isSelectingItem=!1)}openCombobox(n){this.isSelectingItem=!!n}onKey(n){"Enter"!=n.key||this.isSelectingItem||(1!=this.isSelectingItem?this.them1():this.isSelectingItem=!1)}modelChangeSoLuongMua(n,l){for(let t=0;t<this.dataSourcedanhsachThuoc.data.length;t++)if(!0===this.dataSourcedanhsachThuoc.data[t].CheckedDefault&&this.dataSourcedanhsachThuoc.data[t].Id===l.Id&&(this.dataSourcedanhsachThuoc.data[t].SoTienMG=0,this.dataSourcedanhsachThuoc.data[t].ThanhTien=n*this.dataSourcedanhsachThuoc.data[t].DonGia,this.dataSourcedanhsachThuoc.data[t].BNConPhaiThanhToan=this.dataSourcedanhsachThuoc.data[t].ThanhTien,null!=this.dataSourcedanhsachThuoc.data[t].DanhSachCongNoChoThus&&this.dataSourcedanhsachThuoc.data[t].DanhSachCongNoChoThus.length>0))for(let n=0;n<this.dataSourcedanhsachThuoc.data[t].DanhSachCongNoChoThus.length;n++)this.dataSourcedanhsachThuoc.data[t].DanhSachCongNoChoThus[n].SoTienCongNoChoThu=0,this.dataSourcedanhsachThuoc.data[t].KiemTraTienSoTienItemDichVu=this.dataSourcedanhsachThuoc.data[t].BNConPhaiThanhToan<0;this.tongTienGrid=Math.round(this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.BNConPhaiThanhToan,0)+1e-7),this.tongTien=this.tongTienGrid,this.tongTienHienThi=this.dataSourcedanhsachThuoc.data.reduce((n,l)=>n+l.ThanhTien,0);let e=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=e&&e.length>0&&this.tinhTienChoPhuongThucThanhToan(e[0].KeyId),this.danhSachXemTruocBangKeThuocVaVatTu(this.dataSourcedanhsachThuoc.data)}bindHinhThucThanhToanChangeGrid(n){switch(this.validationErrors=[],this.cdRef.detectChanges(),this.clearHinhThucThanhToan(),this.defeautSoTien(),n){case 1:this.thongtinDonThuoc.TienMat=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo,this.flagCheckSeletedTienMat=!0,this.thongtinDonThuoc.TienMat<0&&(this.thongtinDonThuoc.TienMat=0);break;case 2:this.thongtinDonThuoc.ChuyenKhoan=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo,this.flagCheckSeletedChuyenKhoan=!0,this.thongtinDonThuoc.ChuyenKhoan<0&&(this.thongtinDonThuoc.ChuyenKhoan=0);break;case 3:this.thongtinDonThuoc.POS=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.SoTienCongNo,this.flagCheckSeletedPos=!0,this.thongtinDonThuoc.POS<0&&(this.thongtinDonThuoc.POS=0);break;case 4:this.thongtinDonThuoc.SoTienCongNo=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS,this.flagCheckSeletedSoTienCongNo=!0,this.thongtinDonThuoc.SoTienCongNo<0&&(this.thongtinDonThuoc.SoTienCongNo=0)}}defeautSoTien(){this.thongtinDonThuoc.TienMat=0,this.thongtinDonThuoc.POS=0,this.thongtinDonThuoc.SoTienCongNo=0,this.thongtinDonThuoc.ChuyenKhoan=0,this.thongtinDonThuoc.BenhNhanDua=0,this.thongtinDonThuoc.TienTraLai=0}tinhTienChoPhuongThucThanhToan(n){switch(n){case 1:this.thongtinDonThuoc.TienMat=this.tongTien-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo,this.thongtinDonThuoc.TienMat<0&&(this.thongtinDonThuoc.TienMat=0);break;case 2:this.thongtinDonThuoc.ChuyenKhoan=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.POS-this.thongtinDonThuoc.SoTienCongNo,this.thongtinDonThuoc.ChuyenKhoan<0&&(this.thongtinDonThuoc.ChuyenKhoan=0);break;case 3:this.thongtinDonThuoc.POS=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.SoTienCongNo,this.thongtinDonThuoc.POS<0&&(this.thongtinDonThuoc.POS=0);break;case 4:this.thongtinDonThuoc.SoTienCongNo=this.tongTien-this.thongtinDonThuoc.TienMat-this.thongtinDonThuoc.ChuyenKhoan-this.thongtinDonThuoc.POS,this.thongtinDonThuoc.SoTienCongNo<0&&(this.thongtinDonThuoc.SoTienCongNo=0)}}ChangeHinhThucThanhToan(n){this.validationErrors=[],this.cdRef.detectChanges(),this.clearHinhThucThanhToan(),this.defeautSoTien(),this.showCanhBaoSoTienNhap=!1;var l=this.hinhThucThanhToan.filter(n=>1==n.Selected);null!=l&&1===l.length&&this.tinhTienChoPhuongThucThanhToan(l[0].KeyId),n.forEach(n=>{switch(n){case 1:this.flagCheckSeletedTienMat=!0;break;case 2:this.flagCheckSeletedChuyenKhoan=!0;break;case 3:this.flagCheckSeletedPos=!0;break;case 4:this.flagCheckSeletedSoTienCongNo=!0}}),this.hinhThucThanhToan.forEach(n=>{n.Change=!1}),this.hinhThucThanhToan.forEach(l=>{if(n.filter(n=>n==l.KeyId).length>0){if(l.Selected=!0,1==n.length)switch(l.KeyId){case 1:this.thongtinDonThuoc.TienMat=this.tongTien;break;case 2:this.thongtinDonThuoc.ChuyenKhoan=this.tongTien;break;case 3:this.thongtinDonThuoc.POS=this.tongTien;break;case 4:this.thongtinDonThuoc.SoTienCongNo=this.tongTien}}else l.Selected=!1}),this.cdRef.detectChanges()}showPopupLoadingIn(){this.dialog.open(Z.a,{disableClose:!0,width:"250px",height:"90px",data:{Title:"\u0110ang loading..."}})}closePopupLoadingData(){this.dialog.closeAll()}}var J=e("dFDH"),nn=t["\u0275crt"]({encapsulation:0,styles:[[".xac-nhan-ng-template[_ngcontent-%COMP%]{display:inline;white-space:nowrap}.title[_ngcontent-%COMP%]{font-size:15px;background:#ebeced;border:1px solid #ccc;padding:5px}mat-icon[_ngcontent-%COMP%]{cursor:pointer;margin-top:8px}.warning[_ngcontent-%COMP%]{margin-bottom:-8px;margin-top:0;color:#ff5722}.info[_ngcontent-%COMP%]{color:#00bcd4}.ten-dich-vu-label[_ngcontent-%COMP%]{display:inline;text-overflow:ellipsis}.tooltip-block[_ngcontent-%COMP%]{background:#005dab;color:#fff}.tooltip-block[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:13px}section.check-box-huong-bhyt[_ngcontent-%COMP%]{display:flex;justify-content:center}.color-red[_ngcontent-%COMP%]{color:red}"]],data:{}});function ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","so-tien"],["label","Ti\u1ec1n m\u1eb7t"],["min","0"]],[[4,"display",null]],[[null,"modelChange"],[null,"selectMoneyChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.TienMat=e)&&t),"selectMoneyChange"===l&&(t=!1!==(i.selectMoneyTienMat=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeTienMat(e,1)&&t),t}),i.b,i.a)),t["\u0275did"](1,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,u.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],min:[4,"min"],step:[5,"step"],selectMoney:[6,"selectMoney"],isFormatCurrenly:[7,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"so-tien","Ti\u1ec1n m\u1eb7t",e.thongtinDonThuoc.TienMat,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("TienMat",e.validationErrors)),"0",100,e.selectMoneyTienMat,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function en(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","chuyen-khoan"],["label","Chuy\u1ec3n kho\u1ea3n"]],[[4,"display",null]],[[null,"modelChange"],[null,"selectMoneyChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.ChuyenKhoan=e)&&t),"selectMoneyChange"===l&&(t=!1!==(i.selectMoneyTienChuyenKhoan=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeChuyenKhoan(e,2)&&t),t}),i.b,i.a)),t["\u0275did"](1,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,u.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],step:[4,"step"],selectMoney:[5,"selectMoney"],isFormatCurrenly:[6,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"chuyen-khoan","Chuy\u1ec3n kho\u1ea3n",e.thongtinDonThuoc.ChuyenKhoan,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("ChuyenKhoan",e.validationErrors)),100,e.selectMoneyTienChuyenKhoan,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","pos"],["label","POS"]],[[4,"display",null]],[[null,"selectMoneyChange"],[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"selectMoneyChange"===l&&(t=!1!==(i.selectMoneyTienPos=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangePos(e,3)&&t),"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.POS=e)&&t),t}),i.b,i.a)),t["\u0275did"](1,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,u.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],step:[4,"step"],selectMoney:[5,"selectMoney"],isFormatCurrenly:[6,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"pos","POS",e.thongtinDonThuoc.POS,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("POS",e.validationErrors)),100,e.selectMoneyTienPos,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function an(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","pos"],["label","C\xf4ng n\u1ee3"]],[[4,"display",null]],[[null,"selectMoneyChange"],[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"selectMoneyChange"===l&&(t=!1!==(i.selectMoneySoTienCongNo=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeSoTienCongNo(e,4)&&t),"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.SoTienCongNo=e)&&t),t}),i.b,i.a)),t["\u0275did"](1,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,u.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],step:[4,"step"],selectMoney:[5,"selectMoney"],isFormatCurrenly:[6,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"pos","C\xf4ng n\u1ee3",e.thongtinDonThuoc.SoTienCongNo,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("SoTienCongNo",e.validationErrors)),100,e.selectMoneySoTienCongNo,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function on(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","benh-nhan-dua"],["label","Ng\u01b0\u1eddi b\u1ec7nh \u0111\u01b0a"],["min","0"]],[[4,"display",null]],[[null,"selectMoneyChange"],[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"selectMoneyChange"===l&&(t=!1!==(i.selectMoneyTienBNDua=e)&&t),"modelChange"===l&&(t=!1!==i.modelChangeTienBNDua(e)&&t),"modelChange"===l&&(t=!1!==(i.thongtinDonThuoc.BenhNhanDua=e)&&t),"keyup"===l&&(t=!1!==i.onChangeBenhNhanDua()&&t),t}),i.b,i.a)),t["\u0275did"](1,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,u.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],min:[4,"min"],spinners:[5,"spinners"],step:[6,"step"],selectMoney:[7,"selectMoney"],isFormatCurrenly:[8,"isFormatCurrenly"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[])],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"benh-nhan-dua","Ng\u01b0\u1eddi b\u1ec7nh \u0111\u01b0a",e.thongtinDonThuoc.BenhNhanDua,t["\u0275unv"](l,2,3,t["\u0275nov"](l,3).transform("BenhNhanDua",e.validationErrors)),"0",!1,100,e.selectMoneyTienBNDua,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-textboxnumeric",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","tra-lai"],["label","Tr\u1ea3 l\u1ea1i"]],[[4,"display",null]],[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongtinDonThuoc.TienTraLai=e)&&t),t}),i.b,i.a)),t["\u0275did"](1,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](2,4833280,null,0,u.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],readonly:[3,"readonly"],spinners:[4,"spinners"],isFormatCurrenly:[5,"isFormatCurrenly"]},{modelChange:"modelChange"})],(function(n,l){var e=l.component;n(l,1,0,"100%","100%"),n(l,2,0,"tra-lai","Tr\u1ea3 l\u1ea1i",e.thongtinDonThuoc.TienTraLai,!0,!1,!0)}),(function(n,l){n(l,0,0,l.component.tongTien<0?"none":"block")}))}function hn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.DonGia,"0.2-2","vi-VN"));n(l,1,0,e)}))}function dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),0,"0.2-2","vi-VN"));n(l,1,0,e)}))}function cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,hn)),t["\u0275did"](1,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](3,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,null!=l.context.$implicit.DonGia),n(l,3,0,null==l.context.$implicit.DonGia)}),null)}function sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent,0),l.context.$implicit.ThanhTien,"0.2-2","vi-VN"));n(l,1,0,e)}))}function rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\u1ed5ng:"]))],null,null)}function Tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=l.component,i=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent,0),e.tongTienHienThi,"0.2-2","vi-VN"));n(l,1,0,i)}))}function gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-textboxnumeric",[["class","no-label numeric-in-grid"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==n.component.modelChangeSoLuongMua(e,n.context.$implicit)&&t),"modelChange"===l&&(t=!1!==(n.context.$implicit.SoLuongMua=e)&&t),t}),i.b,i.a)),t["\u0275did"](1,4833280,null,0,u.a,[],{model:[0,"model"],disabled:[1,"disabled"]},{modelChange:"modelChange"})],(function(n,l){n(l,1,0,l.context.$implicit.SoLuongMua,!l.context.$implicit.CheckedDefault)}),null)}function mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,19,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,18,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Lo\u1ea1i"])),(n()(),t["\u0275eld"](4,0,null,null,1,"th",[["style","text-align: left;"],["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\xean"])),(n()(),t["\u0275eld"](6,0,null,null,1,"th",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["H\xe0m l\u01b0\u1ee3ng"])),(n()(),t["\u0275eld"](8,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Ho\u1ea1t ch\u1ea5t"])),(n()(),t["\u0275eld"](10,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0110VT"])),(n()(),t["\u0275eld"](12,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0110\u01b0\u1eddng d\xf9ng"])),(n()(),t["\u0275eld"](14,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["NSX"])),(n()(),t["\u0275eld"](16,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\u1ed3n"])),(n()(),t["\u0275eld"](18,0,null,null,1,"th",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["HSD"]))],null,null)}function pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,20,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,19,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),(n()(),t["\u0275eld"](4,0,null,null,1,"td",[["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275eld"](6,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["",""])),(n()(),t["\u0275eld"](8,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](9,null,["",""])),(n()(),t["\u0275eld"](10,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](11,null,["",""])),(n()(),t["\u0275eld"](12,0,null,null,1,"td",[["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](13,null,["",""])),(n()(),t["\u0275eld"](14,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),t["\u0275ted"](15,null,["",""])),(n()(),t["\u0275eld"](16,0,null,null,2,"td",[["style","text-align: center;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](17,null,[" ",""])),t["\u0275ppd"](18,1),(n()(),t["\u0275eld"](19,0,null,null,1,"td",[["style","text-align: left;"],["width","10%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](20,null,["",""]))],null,(function(n,l){n(l,3,0,l.context.$implicit.Loai),n(l,5,0,l.context.$implicit.Ten),n(l,7,0,l.context.$implicit.HamLuong),n(l,9,0,l.context.$implicit.HoatChat),n(l,11,0,l.context.$implicit.DonViTinh),n(l,13,0,l.context.$implicit.DuongDung),n(l,15,0,l.context.$implicit.NhaSanXuat);var e=t["\u0275unv"](l,17,0,n(l,18,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit.SoLuongTon));n(l,17,0,e),n(l,20,0,l.context.$implicit.HanSuDung)}))}function fn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,21,"div",[["class","px-2 py-3"],["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](2,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](3,0,null,null,6,"app-combobox",[["class","item-no-padding"],["fxFlex","55%"],["fxFlex.sm","55%"],["id","DuocPham"],["label","D\u01b0\u1ee3c ph\u1ea9m"],["url","QuayThuoc/GetDuocPham"]],null,[[null,"modelChange"],[null,"selectionChange"],[null,"keyup"],[null,"openCombobox"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.themDuocPham.DuocPhamId=e)&&t),"selectionChange"===l&&(t=!1!==i.onSelectDuocPham(e)&&t),"keyup"===l&&(t=!1!==i.onKeyEnterAddItem(e)&&t),"openCombobox"===l&&(t=!1!==i.openCombobox(e)&&t),t}),s.b,s.a)),t["\u0275did"](4,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](5,6012928,[[1,4],["duocphamCombobox",4]],0,r.a,[T.a,g.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],required:[2,"required"],model:[3,"model"],modelText:[4,"modelText"],url:[5,"url"],validationerror:[6,"validationerror"],template:[7,"template"],templateHeader:[8,"templateHeader"],popupSettings:[9,"popupSettings"]},{openCombobox:"openCombobox",modelChange:"modelChange",selectionChange:"selectionChange"}),t["\u0275pid"](0,h.a,[]),t["\u0275pod"](7,{width:0,popupClass:1}),(n()(),t["\u0275and"](0,[["dichVuGiuongTemplateHeader",2]],null,0,null,mn)),(n()(),t["\u0275and"](0,[["dichVuGiuongTemplate",2]],null,0,null,pn)),(n()(),t["\u0275eld"](10,0,null,null,2,"app-textboxnumeric",[["disabled","true"],["fxFlex","15%"],["label","S\u1ed1 l\u01b0\u1ee3ng t\u1ed3n"],["moreClass","text-green bold"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.themDuocPham.SoLuongTon=e)&&t),t}),i.b,i.a)),t["\u0275did"](11,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](12,4833280,null,0,u.a,[],{label:[0,"label"],moreClass:[1,"moreClass"],model:[2,"model"],disabled:[3,"disabled"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](13,0,null,null,3,"app-textboxnumeric",[["fxFlex","15%"],["label","S\u1ed1 l\u01b0\u1ee3ng"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.themDuocPham.SoLuong=e)&&t),"keyup"===l&&(t=!1!==i.onKey(e)&&t),t}),i.b,i.a)),t["\u0275did"](14,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](15,4833280,null,0,u.a,[],{label:[0,"label"],required:[1,"required"],model:[2,"model"],validationerror:[3,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](17,0,null,null,4,"div",[["class","mt-5"],["fxFlex","10%"]],null,null,null,null,null)),t["\u0275did"](18,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](19,0,null,null,2,"button",[["class","mr-1"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.them1()&&t),t}),m.d,m.b)),t["\u0275did"](20,180224,null,0,p.b,[t.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Th\xeam"]))],(function(n,l){var e=l.component;n(l,1,0,"row wrap","column"),n(l,2,0,"16px grid","0"),n(l,4,0,"55%","55%");var i=e.themDuocPham.DuocPhamId,a=e.themDuocPham.DuocPhamText,o=t["\u0275unv"](l,5,6,t["\u0275nov"](l,6).transform("DuocPhamId",e.validationThuocErrors)),u=t["\u0275nov"](l,9),h=t["\u0275nov"](l,8),d=n(l,7,0,900,"item-no-padding");n(l,5,0,"DuocPham","D\u01b0\u1ee3c ph\u1ea9m",!0,i,a,"QuayThuoc/GetDuocPham",o,u,h,d),n(l,11,0,"15%"),n(l,12,0,"S\u1ed1 l\u01b0\u1ee3ng t\u1ed3n","text-green bold",e.themDuocPham.SoLuongTon,"true"),n(l,14,0,"15%"),n(l,15,0,"S\u1ed1 l\u01b0\u1ee3ng",!0,e.themDuocPham.SoLuong,t["\u0275unv"](l,15,3,t["\u0275nov"](l,16).transform("SoLuong",e.validationThuocErrors))),n(l,18,0,"10%"),n(l,20,0,"primary")}),(function(n,l){n(l,19,0,t["\u0275nov"](l,20).disabled||null,"NoopAnimations"===t["\u0275nov"](l,20)._animationMode)}))}function Cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"p",[["style","color: red"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,3,"mat-icon",[["class","mt-4 mat-icon notranslate"],["kendoTooltip",""],["role","img"],["title","Thu\u1ed1c b\u1ea3o hi\u1ec3m y t\u1ebf kh\xf4ng c\xf3 trong kho."]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,x.b,x.a)),t["\u0275did"](3,9125888,null,0,S.c,[t.ElementRef,t.NgZone,t.Renderer2,b.g,[2,S.e],[2,S.a]],null,null),t["\u0275did"](4,9158656,null,0,y.b,[t.ElementRef,y.d,[8,null],[2,y.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](5,606208,null,0,D.a,[v.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,3,0),n(l,4,0),n(l,5,0,e.icInfo)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,4).inline,"primary"!==t["\u0275nov"](l,4).color&&"accent"!==t["\u0275nov"](l,4).color&&"warn"!==t["\u0275nov"](l,4).color,t["\u0275nov"](l,5).inline,t["\u0275nov"](l,5).size,t["\u0275nov"](l,5).iconHTML)}))}function xn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","text-center"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"p",[["style","color: red"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,3,"mat-icon",[["class","mt-4 mat-icon notranslate"],["kendoTooltip",""],["role","img"],["title","Thu\u1ed1c trong kho \u0111\xe3 h\u1ebft."]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,x.b,x.a)),t["\u0275did"](3,9125888,null,0,S.c,[t.ElementRef,t.NgZone,t.Renderer2,b.g,[2,S.e],[2,S.a]],null,null),t["\u0275did"](4,9158656,null,0,y.b,[t.ElementRef,y.d,[8,null],[2,y.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](5,606208,null,0,D.a,[v.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,3,0),n(l,4,0),n(l,5,0,e.icInfo)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,4).inline,"primary"!==t["\u0275nov"](l,4).color&&"accent"!==t["\u0275nov"](l,4).color&&"warn"!==t["\u0275nov"](l,4).color,t["\u0275nov"](l,5).inline,t["\u0275nov"](l,5).size,t["\u0275nov"](l,5).iconHTML)}))}function Sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","text-center"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,S.c,[t.ElementRef,t.NgZone,t.Renderer2,b.g,[2,S.e],[2,S.a]],null,null),(n()(),t["\u0275eld"](2,0,null,null,4,"button",[["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.delete(n.parent.context.$implicit)&&t),t}),m.d,m.b)),t["\u0275did"](3,180224,null,0,p.b,[t.ElementRef,f.g,[2,C.a]],null,null),(n()(),t["\u0275eld"](4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,x.b,x.a)),t["\u0275did"](5,9158656,null,0,y.b,[t.ElementRef,y.d,[8,null],[2,y.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](6,606208,null,0,D.a,[v.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,1,0),n(l,5,0),n(l,6,0,e.icDelete)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).disabled||null,"NoopAnimations"===t["\u0275nov"](l,3)._animationMode),n(l,4,0,t["\u0275nov"](l,5).inline,"primary"!==t["\u0275nov"](l,5).color&&"accent"!==t["\u0275nov"](l,5).color&&"warn"!==t["\u0275nov"](l,5).color,t["\u0275nov"](l,6).inline,t["\u0275nov"](l,6).size,t["\u0275nov"](l,6).iconHTML)}))}function bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Cn)),t["\u0275did"](1,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,xn)),t["\u0275did"](3,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](5,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,1===l.context.$implicit.LoaiDonThuoc),n(l,3,0,1==l.context.$implicit.ThuocTrongKhoExit),n(l,5,0,1==l.context.$implicit.isNew)}),null)}function yn(n){return t["\u0275vid"](0,[t["\u0275pid"](0,d.g,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{duocPhamCombobox:0}),t["\u0275qud"](402653184,2,{tabVangLai:0}),t["\u0275qud"](402653184,3,{footerTemplateTongTienDonThuoc:0}),t["\u0275qud"](402653184,4,{actionTemplate:0}),t["\u0275qud"](402653184,5,{footerTemplateDonGia:0}),t["\u0275qud"](402653184,6,{donGiaTemplate:0}),t["\u0275qud"](402653184,7,{thanhTienTemplate:0}),t["\u0275qud"](402653184,8,{gridDanhSachMuaThuoc:0}),t["\u0275qud"](402653184,9,{soLuonTemplate:0}),(n()(),t["\u0275eld"](10,0,null,null,73,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](11,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](12,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](13,0,null,null,6,"div",[["class","mt-3"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](14,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](15,0,null,null,4,"span",[["style","float: left;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["S\u1ed1 ti\u1ec1n "])),(n()(),t["\u0275eld"](17,0,null,null,2,"strong",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](18,null,["",""])),t["\u0275ppd"](19,3),(n()(),t["\u0275eld"](20,0,null,null,63,"div",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](21,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](22,0,null,null,61,"kendo-splitter",[],[[2,"k-widget",null],[2,"k-splitter",null],[2,"k-splitter-flex",null],[2,"k-splitter-horizontal",null],[2,"k-splitter-vertical",null],[1,"dir",0],[1,"role",0]],null,null,N.i,N.c)),t["\u0275prd"](512,null,M.s,M.s,[t.NgZone]),t["\u0275prd"](256,null,L.b,"kendo.spliter",[]),t["\u0275prd"](131584,null,L.c,L.c,[L.b,[2,L.d],[2,L.e]]),t["\u0275did"](26,1753088,null,1,M.p,[t.ElementRef,M.s,L.c,[8,null]],null,null),t["\u0275qud"](603979776,10,{panes:1}),(n()(),t["\u0275eld"](28,0,null,0,40,"kendo-splitter-pane",[["class","sticky-panelbar"],["size","18%"],["style","overflow-x: hidden;"]],[[2,"k-pane-flex",null],[2,"k-pane",null],[2,"k-pane-static",null],[2,"k-scrollable",null]],null,null,N.j,N.d)),t["\u0275did"](29,8437760,[[10,4]],0,M.r,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef],{size:[0,"size"],collapsible:[1,"collapsible"]},null),(n()(),t["\u0275eld"](30,0,null,0,38,"div",[["class","px-2 py-3"],["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"],["style","overflow:hidden;"]],null,null,null,null,null)),t["\u0275did"](31,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](32,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](33,0,null,null,3,"app-multiselect",[["fxFlex","100%"],["fxFlex.sm","100%"],["label","H\xecnh th\u1ee9c thanh to\xe1n"],["required","true"]],[[4,"display",null]],[[null,"modelChange"],[null,"valueChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.setDefeautTienMat=e)&&t),"valueChange"===l&&(t=!1!==i.ChangeHinhThucThanhToan(e)&&t),t}),P.b,P.a)),t["\u0275did"](34,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](35,1818624,null,0,G.a,[T.a,g.a,t.ChangeDetectorRef],{label:[0,"label"],required:[1,"required"],model:[2,"model"],data:[3,"data"],validationerror:[4,"validationerror"]},{modelChange:"modelChange",valueChange:"valueChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275and"](16777216,null,null,1,null,ln)),t["\u0275did"](38,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](40,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](42,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](44,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](46,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](48,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](49,0,null,null,3,"app-datepicker",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","ngay-thu"],["label","Ng\xe0y thu"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongtinDonThuoc.NgayThu=e)&&t),t}),I.b,I.a)),t["\u0275did"](50,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](51,638976,null,0,R.a,[t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],readonly:[3,"readonly"],validationerror:[4,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](53,0,null,null,3,"app-textbox",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","noi-dung-thu"],["label","N\u1ed9i dung thu"],["maxlength","1000"],["required","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongtinDonThuoc.NoiDungThu=e)&&t),t}),w.b,w.a)),t["\u0275did"](54,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](55,4833280,null,0,k.a,[t.ChangeDetectorRef,H.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],required:[3,"required"],model:[4,"model"],validationerror:[5,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](57,0,null,null,11,"div",[["class","padding-thu-tien"],["fxFlex","100%"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""],["style","margin-right:10px;margin-top:15px;"]],null,null,null,null,null)),t["\u0275did"](58,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](59,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](60,671744,null,0,a.b,[t.ElementRef,o.i,[2,a.g],o.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](61,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](62,9125888,null,0,S.c,[t.ElementRef,t.NgZone,t.Renderer2,b.g,[2,S.e],[2,S.a]],null,null),(n()(),t["\u0275eld"](63,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["title","Ph\xedm t\u1eaft: Thu ti\u1ec1n v\xe0 xu\u1ea5t thu\u1ed1c"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ThuTienVaXuatThuoc()&&t),t}),m.d,m.b)),t["\u0275did"](64,180224,null,0,p.b,[t.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Thu ti\u1ec1n v\xe0 xu\u1ea5t thu\u1ed1c"])),(n()(),t["\u0275eld"](66,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["title","Ph\xedm t\u1eaft: Ctrl + S"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.ThuTien()&&t),t}),m.d,m.b)),t["\u0275did"](67,180224,null,0,p.b,[t.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Thu ti\u1ec1n"])),(n()(),t["\u0275eld"](69,0,null,0,14,"kendo-splitter-pane",[["style","overflow:hidden;"]],[[2,"k-pane-flex",null],[2,"k-pane",null],[2,"k-pane-static",null],[2,"k-scrollable",null]],null,null,N.j,N.d)),t["\u0275did"](70,8437760,[[10,4]],0,M.r,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef],null,null),(n()(),t["\u0275eld"](71,0,null,0,12,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px "],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](72,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](73,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](74,0,null,null,2,"app-grid",[["fxFlex","100%"],["masterName","MuaThuoc"],["useActionDefault","false"]],null,null,null,E.b,E.a)),t["\u0275did"](75,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275did"](76,1818624,[[8,4],["gridDanhSachMuaThuoc",4]],0,K.a,[F.a,V.a,B.o,q.a,t.ChangeDetectorRef,A.g,H.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],gridDataSource:[1,"gridDataSource"],masterName:[2,"masterName"],headerTemplate:[3,"headerTemplate"],useHeaderDefault:[4,"useHeaderDefault"],useActionDefault:[5,"useActionDefault"],pageable:[6,"pageable"],autoHeight:[7,"autoHeight"],documentType:[8,"documentType"],lazyLoadPage:[9,"lazyLoadPage"],useAddDeault:[10,"useAddDeault"],checkboxAble:[11,"checkboxAble"],allowSortDefault:[12,"allowSortDefault"]},null),(n()(),t["\u0275and"](0,[[6,2],["donGiaTemplate",2]],null,0,null,cn)),(n()(),t["\u0275and"](0,[[7,2],["thanhTienTemplate",2]],null,0,null,sn)),(n()(),t["\u0275and"](0,[[5,2],["footerTemplateDonGia",2]],null,0,null,rn)),(n()(),t["\u0275and"](0,[[3,2],["footerTemplateTongTienDonThuoc",2]],null,0,null,Tn)),(n()(),t["\u0275and"](0,[[9,2],["soLuonTemplate",2]],null,0,null,gn)),(n()(),t["\u0275and"](0,[["headerTemplate",2]],null,0,null,fn)),(n()(),t["\u0275and"](0,[[4,2],["actionTemplate",2]],null,0,null,bn))],(function(n,l){var e=l.component;n(l,11,0,"row wrap","column"),n(l,12,0,"16px grid","0"),n(l,14,0,"100%"),n(l,21,0,"100%"),n(l,29,0,"18%",!0),n(l,31,0,"row wrap","column"),n(l,32,0,"16px grid","0"),n(l,34,0,"100%","100%"),n(l,35,0,"H\xecnh th\u1ee9c thanh to\xe1n","true",e.setDefeautTienMat,e.hinhThucThanhToan,t["\u0275unv"](l,35,4,t["\u0275nov"](l,36).transform("HinhThucThanhToan",e.validationErrors))),n(l,38,0,e.flagCheckSeletedTienMat),n(l,40,0,e.flagCheckSeletedChuyenKhoan),n(l,42,0,e.flagCheckSeletedPos),n(l,44,0,e.flagCheckSeletedSoTienCongNo),n(l,46,0,e.flagCheckSeletedTienMat),n(l,48,0,e.flagCheckSeletedTienMat),n(l,50,0,"100%","100%"),n(l,51,0,"ngay-thu","Ng\xe0y thu",e.thongtinDonThuoc.NgayThu,!0,t["\u0275unv"](l,51,4,t["\u0275nov"](l,52).transform("NgayThu",e.validationErrors))),n(l,54,0,"100%","100%"),n(l,55,0,"noi-dung-thu","N\u1ed9i dung thu","1000","true",e.thongtinDonThuoc.NoiDungThu,t["\u0275unv"](l,55,5,t["\u0275nov"](l,56).transform("NoiDungThu",e.validationErrors))),n(l,58,0,"row"),n(l,59,0,"8px"),n(l,60,0,"end center"),n(l,61,0,"100%"),n(l,62,0),n(l,64,0,"primary"),n(l,67,0,"primary"),n(l,72,0,"row wrap","column"),n(l,73,0,"16px ","0"),n(l,75,0,"100%"),n(l,76,1,[e.gridColumns,e.dataSourcedanhsachThuoc,"MuaThuoc",t["\u0275nov"](l,82),!1,!1,!1,!0,e.documentType,!1,!1,!1,!1])}),(function(n,l){var e=l.component,i=t["\u0275unv"](l,18,0,n(l,19,0,t["\u0275nov"](l,0),e.tongTien,"0.2-2","vi-VN"));n(l,18,0,i),n(l,22,0,t["\u0275nov"](l,26).hostClasses,t["\u0275nov"](l,26).hostClasses,t["\u0275nov"](l,26).hostClasses,t["\u0275nov"](l,26).horizontalHostClasses,t["\u0275nov"](l,26).verticalHostClasses,t["\u0275nov"](l,26).dir,t["\u0275nov"](l,26).ariaRole),n(l,28,0,t["\u0275nov"](l,29).styleDisplayFlex,t["\u0275nov"](l,29).hostClass,t["\u0275nov"](l,29).staticPaneClass,t["\u0275nov"](l,29).scrollablePaneClass),n(l,33,0,e.tongTien<0?"none":"block"),n(l,63,0,t["\u0275nov"](l,64).disabled||null,"NoopAnimations"===t["\u0275nov"](l,64)._animationMode),n(l,66,0,t["\u0275nov"](l,67).disabled||null,"NoopAnimations"===t["\u0275nov"](l,67)._animationMode),n(l,69,0,t["\u0275nov"](l,70).styleDisplayFlex,t["\u0275nov"](l,70).hostClass,t["\u0275nov"](l,70).staticPaneClass,t["\u0275nov"](l,70).scrollablePaneClass)}))}class Dn{constructor(n,l,e,t,i){this.route=n,this.dialog=l,this.apiService=e,this.router=t,this.notificationService=i,this.gridColumns=[],this.dataSourcedanhsachThuoc={data:[],total:0}}ngOnInit(){this.danhSachThuoc=new O.z,this.gridColumns=[{Field:"TenDuocPham",Title:"T\xean thu\u1ed1c",MinWidth:120,Sortable:!1},{Field:"MaHoatChat",Title:"Ho\u1ea1t ch\u1ea5t",Width:120,Sortable:!1},{Field:"DonViTinh",Title:"\u0110VT",Width:60,Sortable:!1},{Field:"ViTri",Title:"V\u1ecb tr\xed",Width:120,Sortable:!1},{Field:"SoLuongMua",Title:"S\u1ed1 l\u01b0\u1ee3ng",Width:120,Sortable:!1},{Field:"HanSuDungHientThi",Title:"H\u1ea1n s\u1eed d\u1ee5ng",Width:120,Sortable:!1}],null!=this.ThongTinBenhNhanDaThuTienData?this.apiService.post("QuayThuoc/GetDanhSachXuatThuocKhongBHYT?tiepNhanId="+this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId).subscribe(n=>{this.dataSourcedanhsachThuoc.data=n}):this.dataSourcedanhsachThuoc.data=[]}ngOnChanges(n){this.ngOnInit()}GuiData(){this.danhSachThuoc.Id=this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId,this.dialog.open(X.a,{disableClose:!1,width:"400px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n xu\u1ea5t \u0111\u01a1n thu\u1ed1c n\xe0y?"}}).afterClosed().subscribe(n=>{"Yes"==n&&this.apiService.post("QuayThuoc/XuatDonThuocBHYT",this.danhSachThuoc).subscribe(n=>{null!=n&&null!=n&&""!=n?this.notificationService.showError(n):(1==this.ttCheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttCheck}}),2==this.ttCheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttCheck}}),3==this.ttCheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttCheck}}))},n=>{})})}}var vn=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","mr-1 float-right"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.GuiData()&&t),t}),m.d,m.b)),t["\u0275did"](2,180224,null,0,p.b,[t.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,[" Xu\u1ea5t thu\u1ed1c"]))],(function(n,l){n(l,2,0,"primary")}),(function(n,l){n(l,1,0,t["\u0275nov"](l,2).disabled||null,"NoopAnimations"===t["\u0275nov"](l,2)._animationMode)}))}function Mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](2,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](3,0,null,null,1,"app-grid",[["useActionDefault","false"]],null,null,null,E.b,E.a)),t["\u0275did"](4,1818624,null,0,K.a,[F.a,V.a,B.o,q.a,t.ChangeDetectorRef,A.g,H.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],gridDataSource:[1,"gridDataSource"],useHeaderDefault:[2,"useHeaderDefault"],useActionDefault:[3,"useActionDefault"],pageable:[4,"pageable"],autoHeight:[5,"autoHeight"],lazyLoadPage:[6,"lazyLoadPage"],useAddDeault:[7,"useAddDeault"],checkboxAble:[8,"checkboxAble"],allowSortDefault:[9,"allowSortDefault"]},null),(n()(),t["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Nn)),t["\u0275did"](7,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,1,0,"row wrap","column"),n(l,2,0,"16px grid","0"),n(l,4,0,e.gridColumns,e.dataSourcedanhsachThuoc,!1,!1,!1,!0,!1,!1,!1,!1),n(l,7,0,e.dataSourcedanhsachThuoc.data.length>0)}),null)}var Ln=e("/sr0"),Pn=e("ZuBe"),Gn=e("uwSD"),In=e("KNdO"),Rn=e("Z998"),wn=e("R6Ha"),kn=e("68z7"),Hn=e("C0s9"),En=e("m4FZ"),Kn=e("rd4Z"),Fn=e("FHJC"),Vn=e("SB+L");class Bn{constructor(n){this.apiService=n,this.thongTinBenhNhan={},this.valueChange=new t.EventEmitter,this.data={}}ngOnInit(){let n=this.donThuocId.maBN;null!=this.MaBN?n=this.MaBN:this.data=null,null!=n?this.GetThongTinBenhNhan(n):this.data=null,null==this.data&&(null==this.TenBenhNhan&&null==this.SDT||(this.thongTinBenhNhan.HoTen=this.TenBenhNhan),null!=this.SDT&&(this.thongTinBenhNhan.SoDienThoai=this.SDT)),null!=this.ThongTinBenhNhanDaThuTienData&&this.GetThongTinBenhNhanTN(this.ThongTinBenhNhanDaThuTienData.YeuCauTiepNhanId)}ngOnChanges(n){this.ngOnInit()}GetThongTinBenhNhan(n){this.apiService.post("QuayThuoc/GetThongTinBenhNhan1?maBN="+n).subscribe(n=>{this.data=n,console.log(n)},()=>{console.log("Loi roi")})}GetThongTinBenhNhanTN(n){this.apiService.post("QuayThuoc/GetThongTinBenhNhanTN?maTN="+n).subscribe(n=>{this.data=n,console.log(n)},()=>{console.log("Loi roi")})}TinhThanhPhoChange(n){this.thongTinBenhNhan.TinhThanhId=n,this.valueChange.emit(this.thongTinBenhNhan),null==this.thongTinBenhNhan.TinhThanhId&&(this.thongTinBenhNhan.QuanHuyenId=null,this.thongTinBenhNhan.TinhThanhId=null,this.thongTinBenhNhan.PhuongXaId=null,this.thongTinBenhNhan.TenHuyenDisplay=null,this.thongTinBenhNhan.TenTinhDisplay=null,this.thongTinBenhNhan.TenPhuongDisplay=null)}QuanHuyenChange(n){this.thongTinBenhNhan.QuanHuyenId=n,null==this.thongTinBenhNhan.QuanHuyenId&&(this.thongTinBenhNhan.QuanHuyenId=null,this.thongTinBenhNhan.TinhThanhId=null,this.thongTinBenhNhan.PhuongXaId=null,this.thongTinBenhNhan.TenHuyenDisplay=null,this.thongTinBenhNhan.TenTinhDisplay=null,this.thongTinBenhNhan.TenPhuongDisplay=null),this.valueChange.emit(this.thongTinBenhNhan)}PhuongXaChange(n){this.thongTinBenhNhan.PhuongXaId=n,null!=this.thongTinBenhNhan.PhuongXaId?this.apiService.post("QuayThuoc/GetTinhHuyen?phuongXaId="+n).subscribe(l=>{this.thongTinBenhNhan.QuanHuyenId=l[0].HuyenId,this.thongTinBenhNhan.TinhThanhId=l[0].TinhId,this.thongTinBenhNhan.TenHuyenDisplay=l[0].TenHuyen,this.thongTinBenhNhan.TenTinhDisplay=l[0].TenTinh,this.thongTinBenhNhan.PhuongXaId=n},()=>{console.log("Loi roi")}):(this.thongTinBenhNhan.QuanHuyenId=0,this.thongTinBenhNhan.TinhThanhId=0,this.thongTinBenhNhan.TenHuyenDisplay=null,this.thongTinBenhNhan.TenTinhDisplay=null),this.valueChange.emit(this.thongTinBenhNhan)}onSaveTen(){this.valueChange.emit(this.thongTinBenhNhan)}onSaveSDT(n){this.thongTinBenhNhan.SoDienThoai=n,this.valueChange.emit(this.thongTinBenhNhan)}onSaveGioiTinh(n){this.thongTinBenhNhan.GioiTinh=n,this.valueChange.emit(this.thongTinBenhNhan)}onSaveNamSinh(n){this.thongTinBenhNhan.NamSinh=n,this.valueChange.emit(this.thongTinBenhNhan)}onSaveDiaChi(n){this.thongTinBenhNhan.DiaChi=n,this.valueChange.emit(this.thongTinBenhNhan)}}var qn=t["\u0275crt"]({encapsulation:0,styles:[["fieldset[_ngcontent-%COMP%]{display:block;margin-left:2px;margin-right:2px;border:1px #e0e0e0;border-style:inherit;padding:.35em .75em .625em}fieldset[_ngcontent-%COMP%]   .item_right[_ngcontent-%COMP%]{text-align:right!important;float:right}fieldset[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:15px!important}fieldset[_ngcontent-%COMP%]   ul.inline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block!important}"]],data:{}});function An(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,34,"fieldset",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](2,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["TH\xd4NG TIN H\xc0NH CH\xcdNH"])),(n()(),t["\u0275eld"](4,0,null,null,30,"div",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](5,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](6,0,null,null,28,"ul",[["class","inline"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["M\xe3 NB: "])),(n()(),t["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),(n()(),t["\u0275eld"](11,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["H\u1ecd t\xean: "])),(n()(),t["\u0275eld"](13,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](14,null,["",""])),(n()(),t["\u0275eld"](15,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Gi\u1edbi t\xednh: "])),(n()(),t["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](18,null,["",""])),(n()(),t["\u0275eld"](19,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["N\u0103m sinh: "])),(n()(),t["\u0275eld"](21,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](22,null,["",""])),(n()(),t["\u0275eld"](23,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u0110\u1ecba ch\u1ec9: "])),(n()(),t["\u0275eld"](25,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](26,null,["",""])),(n()(),t["\u0275eld"](27,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["S\u0110T: "])),(n()(),t["\u0275eld"](29,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](30,null,["",""])),(n()(),t["\u0275eld"](31,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Email: "])),(n()(),t["\u0275eld"](33,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](34,null,["",""]))],(function(n,l){n(l,1,0,"100%"),n(l,5,0,"100%")}),(function(n,l){var e=l.component;n(l,10,0,e.data.MaBN),n(l,14,0,e.data.HoTen),n(l,18,0,e.data.GioiTinhHienThi),n(l,22,0,e.data.NamSinh),n(l,26,0,e.data.DiaChiDayDu),n(l,30,0,e.data.SoDienThoai),n(l,34,0,e.data.Email)}))}function On(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"th",[["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["M\xe3"])),(n()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\xean"]))],null,null)}function _n(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"td",[["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),(n()(),t["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""]))],null,(function(n,l){n(l,3,0,l.context.$implicit.Ma),n(l,5,0,l.context.$implicit.Ten)}))}function Qn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"th",[["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["M\xe3"])),(n()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\xean"]))],null,null)}function Xn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"td",[["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),(n()(),t["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""]))],null,(function(n,l){n(l,3,0,l.context.$implicit.Ma),n(l,5,0,l.context.$implicit.Ten)}))}function $n(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"th",[["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["M\xe3"])),(n()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\xean"]))],null,null)}function Yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"table",[["class","table-combobox"],["width","100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"td",[["width","20%"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),(n()(),t["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""]))],null,(function(n,l){n(l,3,0,l.context.$implicit.Ma),n(l,5,0,l.context.$implicit.Ten)}))}function zn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,42,"fieldset",[["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](1,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](2,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["TH\xd4NG TIN H\xc0NH CH\xcdNH"])),(n()(),t["\u0275eld"](4,0,null,null,38,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutAlign","space-between"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](5,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](6,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),t["\u0275did"](7,671744,null,0,a.b,[t.ElementRef,o.i,[2,a.g],o.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](8,0,null,null,3,"app-textbox",[["class","text-transform-uppercase"],["fxFlex","14%"],["fxFlex.sm","14%"],["id","Ten"],["label","H\u1ecd t\xean"],["maxlength","100"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.thongTinBenhNhan.HoTen=e)&&t),"modelChange"===l&&(t=!1!==i.onSaveTen()&&t),t}),w.b,w.a)),t["\u0275did"](9,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](10,4833280,null,0,k.a,[t.ChangeDetectorRef,H.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],required:[3,"required"],model:[4,"model"],validationerror:[5,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](12,0,null,null,5,"app-radio",[["fxFlex","11%"],["fxFlex.sm","11%"],["id","GioiTinh"],["label","Gi\u1edbi t\xednh"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.onSaveGioiTinh(e)&&t),"modelChange"===l&&(t=!1!==(i.thongTinBenhNhan.GioiTinh=e)&&t),t}),En.b,En.a)),t["\u0275did"](13,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](14,114688,null,0,Kn.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],items:[3,"items"]},{modelChange:"modelChange"}),t["\u0275pod"](15,{Value:0,Text:1}),t["\u0275pod"](16,{Value:0,Text:1}),t["\u0275pad"](17,2),(n()(),t["\u0275eld"](18,0,null,null,3,"app-textboxnumeric",[["fxFlex","12.5%"],["fxFlex.sm","12.5%"],["id","NamSinh"],["label","N\u0103m sinh"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.onSaveNamSinh(e)&&t),"modelChange"===l&&(t=!1!==(i.thongTinBenhNhan.NamSinh=e)&&t),t}),i.b,i.a)),t["\u0275did"](19,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](20,4833280,null,0,u.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"],validationerror:[3,"validationerror"],max:[4,"max"],format:[5,"format"]},{modelChange:"modelChange"}),t["\u0275pid"](0,h.a,[]),(n()(),t["\u0275eld"](22,0,null,null,2,"app-textboxmask",[["fxFlex","12.5%"],["fxFlex.sm","12.5%"],["id","SDT"],["label","S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i"],["mask","000 000 0000"],["maxlength","10"],["onlynumber","true"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.onSaveSDT(e)&&t),"modelChange"===l&&(t=!1!==(i.thongTinBenhNhan.SoDienThoai=e)&&t),t}),Fn.b,Fn.a)),t["\u0275did"](23,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](24,1163264,null,0,Vn.a,[t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],mask:[3,"mask"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](25,0,null,null,4,"app-combobox",[["bind","true"],["class","item-no-padding"],["fxFlex","12.5%"],["fxFlex.sm","12.5%"],["hierarchyKeyToSend","tinhThanh"],["id","TinhThanhPho"],["label","Ti\u0309nh/Tha\u0300nh Ph\xf4\u0301"],["url","QuayThuoc/GetTinhThanh"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.TinhThanhPhoChange(e)&&t),"modelChange"===l&&(t=!1!==(i.thongTinBenhNhan.TinhThanhId=e)&&t),t}),s.b,s.a)),t["\u0275did"](26,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](27,6012928,null,0,r.a,[T.a,g.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],modelText:[3,"modelText"],url:[4,"url"],hierarchyKeyToSend:[5,"hierarchyKeyToSend"],bind:[6,"bind"],template:[7,"template"],templateHeader:[8,"templateHeader"]},{modelChange:"modelChange"}),(n()(),t["\u0275and"](0,[["tinhThanhTemplateHeader",2]],null,0,null,On)),(n()(),t["\u0275and"](0,[["tinhThanhTemplate",2]],null,0,null,_n)),(n()(),t["\u0275eld"](30,0,null,null,4,"app-combobox",[["bind","true"],["class","item-no-padding"],["fxFlex","12.5%"],["fxFlex.sm","12.5%"],["hierarchyKeyToListen","tinhThanh"],["hierarchyKeyToSend","quanHuyen"],["id","QuanHuyen"],["label","Qu\xe2\u0323n/Huy\xea\u0323n"],["url","QuayThuoc/GetQuanHuyen"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.QuanHuyenChange(e)&&t),"modelChange"===l&&(t=!1!==(i.thongTinBenhNhan.QuanHuyenId=e)&&t),t}),s.b,s.a)),t["\u0275did"](31,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](32,6012928,null,0,r.a,[T.a,g.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],modelText:[3,"modelText"],url:[4,"url"],hierarchyKeyToSend:[5,"hierarchyKeyToSend"],hierarchyKeyToListen:[6,"hierarchyKeyToListen"],bind:[7,"bind"],template:[8,"template"],templateHeader:[9,"templateHeader"]},{modelChange:"modelChange"}),(n()(),t["\u0275and"](0,[["quanHuyenTemplateHeader",2]],null,0,null,Qn)),(n()(),t["\u0275and"](0,[["quanHuyenTemplate",2]],null,0,null,Xn)),(n()(),t["\u0275eld"](35,0,null,null,4,"app-combobox",[["class","item-no-padding"],["fxFlex","12.5%"],["fxFlex.sm","12.5%"],["hierarchyKeyToListen","quanHuyen"],["id","PhuongXa"],["label","Ph\u01b0\u01a1\u0300ng/Xa\u0303"],["url","QuayThuoc/GetPhuongXa"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.PhuongXaChange(e)&&t),"modelChange"===l&&(t=!1!==(i.thongTinBenhNhan.PhuongXaId=e)&&t),t}),s.b,s.a)),t["\u0275did"](36,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](37,6012928,null,0,r.a,[T.a,g.a,t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],url:[3,"url"],hierarchyKeyToListen:[4,"hierarchyKeyToListen"],template:[5,"template"],templateHeader:[6,"templateHeader"]},{modelChange:"modelChange"}),(n()(),t["\u0275and"](0,[["phuongXaTemplateHeader",2]],null,0,null,$n)),(n()(),t["\u0275and"](0,[["phuongXaTemplate",2]],null,0,null,Yn)),(n()(),t["\u0275eld"](40,0,null,null,2,"app-textbox",[["fxFlex","12.5%"],["fxFlex.sm","12.5%"],["id","DiaChi"],["label","\u0110\u1ecba ch\u1ec9"],["maxlength","200"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.onSaveDiaChi(e)&&t),"modelChange"===l&&(t=!1!==(i.thongTinBenhNhan.DiaChi=e)&&t),t}),w.b,w.a)),t["\u0275did"](41,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](42,4833280,null,0,k.a,[t.ChangeDetectorRef,H.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],model:[3,"model"]},{modelChange:"modelChange"})],(function(n,l){var e=l.component;n(l,1,0,"100%"),n(l,5,0,"row wrap","column"),n(l,6,0,"16px grid","0"),n(l,7,0,"space-between"),n(l,9,0,"14%","14%"),n(l,10,0,"Ten","H\u1ecd t\xean","100",!0,e.thongTinBenhNhan.HoTen,t["\u0275unv"](l,10,5,t["\u0275nov"](l,11).transform("HoTen",e.validationErrors))),n(l,13,0,"11%","11%");var i=e.thongTinBenhNhan.GioiTinh,a=n(l,17,0,n(l,15,0,1,"Nam"),n(l,16,0,2,"N\u1eef"));n(l,14,0,"GioiTinh","Gi\u1edbi t\xednh",i,a),n(l,19,0,"12.5%","12.5%"),n(l,20,0,"NamSinh","N\u0103m sinh",e.thongTinBenhNhan.NamSinh,t["\u0275unv"](l,20,3,t["\u0275nov"](l,21).transform("NamSinh",e.validationErrors)),9999,"0"),n(l,23,0,"12.5%","12.5%"),n(l,24,0,"SDT","S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i",e.thongTinBenhNhan.SoDienThoai,"000 000 0000"),n(l,26,0,"12.5%","12.5%"),n(l,27,0,"TinhThanhPho","Ti\u0309nh/Tha\u0300nh Ph\xf4\u0301",e.thongTinBenhNhan.TinhThanhId,e.thongTinBenhNhan.TenTinhDisplay,"QuayThuoc/GetTinhThanh","tinhThanh","true",t["\u0275nov"](l,29),t["\u0275nov"](l,28)),n(l,31,0,"12.5%","12.5%"),n(l,32,0,"QuanHuyen","Qu\xe2\u0323n/Huy\xea\u0323n",e.thongTinBenhNhan.QuanHuyenId,e.thongTinBenhNhan.TenHuyenDisplay,"QuayThuoc/GetQuanHuyen","quanHuyen","tinhThanh","true",t["\u0275nov"](l,34),t["\u0275nov"](l,33)),n(l,36,0,"12.5%","12.5%"),n(l,37,0,"PhuongXa","Ph\u01b0\u01a1\u0300ng/Xa\u0303",e.thongTinBenhNhan.PhuongXaId,"QuayThuoc/GetPhuongXa","quanHuyen",t["\u0275nov"](l,39),t["\u0275nov"](l,38)),n(l,41,0,"12.5%","12.5%"),n(l,42,0,"DiaChi","\u0110\u1ecba ch\u1ec9","200",e.thongTinBenhNhan.DiaChi)}),null)}function Wn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,An)),t["\u0275did"](2,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,zn)),t["\u0275did"](4,16384,null,0,d.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,null!=e.data),n(l,4,0,null==e.data)}),null)}var Un=e("gExg");e.d(l,"a",(function(){return il}));var Zn=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function jn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-khach-vang-lai-cho-thanh-toan",[],null,[[null,"valueChangeThuTien"],[null,"changeTab"],[null,"MaTiepNhanBenhNhanDaThuTien"],[null,"danhSachChuaThanhToan"]],(function(n,l,e){var t=!0,i=n.component;return"valueChangeThuTien"===l&&(t=!1!==i.switchValueChangesChoThanhToan(e)&&t),"changeTab"===l&&(t=!1!==i.changeTab(e)&&t),"MaTiepNhanBenhNhanDaThuTien"===l&&(t=!1!==i.MaTiepNhanBenhNhanDaThuTien(e)&&t),"danhSachChuaThanhToan"===l&&(t=!1!==i.danhSachChuaThanhToan(e)&&t),t}),yn,nn)),t["\u0275did"](1,114688,[[2,4]],0,j,[T.a,q.a,H.e,J.b,t.ChangeDetectorRef,B.o],{thongTinKhachVangLai:[0,"thongTinKhachVangLai"],donThuocId:[1,"donThuocId"],ttCheck:[2,"ttCheck"]},{danhSachChuaThanhToan:"danhSachChuaThanhToan",valueChangeThuTien:"valueChangeThuTien",changeTab:"changeTab",MaTiepNhanBenhNhanDaThuTien:"MaTiepNhanBenhNhanDaThuTien"})],(function(n,l){var e=l.component;n(l,1,0,e.thongTinBenhNhan,e.donThuocIds,e.ttCheck)}),null)}function Jn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["kendoTooltip",""],["title","Ph\xedm t\u1eaft: Ctrl + F1"]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,S.c,[t.ElementRef,t.NgZone,t.Renderer2,b.g,[2,S.e],[2,S.a]],null,null),(n()(),t["\u0275ted"](-1,null,[" Mua thu\u1ed1c "]))],(function(n,l){n(l,1,0)}),null)}function nl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-khach-vang-lai-cho-xuat-thuoc",[],null,null,null,Mn,vn)),t["\u0275did"](1,638976,null,0,Dn,[B.a,H.e,T.a,B.o,q.a],{ttCheck:[0,"ttCheck"],ThongTinBenhNhanDaThuTienData:[1,"ThongTinBenhNhanDaThuTienData"]},null)],(function(n,l){var e=l.component;n(l,1,0,e.ttCheck,e.ThongTinBenhNhanDaThuTien)}),null)}function ll(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["kendoTooltip",""],["title","Ph\xedm t\u1eaft: Ctrl + F2"]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,S.c,[t.ElementRef,t.NgZone,t.Renderer2,b.g,[2,S.e],[2,S.a]],null,null),(n()(),t["\u0275ted"](-1,null,[" Ch\u1edd xu\u1ea5t thu\u1ed1c "]))],(function(n,l){n(l,1,0)}),null)}function el(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{tabVangLai:0}),t["\u0275qud"](671088640,2,{quayThuocHinhThucThanhToan:0}),(n()(),t["\u0275eld"](2,0,null,null,60,"vex-page-layout",[["class","vex-page-layout"]],[[2,"vex-page-layout-card",null],[2,"vex-page-layout-simple",null]],null,null,Ln.b,Ln.a)),t["\u0275did"](3,49152,null,0,Pn.a,[],null,null),(n()(),t["\u0275eld"](4,0,null,0,16,"vex-page-layout-header",[["class","pb-16 vex-page-layout-header"],["fxLayout","column"],["fxLayoutAlign","center start"]],null,null,null,null,null)),t["\u0275did"](5,16384,null,0,Gn.a,[],null,null),t["\u0275did"](6,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](7,671744,null,0,a.b,[t.ElementRef,o.i,[2,a.g],o.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](8,0,null,null,12,"div",[["class","w-full flex justify-between"]],[[2,"px-gutter",null]],null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,4,"vex-breadcrumbs",[],null,null,null,In.b,In.a)),t["\u0275did"](10,114688,null,0,Rn.a,[],{crumbs:[0,"crumbs"]},null),t["\u0275pod"](11,{Title:0,Path:1}),t["\u0275pod"](12,{Title:0,Path:1,Active:2}),t["\u0275pad"](13,2),(n()(),t["\u0275eld"](14,0,null,null,6,"app-hot-key",[],null,null,null,wn.b,wn.a)),t["\u0275did"](15,114688,null,0,kn.a,[t.ChangeDetectorRef],{keys:[0,"keys"]},null),t["\u0275pod"](16,{Key:0,Description:1}),t["\u0275pod"](17,{Key:0,Description:1}),t["\u0275pod"](18,{Key:0,Description:1}),t["\u0275pod"](19,{Key:0,Description:1,End:2}),t["\u0275pad"](20,4),(n()(),t["\u0275eld"](21,0,null,0,41,"vex-page-layout-content",[["class","-mt-6 vex-page-layout-content"]],[[2,"px-gutter",null]],null,null,null,null)),t["\u0275did"](22,16384,null,0,Hn.a,[],null,null),(n()(),t["\u0275eld"](23,0,null,null,39,"div",[["class","-mt-16"]],null,null,null,null,null)),(n()(),t["\u0275eld"](24,0,null,null,38,"div",[["fxLayout","row"],["fxLayout.lt-md","column"],["fxLayoutGap","20px"]],null,null,null,null,null)),t["\u0275did"](25,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-md":[1,"fxLayout.lt-md"]},null),t["\u0275did"](26,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(n()(),t["\u0275eld"](27,0,null,null,35,"div",[["class","card"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](28,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](29,0,null,null,33,"div",[["class","px-6 py-4"],["fxLayout","column"]],null,null,null,null,null)),t["\u0275did"](30,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"]},null),(n()(),t["\u0275eld"](31,0,null,null,1,"app-quay-thuoc-khach-vang-lai-thong-tin-hanh-chinh",[],null,[[null,"valueChange"]],(function(n,l,e){var t=!0;return"valueChange"===l&&(t=!1!==n.component.switchValueChanges(e)&&t),t}),Wn,qn)),t["\u0275did"](32,638976,null,0,Bn,[T.a],{validationErrors:[0,"validationErrors"],donThuocId:[1,"donThuocId"],MaBN:[2,"MaBN"],TenBenhNhan:[3,"TenBenhNhan"],SDT:[4,"SDT"],ThongTinBenhNhanDaThuTienData:[5,"ThongTinBenhNhanDaThuTienData"]},{valueChange:"valueChange"}),(n()(),t["\u0275eld"](33,0,null,null,21,"kendo-tabstrip",[["class","content-has-border has-padding mt-3"],["fxFlex","100%"]],[[2,"k-widget",null],[2,"k-tabstrip",null],[2,"k-floatwrap",null],[2,"k-header",null],[2,"k-tabstrip-top",null],[2,"k-tabstrip-right",null],[2,"k-tabstrip-bottom",null],[2,"k-tabstrip-left",null],[1,"dir",0]],[[null,"tabSelect"]],(function(n,l,e){var t=!0;return"tabSelect"===l&&(t=!1!==n.component.onTabSelect(e)&&t),t}),N.k,N.e)),t["\u0275did"](34,671744,null,0,a.a,[t.ElementRef,o.i,o.e,a.f,o.f],{fxFlex:[0,"fxFlex"]},null),t["\u0275prd"](256,null,L.b,"kendo.tabstrip",[]),t["\u0275prd"](131584,null,L.c,L.c,[L.b,[2,L.d],[2,L.e]]),t["\u0275did"](37,245760,[[1,4],["tabVangLai",4]],1,M.u,[L.c,t.Renderer2,t.ElementRef],{keepTabContent:[0,"keepTabContent"]},{tabSelect:"tabSelect"}),t["\u0275qud"](603979776,3,{tabs:1}),(n()(),t["\u0275eld"](39,0,null,null,7,"kendo-tabstrip-tab",[],null,null,null,N.l,N.f)),t["\u0275did"](40,1622016,[[3,4]],2,M.w,[],{selected:[0,"selected"]},null),t["\u0275qud"](603979776,4,{_tabContent:1}),t["\u0275qud"](335544320,5,{tabTitle:0}),(n()(),t["\u0275and"](0,null,null,1,null,jn)),t["\u0275did"](44,16384,[[4,4]],0,M.t,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,Jn)),t["\u0275did"](46,16384,[[5,4]],0,M.x,[t.TemplateRef],null,null),(n()(),t["\u0275eld"](47,0,null,null,7,"kendo-tabstrip-tab",[],null,null,null,N.l,N.f)),t["\u0275did"](48,1622016,[[3,4]],2,M.w,[],{selected:[0,"selected"]},null),t["\u0275qud"](603979776,6,{_tabContent:1}),t["\u0275qud"](335544320,7,{tabTitle:0}),(n()(),t["\u0275and"](0,null,null,1,null,nl)),t["\u0275did"](52,16384,[[6,4]],0,M.t,[t.TemplateRef],null,null),(n()(),t["\u0275and"](0,null,null,1,null,ll)),t["\u0275did"](54,16384,[[7,4]],0,M.x,[t.TemplateRef],null,null),(n()(),t["\u0275eld"](55,0,null,null,7,"div",[["class","mt-2"],["fxLayout","row"],["fxLayoutAlign","end center"],["fxLayoutGap","8px"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](56,671744,null,0,a.c,[t.ElementRef,o.i,[2,a.i],o.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](57,1720320,null,0,a.d,[t.ElementRef,t.NgZone,c.b,o.i,[2,a.h],o.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["\u0275did"](58,671744,null,0,a.b,[t.ElementRef,o.i,[2,a.g],o.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](59,9125888,null,0,S.c,[t.ElementRef,t.NgZone,t.Renderer2,b.g,[2,S.e],[2,S.a]],null,null),(n()(),t["\u0275eld"](60,0,null,null,2,"button",[["mat-raised-button",""],["title","Ph\xedm t\u1eaft: ESC"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.Huy()&&t),t}),m.d,m.b)),t["\u0275did"](61,180224,null,0,p.b,[t.ElementRef,f.g,[2,C.a]],null,null),(n()(),t["\u0275ted"](-1,0,[" Quay l\u1ea1i "]))],(function(n,l){var e=l.component;n(l,6,0,"column"),n(l,7,0,"center start");var t=n(l,13,0,n(l,11,0,"Nh\xe0 Thu\u1ed1c",""),n(l,12,0,"Kh\xe1ch v\xe3ng lai","/nha-thuoc",!0));n(l,10,0,t);var i=n(l,20,0,n(l,16,0,"Ctrl + F1","Di chuy\u1ec3n t\u1edbi v\xe0 m\u1edf tab Mua thu\u1ed1c"),n(l,17,0,"Ctrl + F2","Di chuy\u1ec3n t\u1edbi v\xe0 m\u1edf tab Ch\u1edd xu\u1ea5t thu\u1ed1c"),n(l,18,0,"Ctrl + S","Thu ti\u1ec1n"),n(l,19,0,"Esc","Quay l\u1ea1i",!0));n(l,15,0,i),n(l,25,0,"row","column"),n(l,26,0,"20px"),n(l,28,0,"100%"),n(l,30,0,"column"),n(l,32,0,e.validationErrorForThongTin,e.donThuocIds,e.MaBN,e.TenBenhNhan,e.SDT,e.ThongTinBenhNhanDaThuTien),n(l,34,0,"100%"),n(l,37,0,!0),n(l,40,0,1===e.kendoTabSelected),n(l,48,0,2===e.kendoTabSelected),n(l,56,0,"row"),n(l,57,0,"8px"),n(l,58,0,"end center"),n(l,59,0)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).isCard,t["\u0275nov"](l,3).isSimple),n(l,8,0,!0),n(l,21,0,!0),n(l,33,0,t["\u0275nov"](l,37).hostClasses,t["\u0275nov"](l,37).hostClasses,t["\u0275nov"](l,37).hostClasses,t["\u0275nov"](l,37).hostClasses,t["\u0275nov"](l,37).tabsAtTop,t["\u0275nov"](l,37).tabsAtRight,t["\u0275nov"](l,37).tabsAtBottom,t["\u0275nov"](l,37).tabsAtLeft,t["\u0275nov"](l,37).dir),n(l,60,0,t["\u0275nov"](l,61).disabled||null,"NoopAnimations"===t["\u0275nov"](l,61)._animationMode)}))}function tl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-khach-vang-lai",[],null,[["document","keydown"]],(function(n,l,e){var i=!0;return"document:keydown"===l&&(i=!1!==t["\u0275nov"](n,1).keyEvent(e)&&i),i}),el,Zn)),t["\u0275did"](1,114688,null,0,Un.a,[B.a,q.a,B.o,H.e,T.a],null,null)],(function(n,l){n(l,1,0)}),null)}var il=t["\u0275ccf"]("app-quay-thuoc-khach-vang-lai",Un.a,tl,{},{},[])},da90:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("InOR"),a=e("Tfwe"),o=e("J83R"),u=e("cUpR"),h=e("VDRc"),d=e("/q54"),c=e("s6ns"),s=e("bujt"),r=e("Fwaw"),T=e("5GAg"),g=e("omvX"),m=e("Mr+X"),p=e("Gi4r"),f=e("l+Q0"),C=e("SVse"),x=e("5mnX"),S=e.n(x);class b{constructor(n,l,e){this.data=n,this.sanitizer=l,this.dialog=e,this.src="",this.icClose=S.a,this.kiemtraPhieuInManhinh=!1}ngOnInit(){this.modelPrint=this.data.Model,this.kiemtraPhieuInManhinh=this.data.InDonThuocDanhSachList,this.InPhieuThu=this.data.InPhieuThu,this.InBangKe=this.data.InBangKe,this.src="data:text/html;charset=utf-8,"+encodeURIComponent(this.data.Model)}InPhieu(n){this.loaiPhieu=n,this.getSharedPrintForm()}getSharedPrintForm(){let n,l=(n=(n=this.modelPrint.replace("<table id='showHeader' style='width: 100%; height: 40px; background: #005dab;color:#fff;'> <tr><th rowspan = '3' style = 'font-size: 20px;'>B\u1ea2NG K\xca THU TI\u1ec0N THU\u1ed0C</th></tr></table>","")).replace("<table class='showHeader' style='width: 100%; height: 40px; background: #005dab;color:#fff;'> <tr><th rowspan = '3' style = 'font-size: 20px;'>PHI\u1ebeU THU</th></tr></table>","")).split('<div class="pagebreak"></div>');if(1==this.loaiPhieu)return new Promise(n=>{n(l[0])});if(null!=l[1]||null!=l[1])return new Promise(n=>{n(l[1])});{let n="Kh\xf4ng c\xf3 phi\u1ebfu thu ti\u1ec1n";return new Promise(l=>{l(n)})}}close(){this.dialog.closeAll()}}e.d(l,"a",(function(){return L}));var y=t["\u0275crt"]({encapsulation:0,styles:[[".container-iframe[_ngcontent-%COMP%]{position:relative;width:100%;height:500px;background:#ebeced}.container-iframe[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]],data:{}});function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-print-form",[["copies","2"],["style","text-align: right;"],["textPrint","In B\u1ea3ng K\xea Thu Ti\u1ec1n Thu\u1ed1c"],["type","PDF"],["typeSize","A5"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.InPhieu(1)&&t),t}),i.b,i.a)),t["\u0275did"](1,245760,null,0,a.a,[t.ChangeDetectorRef,t.Renderer2],{typeSize:[0,"typeSize"],copies:[1,"copies"],event:[2,"event"],type:[3,"type"],bodyComponent:[4,"bodyComponent"],textPrint:[5,"textPrint"]},null)],(function(n,l){var e=l.component;n(l,1,0,"A5","2",e.data,"PDF",e,"In B\u1ea3ng K\xea Thu Ti\u1ec1n Thu\u1ed1c")}),null)}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-print-form",[["style","text-align: right;"],["textPrint","In Phi\u1ebfu Thu"],["type","PDF"],["typeLayout","landscape"],["typeSize","A5"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.InPhieu(2)&&t),t}),i.b,i.a)),t["\u0275did"](1,245760,null,0,a.a,[t.ChangeDetectorRef,t.Renderer2],{typeSize:[0,"typeSize"],typeLayout:[1,"typeLayout"],event:[2,"event"],type:[3,"type"],bodyComponent:[4,"bodyComponent"],textPrint:[5,"textPrint"]},null)],(function(n,l){var e=l.component;n(l,1,0,"A5","landscape",e.data,"PDF",e,"In Phi\u1ebfu Thu")}),null)}function N(n){return t["\u0275vid"](0,[t["\u0275pid"](0,o.a,[u.b]),(n()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mb-1 mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](2,671744,null,0,h.c,[t.ElementRef,d.i,[2,h.i],d.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](3,671744,null,0,h.b,[t.ElementRef,d.i,[2,h.g],d.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,81920,null,0,c.m,[[2,c.l],t.ElementRef,c.e],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["XEM TR\u01af\u1edaC KHI IN"])),(n()(),t["\u0275eld"](7,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close()&&t),t}),s.d,s.b)),t["\u0275did"](8,180224,null,0,r.b,[t.ElementRef,T.g,[2,g.a]],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,m.b,m.a)),t["\u0275did"](10,9158656,null,0,p.b,[t.ElementRef,p.d,[8,null],[2,p.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](11,606208,null,0,f.a,[u.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](12,0,null,null,4,"mat-dialog-content",[["class","mat-dialog-content"],["style","overflow:hidden"]],null,null,null,null,null)),t["\u0275did"](13,16384,null,0,c.j,[],null,null),(n()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","container-iframe"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,1,"iframe",[["allowTransparency","true"],["background","transparent"],["style","height: 500px;"],["width","100%"]],[[8,"src",5]],null,null,null,null)),t["\u0275ppd"](16,1),(n()(),t["\u0275eld"](17,0,null,null,5,"mat-dialog-actions",[["align","end"],["class","mt-3 mat-dialog-actions"]],null,null,null,null,null)),t["\u0275did"](18,16384,null,0,c.f,[],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](20,16384,null,0,C.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](22,16384,null,0,C.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,4,0),n(l,10,0),n(l,11,0,e.icClose),n(l,20,0,1!=e.kiemtraPhieuInManhinh&&1==e.InBangKe),n(l,22,0,1!=e.kiemtraPhieuInManhinh&&1==e.InPhieuThu)}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).id),n(l,7,0,t["\u0275nov"](l,8).disabled||null,"NoopAnimations"===t["\u0275nov"](l,8)._animationMode),n(l,9,0,t["\u0275nov"](l,10).inline,"primary"!==t["\u0275nov"](l,10).color&&"accent"!==t["\u0275nov"](l,10).color&&"warn"!==t["\u0275nov"](l,10).color,t["\u0275nov"](l,11).inline,t["\u0275nov"](l,11).size,t["\u0275nov"](l,11).iconHTML);var i=t["\u0275unv"](l,15,0,n(l,16,0,t["\u0275nov"](l,0),e.src));n(l,15,0,i)}))}function M(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-in-bang-thu-tien-pop-up",[],null,null,null,N,y)),t["\u0275did"](1,114688,null,0,b,[c.a,u.b,c.e],null,null)],(function(n,l){n(l,1,0)}),null)}var L=t["\u0275ccf"]("app-in-bang-thu-tien-pop-up",b,M,{},{},[])},"dxC+":function(n,l,e){"use strict";e.d(l,"a",(function(){return r}));var t=e("H+pe"),i=e("5mnX"),a=e.n(i),o=e("mkNU"),u=e.n(o),h=e("FIHo"),d=e("yHIK"),c=e.n(d),s=e("Y2dJ");class r{constructor(n,l,e,t){this.dialogRef=n,this.dataItem=l,this.apiService=e,this.dialog=t,this.icClose=a.a,this.icDone=u.a,this.icPrint=c.a,this.Title=null,this.data=[],this.gridChild=[],this.gridChildColumns2=[],this.urlGetDataChild="QuayThuoc/GetDataForGridChildDTTNAsync",this.data=l.Model,this.Title=l.Title}ngOnInit(){this.documentType=t.b.QuayThuoc,this.benhNhan=new h.q,this.gridChildColumns2=[{Field:"MaBN",Title:"M\xe3 NB",Width:80,Sortable:!1},{Field:"MaTN",Title:"M\xe3 TN",Width:120,Sortable:!1},{Field:"HoTen",Title:"H\u1ecd T\xean",Width:200,Sortable:!1},{Field:"NamSinh",Title:"N\u0103m sinh",Width:80,Sortable:!1},{Field:"GioiTinhHienThi",Title:"Gi\u1edbi t\xednh",Width:80,Sortable:!1},{Field:"DiaChi",Title:"\u0110\u1ecba ch\u1ec9",Width:300,Sortable:!1},{Field:"SoDienThoaiDisPlay",Title:"\u0110i\u1ec7n tho\u1ea1i",Width:120,Sortable:!1},{Field:"Action",Title:"",Width:80,Template:this.actionTemplate}],this.gridChild=[{Field:"STT",Title:"#",Width:100,Sortable:!0},{Field:"LoaiDonThuoc",Title:"",Width:200,Sortable:!0,Hidden:!0},{Field:"MaDon",Title:"M\xe3 \u0110\u01a1n",Width:100,Sortable:!0},{Field:"NgayKeDon",Title:"Ng\xe0y k\xea \u0111\u01a1n",Width:200,Sortable:!0},{Field:"DVKham",Title:"D\u1ecbch v\u1ee5 kh\xe1m",minWidth:200,Sortable:!0},{Field:"BSKham",Title:"B\xe1c s\u0129 kh\xe1m",Width:200,Sortable:!0},{Field:"SoTienDisPlay",Title:"S\u1ed1 ti\u1ec1n ",Width:80,Sortable:!0,Template:this.SoTienThuoctemplate},{Field:"TinhTrang",Title:"T\xecnh tr\u1ea1ng",Width:120,Sortable:!0,Template:this.TinhTrangThuoctemplate},{Field:"",Title:"",Width:120,Sortable:!0,Template:this.templatePrint}]}close(n,l){this.dialogRef.close(n)}PrinAllDonThuocBenhNhan(n){var l={Hosting:null,TiepNhanId:n};l.Hosting="http:"==window.location.protocol?"http://"+window.location.host:"https://"+window.location.host,this.apiService.post("QuayThuoc/InThuocBenhNhan",l).subscribe(n=>{this.dialog.open(s.a,{width:"1000px",data:{Model:n,InDonThuocDanhSachList:!1,InBangKe:!0,InPhieuThu:!1}}).afterClosed().subscribe(()=>{})},()=>{})}}},"fw+N":function(n,l,e){"use strict";var t=e("8Y7J"),i=e("InOR"),a=e("Tfwe"),o=e("J83R"),u=e("cUpR"),h=e("VDRc"),d=e("/q54"),c=e("s6ns"),s=e("bujt"),r=e("Fwaw"),T=e("5GAg"),g=e("omvX"),m=e("Mr+X"),p=e("Gi4r"),f=e("l+Q0"),C=e("SVse"),x=e("Y2dJ");e.d(l,"a",(function(){return N}));var S=t["\u0275crt"]({encapsulation:0,styles:[[".container-iframe[_ngcontent-%COMP%]{position:relative;width:100%;height:500px;background:#ebeced}.container-iframe[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}"]],data:{}});function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-print-form",[["style","text-align: right;"],["textPrint","In \u0111\u01a1n thu\u1ed1c"],["type","PDF"],["typeSize","A5"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.InPhieu(1)&&t),t}),i.b,i.a)),t["\u0275did"](1,245760,null,0,a.a,[t.ChangeDetectorRef,t.Renderer2],{typeSize:[0,"typeSize"],event:[1,"event"],type:[2,"type"],bodyComponent:[3,"bodyComponent"],textPrint:[4,"textPrint"]},null)],(function(n,l){var e=l.component;n(l,1,0,"A5",e.data,"PDF",e,"In \u0111\u01a1n thu\u1ed1c")}),null)}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-print-form",[["style","text-align: right;"],["textPrint","In \u0111\u01a1n thu\u1ed1c"],["type","PDF"],["typeLayout","landscape"],["typeSize","A5"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.InPhieu(2)&&t),t}),i.b,i.a)),t["\u0275did"](1,245760,null,0,a.a,[t.ChangeDetectorRef,t.Renderer2],{typeSize:[0,"typeSize"],typeLayout:[1,"typeLayout"],event:[2,"event"],type:[3,"type"],bodyComponent:[4,"bodyComponent"],textPrint:[5,"textPrint"]},null)],(function(n,l){var e=l.component;n(l,1,0,"A5","landscape",e.data,"PDF",e,"In \u0111\u01a1n thu\u1ed1c")}),null)}function D(n){return t["\u0275vid"](0,[t["\u0275pid"](0,o.a,[u.b]),(n()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","mb-1 mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](2,671744,null,0,h.c,[t.ElementRef,d.i,[2,h.i],d.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](3,671744,null,0,h.b,[t.ElementRef,d.i,[2,h.g],d.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,81920,null,0,c.m,[[2,c.l],t.ElementRef,c.e],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["XEM TR\u01af\u1edaC KHI IN"])),(n()(),t["\u0275eld"](7,0,null,null,4,"button",[["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close()&&t),t}),s.d,s.b)),t["\u0275did"](8,180224,null,0,r.b,[t.ElementRef,T.g,[2,g.a]],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,m.b,m.a)),t["\u0275did"](10,9158656,null,0,p.b,[t.ElementRef,p.d,[8,null],[2,p.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](11,606208,null,0,f.a,[u.b],{icIcon:[0,"icIcon"]},null),(n()(),t["\u0275eld"](12,0,null,null,4,"mat-dialog-content",[["class","mat-dialog-content"],["style","overflow:hidden"]],null,null,null,null,null)),t["\u0275did"](13,16384,null,0,c.j,[],null,null),(n()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","container-iframe"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,1,"iframe",[["allowTransparency","true"],["background","transparent"],["style","height: 500px;"],["width","100%"]],[[8,"src",5]],null,null,null,null)),t["\u0275ppd"](16,1),(n()(),t["\u0275eld"](17,0,null,null,5,"mat-dialog-actions",[["align","end"],["class","mt-3 mat-dialog-actions"]],null,null,null,null,null)),t["\u0275did"](18,16384,null,0,c.f,[],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](20,16384,null,0,C.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](22,16384,null,0,C.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,4,0),n(l,10,0),n(l,11,0,e.icClose),n(l,20,0,1!=e.kiemtraPhieuInManhinh&&1==e.InBangKe),n(l,22,0,1!=e.kiemtraPhieuInManhinh&&1==e.InPhieuThu)}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).id),n(l,7,0,t["\u0275nov"](l,8).disabled||null,"NoopAnimations"===t["\u0275nov"](l,8)._animationMode),n(l,9,0,t["\u0275nov"](l,10).inline,"primary"!==t["\u0275nov"](l,10).color&&"accent"!==t["\u0275nov"](l,10).color&&"warn"!==t["\u0275nov"](l,10).color,t["\u0275nov"](l,11).inline,t["\u0275nov"](l,11).size,t["\u0275nov"](l,11).iconHTML);var i=t["\u0275unv"](l,15,0,n(l,16,0,t["\u0275nov"](l,0),e.src));n(l,15,0,i)}))}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-in-don-thuoc-pop-up",[],null,null,null,D,S)),t["\u0275did"](1,114688,null,0,x.a,[c.a,u.b,c.e],null,null)],(function(n,l){n(l,1,0)}),null)}var N=t["\u0275ccf"]("app-in-don-thuoc-pop-up",x.a,v,{},{},[])},gExg:function(n,l,e){"use strict";e.d(l,"a",(function(){return o}));var t=e("FIHo"),i=e("pJhR"),a=e("PpHG");class o{constructor(n,l,e,i,a){this.route=n,this.notificationService=l,this.router=e,this.dialog=i,this.apiService=a,this.kendoTabSelected=1,this.yctnId=0,this.benhNhanId=0,this.trangThai=0,this.flagAllowLoadThuoc=!0,this.xemTruocBangKeThuoc=new t.y,this.tabIndex=0}ngOnInit(){this.route.queryParams.subscribe(n=>{this.donThuocIds=n}),this.route.queryParams.subscribe(n=>{this.ttCheck=n.page}),null==this.ttCheck&&this.route.queryParams.subscribe(n=>{this.ttCheck=n.ttCheck}),this.route.queryParams.subscribe(n=>{this.MaBN=n.MaBN}),this.route.queryParams.subscribe(n=>{this.TenBenhNhan=n.TenBenhNhan}),this.route.queryParams.subscribe(n=>{this.SDT=n.SDT})}onTabSelect(n){this.tabIndex=n.index,this.flagAllowLoadThuoc=1!=n.index}Huy(){this.route.queryParams.subscribe(n=>{null!=n.page&&(this.ttCheck=n.page)}),this.route.queryParams.subscribe(n=>{null!=n.ttCheck&&(this.ttCheck=n.ttCheck)}),1==this.ttCheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttCheck}}),2==this.ttCheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttCheck}}),3==this.ttCheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttCheck}}),0==this.ttCheck&&this.router.navigate(["nha-thuoc"],{queryParams:{page:this.ttCheck}})}switchValueChanges(n){this.thongTinBenhNhan=n}switchValueChangesChoThanhToan(n){this.validationErrorForThongTin=n}changeTab(n){this.trangThai=n}MaTiepNhanBenhNhanDaThuTien(n){this.ThongTinBenhNhanDaThuTien=n,null!=this.ThongTinBenhNhanDaThuTien&&(this.yctnId=n.YeuCauTiepNhanId,this.benhNhanId=n.BenhNhanId,this.router.navigate(["nha-thuoc/mua-thuoc/"+this.yctnId+"/"+this.benhNhanId+"/"+this.trangThai+"/"+this.ttCheck]),this.ngOnInit())}danhSachChuaThanhToan(n){this.xemTruocBangKeThuoc.DanhSachDonThuocs=n}inXemTruocBangKeThuoc(){this.showPopupLoadingIn(),this.xemTruocBangKeThuoc.Hosting=window.location.protocol+"//"+window.location.host,this.xemTruocBangKeThuoc.YeuCauTiepNhanId=this.route.snapshot.params.id,void 0!==this.xemTruocBangKeThuoc.DanhSachDonThuocs||null!==this.xemTruocBangKeThuoc.DanhSachDonThuocs||0!==this.xemTruocBangKeThuoc.DanhSachDonThuocs.length?this.apiService.postExportPdf("QuayThuoc/XemTruocBangKeThuoc",this.xemTruocBangKeThuoc).subscribe(n=>{null!=n&&null!=n&&this.dialog.open(a.a,{disableClose:!0,width:"1000px",data:{Model:n}}).afterClosed().subscribe(()=>{this.closePopupLoadingData()})},n=>{this.closePopupLoadingData()}):this.notificationService.showError("Kh\xf4ng c\xf3 thu\u1ed1c v\xe0 v\u1eadt t\u01b0.")}showPopupLoadingIn(){this.dialog.open(i.a,{disableClose:!0,width:"250px",height:"90px",data:{Title:"\u0110ang loading..."}})}closePopupLoadingData(){this.dialog.closeAll()}keyEvent(n){83==n.keyCode&&n.ctrlKey&&(0==this.tabIndex&&this.quayThuocHinhThucThanhToan.ThuTien(),n.preventDefault()),112==n.keyCode&&n.ctrlKey&&(this.tabVangLai.selectTab(0),n.preventDefault()),113==n.keyCode&&n.ctrlKey&&(this.tabVangLai.selectTab(1),n.preventDefault()),27!=n.keyCode||n.ctrlKey||(this.Huy(),n.preventDefault())}}},iAmJ:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("VDRc"),a=e("/q54"),o=e("s6ns"),u=e("A5bt"),h=e("QbaE"),d=e("bujt"),c=e("Fwaw"),s=e("5GAg"),r=e("omvX"),T=e("60aS");e.d(l,"a",(function(){return f}));var g=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function m(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](1,671744,null,0,i.c,[t.ElementRef,a.i,[2,i.i],a.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](2,671744,null,0,i.b,[t.ElementRef,a.i,[2,i.g],a.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](3,81920,null,0,o.m,[[2,o.l],t.ElementRef,o.e],null,null),(n()(),t["\u0275eld"](4,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275eld"](6,0,null,null,1,"p",[["class","mb-3"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Th\u1ef1c hi\u1ec7n in phi\u1ebfu cho NB : "])),(n()(),t["\u0275eld"](8,0,null,null,1,"app-checkbox",[["class","pb-0"],["id","InPhieuThu"],["label","In phi\u1ebfu thu"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongTin.InPhieuThu=e)&&t),t}),u.b,u.a)),t["\u0275did"](9,638976,null,0,h.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](10,0,null,null,1,"app-checkbox",[["class","pb-0"],["id","InBangKe"],["label","In b\u1ea3ng k\xea thu\u1ed1c"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0;return"modelChange"===l&&(t=!1!==(n.component.thongTin.InBangKe=e)&&t),t}),u.b,u.a)),t["\u0275did"](11,638976,null,0,h.a,[],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](12,0,null,null,6,"div",[["style","float: right;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","mr-1 mt-2"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close("No answer")&&t),t}),d.d,d.b)),t["\u0275did"](14,180224,null,0,c.b,[t.ElementRef,s.g,[2,r.a]],null,null),(n()(),t["\u0275ted"](-1,0,["Kh\xf4ng"])),(n()(),t["\u0275eld"](16,0,null,null,2,"button",[["class","mr-1 mt-2"],["color","primary"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.close("In")&&t),t}),d.d,d.b)),t["\u0275did"](17,180224,null,0,c.b,[t.ElementRef,s.g,[2,r.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["In"]))],(function(n,l){var e=l.component;n(l,1,0,"row"),n(l,2,0,"space-between center"),n(l,3,0),n(l,9,0,"InPhieuThu","In phi\u1ebfu thu",e.thongTin.InPhieuThu),n(l,11,0,"InBangKe","In b\u1ea3ng k\xea thu\u1ed1c",e.thongTin.InBangKe),n(l,17,0,"primary")}),(function(n,l){var e=l.component;n(l,0,0,t["\u0275nov"](l,3).id),n(l,5,0,e.Title),n(l,13,0,t["\u0275nov"](l,14).disabled||null,"NoopAnimations"===t["\u0275nov"](l,14)._animationMode),n(l,16,0,t["\u0275nov"](l,17).disabled||null,"NoopAnimations"===t["\u0275nov"](l,17)._animationMode)}))}function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-xac-nhan-in-pop-up",[],null,null,null,m,g)),t["\u0275did"](1,114688,null,0,T.a,[o.l,[2,o.a]],null,null)],(function(n,l){n(l,1,0)}),null)}var f=t["\u0275ccf"]("app-quay-thuoc-xac-nhan-in-pop-up",T.a,p,{},{},[])},j9V5:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("SVse"),a=e("bujt"),o=e("Fwaw"),u=e("5GAg"),h=e("omvX"),d=e("J83R"),c=e("cUpR"),s=e("VDRc"),r=e("/q54"),T=e("s6ns"),g=e("Mr+X"),m=e("Gi4r"),p=e("l+Q0"),f=e("PpHG"),C=e("qc5V"),x=e("Y4+Y");e.d(l,"a",(function(){return L}));var S=t["\u0275crt"]({encapsulation:0,styles:[[".container-iframe[_ngcontent-%COMP%]{position:relative;width:100%;height:550px}.container-iframe[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{margin-bottom:10px;-webkit-backface-visibility:hidden}"]],data:{}});function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"iframe",[["allowTransparency","true"],["background","transparent"],["frameborder","0"],["height","550px"],["onload","this.style.display = 'block';"],["style","display: none"],["type","application/pdf"],["width","100%"]],[[8,"id",0],[8,"src",5]],null,null,null,null)),t["\u0275ppd"](2,1)],null,(function(n,l){var e=t["\u0275inlineInterpolate"](1,"",l.context.index,""),i=t["\u0275unv"](l,1,1,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.context.$implicit));n(l,1,0,e,i)}))}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](2,278528,null,0,i.o,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.component.arrFileUrl)}),null)}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"]))],null,null)}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","mr-1 mt-4"],["color","primary"],["mat-stroked-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.downloadAllFile()&&t),t}),a.d,a.b)),t["\u0275did"](1,180224,null,0,o.b,[t.ElementRef,u.g,[2,h.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["T\u1ea3i t\u1ea5t c\u1ea3"]))],(function(n,l){n(l,1,0,"primary")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode)}))}function N(n){return t["\u0275vid"](0,[t["\u0275pid"](0,d.a,[c.b]),(n()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","mat-dialog-title"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t["\u0275did"](2,671744,null,0,s.c,[t.ElementRef,r.i,[2,s.i],r.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](3,671744,null,0,s.b,[t.ElementRef,r.i,[2,s.g],r.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](4,81920,null,0,T.m,[[2,T.l],t.ElementRef,T.e],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"div",[["style","text-transform: uppercase"]],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["K\u1ebft qu\u1ea3 phi\xea\u0301u ("," file)"])),(n()(),t["\u0275eld"](7,0,null,null,6,"button",[["mat-dialog-close",""],["mat-icon-button",""],["tabindex","-1"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](n,9).dialogRef.close(t["\u0275nov"](n,9).dialogResult)&&i),i}),a.d,a.b)),t["\u0275did"](8,180224,null,0,o.b,[t.ElementRef,u.g,[2,h.a]],null,null),t["\u0275did"](9,606208,null,0,T.g,[[2,T.l],t.ElementRef,T.e],{type:[0,"type"],dialogResult:[1,"dialogResult"]},null),(n()(),t["\u0275eld"](10,0,null,0,3,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](n,13).dialogRef.close(t["\u0275nov"](n,13).dialogResult)&&i),i}),g.b,g.a)),t["\u0275did"](11,9158656,null,0,m.b,[t.ElementRef,m.d,[8,null],[2,m.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](12,606208,null,0,p.a,[c.b],{icIcon:[0,"icIcon"]},null),t["\u0275did"](13,606208,null,0,T.g,[[2,T.l],t.ElementRef,T.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t["\u0275eld"](14,0,null,null,8,"mat-dialog-content",[["class","mat-dialog-content"],["style","height: 550px"]],null,null,null,null,null)),t["\u0275did"](15,16384,null,0,T.j,[],null,null),(n()(),t["\u0275eld"](16,0,null,null,6,"div",[["class","container-iframe"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,5,null,null,null,null,null,null,null)),t["\u0275did"](18,16384,null,0,i.t,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](20,278528,null,0,i.u,[t.ViewContainerRef,t.TemplateRef,i.t],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](22,16384,null,0,i.v,[t.ViewContainerRef,t.TemplateRef,i.t],null,null),(n()(),t["\u0275eld"](23,0,null,null,8,"mat-dialog-actions",[["class","pb-5 mat-dialog-actions"]],null,null,null,null,null)),t["\u0275did"](24,16384,null,0,T.f,[],null,null),(n()(),t["\u0275eld"](25,0,null,null,4,"button",[["class","mr-1 mt-4"],["mat-button",""],["style","margin-left: auto"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](n,27).dialogRef.close(t["\u0275nov"](n,27).dialogResult)&&i),i}),a.d,a.b)),t["\u0275did"](26,180224,null,0,o.b,[t.ElementRef,u.g,[2,h.a]],null,null),t["\u0275did"](27,606208,null,0,T.g,[[2,T.l],t.ElementRef,T.e],{type:[0,"type"],dialogResult:[1,"dialogResult"]},null),(n()(),t["\u0275eld"](28,0,null,0,0,"i",[["class","ft-arrow-left"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,0,[" H\u1ee7y"])),(n()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](31,16384,null,0,i.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,4,0),n(l,9,0,"button",""),n(l,11,0),n(l,12,0,e.icClose),n(l,13,0,null),n(l,18,0,e.arrFileUrl.length>0),n(l,20,0,!0),n(l,27,0,"button",null),n(l,31,0,e.arrFilePdf.length>0)}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).id),n(l,6,0,e.arrFileUrl.length),n(l,7,0,t["\u0275nov"](l,8).disabled||null,"NoopAnimations"===t["\u0275nov"](l,8)._animationMode,t["\u0275nov"](l,9).ariaLabel||null,t["\u0275nov"](l,9).type),n(l,10,0,t["\u0275nov"](l,11).inline,"primary"!==t["\u0275nov"](l,11).color&&"accent"!==t["\u0275nov"](l,11).color&&"warn"!==t["\u0275nov"](l,11).color,t["\u0275nov"](l,12).inline,t["\u0275nov"](l,12).size,t["\u0275nov"](l,12).iconHTML,t["\u0275nov"](l,13).ariaLabel||null,t["\u0275nov"](l,13).type),n(l,25,0,t["\u0275nov"](l,26).disabled||null,"NoopAnimations"===t["\u0275nov"](l,26)._animationMode,t["\u0275nov"](l,27).ariaLabel||null,t["\u0275nov"](l,27).type)}))}function M(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"thong-tin-phieu-pdf-popup",[],null,null,null,N,S)),t["\u0275did"](1,114688,null,0,f.a,[T.a,C.a,T.e,x.a],null,null)],(function(n,l){n(l,1,0)}),null)}var L=t["\u0275ccf"]("thong-tin-phieu-pdf-popup",f.a,M,{},{},[])},lMrx:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{constructor(n,l,e){this.dialogRef=n,this.dataItem=l,this.router=e,this.Title=null,this.Title=l.Title,this.typeDanhSachThanhToan=l.KiemTraThanhToan}ngOnInit(){}close(n){1==n?this.dialogRef.close():null!=this.dataItem.Model?(this.router.navigate(["nha-thuoc/khach-vang-lai"],{queryParams:{page:this.typeDanhSachThanhToan,maBN:this.dataItem.Model.MaBN}}),this.dialogRef.close()):(this.router.navigate(["nha-thuoc/khach-vang-lai"],null!=this.dataItem.TenBenhNhanSearch&&null!=this.dataItem.SoDienThoaiSearch?{queryParams:{page:this.typeDanhSachThanhToan,TenBenhNhan:this.dataItem.TenBenhNhanSearch,SDT:this.dataItem.SoDienThoaiSearch}}:null!=this.dataItem.TenBenhNhanSearch&&null==this.dataItem.SoDienThoaiSearch?{queryParams:{page:this.typeDanhSachThanhToan,TenBenhNhan:this.dataItem.TenBenhNhanSearch}}:{queryParams:{page:this.typeDanhSachThanhToan,SDT:this.dataItem.SoDienThoaiSearch}}),this.dialogRef.close())}}},n21n:function(n,l,e){"use strict";e.d(l,"a",(function(){return d})),e.d(l,"b",(function(){return a})),e.d(l,"c",(function(){return o})),e.d(l,"d",(function(){return u})),e.d(l,"e",(function(){return h})),e("9Z/j");var t=e("4FRq"),i=e("H+pe");e("Uage"),e("DUNy"),e("7S5k"),e("gExg");const a={title:"T\xecm th\xf4ng tin",DocumentType:i.b.QuayThuoc,SecurityOperation:t.a.View},o={title:"Mua thu\u1ed1c",DocumentType:i.b.QuayThuoc,SecurityOperation:t.a.Update},u={title:"Mua thu\u1ed1c",DocumentType:i.b.QuayThuoc,SecurityOperation:t.a.Update},h={title:"Mua thu\u1ed1c",DocumentType:i.b.QuayThuoc,SecurityOperation:t.a.Update};class d{}},oHVF:function(n,l){l.__esModule=!0,l.default={body:'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" fill="currentColor"/>',width:24,height:24}},oRGT:function(n,l,e){"use strict";e.d(l,"c",(function(){return t})),e.d(l,"d",(function(){return i})),e.d(l,"a",(function(){return a})),e.d(l,"e",(function(){return o})),e.d(l,"b",(function(){return u}));class t{constructor(n=null,l=null,e=null,t=null){this.ThoiDiemTiepNhanTuFormat=n,this.ThoiDiemTiepNhanDenFormat=l,this.FromDate=e,this.ToDate=t}}class i{constructor(n=null,l=null,e=null,t=null){this.Key=n,this.Value=l,this.ValueDisplay=e,this.Title=t}}class a{constructor(n=0,l=[],e=[]){this.Id=n,this.ThuocBHYT=l,this.ThuocKhongBHYT=e}}class o{constructor(n=null,l=null,e=null,t=null){this.TaiKhoanBenhNhanThuId=n,this.InPhieuThu=l,this.InBangKe=e,this.Hosting=t}}class u{constructor(n=0,l=50,e=50,t="",i="",a=[]){this.Skip=n,this.Take=l,this.PageSize=e,this.SearchString=t,this.AdditionalSearchString=i,this.Sort=a}}},qcz2:function(n,l,e){"use strict";e.d(l,"a",(function(){return o}));var t=e("teW0"),i=e("8Y7J"),a=e("qc5V");let o=(()=>{class n extends t.a{constructor(n){super(n)}}return n.ngInjectableDef=i["\u0275\u0275defineInjectable"]({factory:function(){return new n(i["\u0275\u0275inject"](a.a))},token:n,providedIn:"root"}),n})()},rZEl:function(n,l,e){"use strict";var t=e("8Y7J"),i=e("/sr0"),a=e("ZuBe"),o=e("uwSD"),u=e("VDRc"),h=e("/q54"),d=e("KNdO"),c=e("Z998"),s=e("R6Ha"),r=e("68z7"),T=e("bujt"),g=e("Fwaw"),m=e("5GAg"),p=e("omvX"),f=e("C0s9"),C=e("IP0z"),x=e("A5bt"),S=e("ura0"),b=e("QbaE"),y=e("Dnqu"),D=e("QDH1"),v=e("s6ns"),N=e("BHPW"),M=e("PrTX"),L=e("TXUA"),P=e("FHJC"),G=e("SB+L"),I=e("yg3i"),R=e("C8zy"),w=e("cHpR"),k=e("bDGK"),H=e("qc5V"),E=e("FIHo"),K=e("dxC+"),F=e("lMrx"),V=e("pJhR"),B=e("T3Es"),q=e.n(B),A=e("H+pe"),O=e("4FRq"),_=e("iPKF"),Q=e("5fHe"),X=e("pWwE");class ${constructor(n,l,e,i,a,o,u){this.apiService=n,this.dialog=l,this.router=e,this.cd=i,this.authService=a,this.notificationService=o,this.route=u,this.isScanF1=!1,this.tt111=0,this.DateTuNgay=null,this.DateDenNgay=null,this.eXportExel=!1,this.searchUuTien=!0,this.exportQueryInfoQueryInfo=new E.h,this.kiemTraDanhSachThanhToan=!0,this.kiemTraDanhSachDaThanhToan=!0,this.hoquerySearch=!1,this.dataSearch=new t.EventEmitter,this.onHaddlekiemTraDonThuocThanhToan=new t.EventEmitter,this.onHaddleeXportExel=new t.EventEmitter,this.onHaddleUuTienSearch=new t.EventEmitter,this.queRyInFoSearchNhaThuoc=new E.o,this.icFileExcel=q.a}ngOnInit(){this.documentType=A.b.QuayThuoc,this.quayThuocGridVo=new E.n,this.benhNhanId=new E.q,this.timKiem=new E.v,null==this.timKiem.RangeDate.startDate&&(this.DateTuNgay=new Date,this.timKiem.RangeDate.startDate=this.DateTuNgay),null==this.timKiem.RangeDate.endDate&&(this.DateDenNgay=new Date,this.timKiem.RangeDate.endDate=this.DateDenNgay),1==this.typeDanhSachThanhToan&&(this.kiemTraDanhSachThanhToan=!0,this.kiemTraDanhSachDaThanhToan=!1,this.TimkiemId(this.typeDanhSachThanhToan)),2==this.typeDanhSachThanhToan&&(this.kiemTraDanhSachThanhToan=!1,this.kiemTraDanhSachDaThanhToan=!0,this.TimkiemId(this.typeDanhSachThanhToan)),0==this.typeDanhSachThanhToan&&(this.kiemTraDanhSachThanhToan=!0,this.kiemTraDanhSachDaThanhToan=!0,this.TimkiemId(this.typeDanhSachThanhToan)),3==this.typeDanhSachThanhToan&&(this.kiemTraDanhSachThanhToan=!1,this.kiemTraDanhSachDaThanhToan=!1,this.TimkiemId(this.typeDanhSachThanhToan)),1==this.kiemTraDanhSachThanhToan&&1==this.kiemTraDanhSachDaThanhToan&&(this.timKiem.KiemTraThanhToan=0),0==this.kiemTraDanhSachThanhToan&&0==this.kiemTraDanhSachDaThanhToan&&(this.timKiem.KiemTraThanhToan=3,this.TimkiemId(this.typeDanhSachThanhToan)),this.route.queryParams.subscribe(n=>{this.timKiem.KiemTraThanhToan=n.page}),this.TimKiem(!1)}TimkiemId(n){var l=X.a.getItem("additionalSearchStringChiTietNhaThuoc");let e;null!=l&&null!==l&&""!==l&&(null!=(e=JSON.parse(l)).MaBenhNhan&&(this.timKiem.MaBenhNhan=e.MaBenhNhan),null!=e.MaTiepNhan&&(this.timKiem.MaTiepNhan=e.MaTiepNhan),null!=e.HoTen&&(this.timKiem.HoTen=e.HoTen),null!=e.SoDienThoai&&(this.timKiem.SoDienThoai=e.SoDienThoai),null!=e.typeDanhSachThanhToan&&(this.typeDanhSachThanhToan=e.typeDanhSachThanhToan),this.timKiem.RangeDate.startDate=null!=e.DateStart?new Date(e.DateStart):null,this.timKiem.RangeDate.endDate=null!=e.DateEnd?new Date(e.DateEnd):null),null!=l&&null!=l&&""!=l||(this.timKiem.MaBenhNhan=null,this.timKiem.MaTiepNhan=null,this.timKiem.HoTen=null,this.timKiem.SoDienThoai=null,this.typeDanhSachThanhToan=this.timKiem.KiemTraThanhToan)}ngOnChanges(n){null==n.dataQuayThuocSearch&&null==n.dataQuayThuocSearch||null==n.dataQuayThuocSearch.currentValue&&null==n.dataQuayThuocSearch.currentValue||(this.dataQuayThuocSearch=n.dataQuayThuocSearch.currentValue,this.dataQuayThuocSearch.Data.length>0?1==this.dataQuayThuocSearch.Data.length&&1==this.hoquerySearch&&this.XemChiTiet(this.dataQuayThuocSearch.Data):1==this.hoquerySearch&&this.searchAll())}XemChiTiet(n){null!=n&&null!=n&&n.length>0&&1==n.length&&this.dataQuayThuocSearch.Data[0].Id>0&&(null==this.timKiem.KiemTraThanhToan&&(this.timKiem.KiemTraThanhToan=3),this.router.navigate(["nha-thuoc/mua-thuoc/"+n[0].Id+"/"+n[0].MaBN+"/"+n[0].TrangThai+"/"+this.timKiem.KiemTraThanhToan]))}searchAll(){let n=null,l=null,e=null,t=null,i=null,a=null,o=null;null!=this.timKiem.MaBenhNhan&&(n='"'+this.timKiem.MaBenhNhan+'"',this.queRyInFoSearchNhaThuoc.MaBenhNhan=this.timKiem.MaBenhNhan),null!=this.timKiem.MaTiepNhan&&(l='"'+this.timKiem.MaTiepNhan+'"',this.queRyInFoSearchNhaThuoc.MaTiepNhan=this.timKiem.MaTiepNhan),null!=this.timKiem.HoTen&&(e='"'+this.timKiem.HoTen+'"',this.queRyInFoSearchNhaThuoc.HoTen=this.timKiem.HoTen),null!=this.timKiem.SoDienThoai&&(t='"'+this.timKiem.SoDienThoai+'"',this.queRyInFoSearchNhaThuoc.SoDienThoai=this.timKiem.SoDienThoai),null!=this.timKiem.KiemTraThanhToan&&(i='"'+this.timKiem.KiemTraThanhToan+'"',this.queRyInFoSearchNhaThuoc.KiemTraThanhToan='"'+this.timKiem.KiemTraThanhToan+'"'),null!=this.timKiem.RangeDate.endDate&&(o='"'+_.a.formatDateTime(this.timKiem.RangeDate.endDate,"mm/dd/yyyy")+'"'),null!=this.timKiem.RangeDate.startDate&&(a='"'+_.a.formatDateTime(this.timKiem.RangeDate.startDate,"mm/dd/yyyy")+'"'),""==this.timKiem.MaBenhNhan&&(n=null,this.queRyInFoSearchNhaThuoc.MaBenhNhan=""),null==this.timKiem.MaTiepNhan&&(l=null,this.queRyInFoSearchNhaThuoc.MaTiepNhan=""),null==this.timKiem.HoTen&&(e=null,this.queRyInFoSearchNhaThuoc.HoTen=""),null==this.timKiem.SoDienThoai&&(t=null,this.queRyInFoSearchNhaThuoc.SoDienThoai=""),null==this.timKiem.KiemTraThanhToan&&(i=null,this.queRyInFoSearchNhaThuoc.KiemTraThanhToan=""),null==this.timKiem.RangeDate.startDate&&(a=null),null==this.timKiem.RangeDate.endDate&&(o=null),new Date,this.apiService.post('QuayThuoc/TimKiemBenhNhan?search={"MaBenhNhan":'+n+',"MaTiepNhan":'+l+',"HoTen":'+e+',"SoDienThoai":'+t+',"KiemTraThanhToan":'+i+',"DateStart":'+a+',"DateEnd":'+o+"}").subscribe(n=>{null!=n&&n.length>0?1==n.length?n[0].Id>0?(null==this.timKiem.KiemTraThanhToan&&(this.timKiem.KiemTraThanhToan=3),this.router.navigate(["nha-thuoc/mua-thuoc/"+n[0].Id+"/"+n[0].MaBN+"/"+n[0].TrangThai+"/"+this.timKiem.KiemTraThanhToan])):1==n[0].DonThuocThanhToanExits&&(null==this.timKiem.KiemTraThanhToan&&(this.timKiem.KiemTraThanhToan=3),this.router.navigate(["nha-thuoc/mua-toa-cu/"+n[0].MaBN+"/"+this.timKiem.KiemTraThanhToan])):1==n.length?n[0].Id>0?this.router.navigate(["nha-thuoc/mua-thuoc/"+n[0].Id+"/"+n[0].MaBN+"/"+n[0].TrangThai+"/"+this.timKiem.KiemTraThanhToan]):1==n[0].DonThuocThanhToanExits?this.router.navigate(["nha-thuoc/mua-toa-cu/"+n[0].MaBN+"/"+this.timKiem.KiemTraThanhToan]):this.dialog.open(F.a,{disableClose:!0,width:"500px",data:{Model:n[0],KiemTraThanhToan:this.timKiem.KiemTraThanhToan,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(n=>{}):this.dialog.open(K.a,{width:"1500px",data:{Model:n,Title:"T\xecm ki\u1ebfm ng\u01b0\u1eddi b\u1ec7nh"}}).afterClosed().subscribe(n=>{"object"==typeof n&&this.dataSearch.emit(n)}):null==n?this.notificationService.showError("Kh\xf4ng c\xf3 ng\u01b0\u1eddi b\u1ec7nh."):this.dialog.open(F.a,{disableClose:!0,width:"500px",data:{Model:null,KiemTraThanhToan:this.timKiem.KiemTraThanhToan,TenBenhNhanSearch:this.timKiem.HoTen,SoDienThoaiSearch:this.timKiem.SoDienThoai,Title:"X\xc1C NH\u1eacN"}}).afterClosed().subscribe(n=>{})},n=>{})}keyEvent(n){81==n.keyCode&&n.ctrlKey&&1!=this.isScanF1?(n.preventDefault(),this.QuetMaQRCodeClick(),this.isScanF1=!0):81==n.keyCode&&1==this.isScanF1&&n.preventDefault()}QuetMaQRCodeClick(){let n=document.getElementById("barcodeActive");null!=n&&n.click()}changeQR(n){if(null!=n&&"string"==typeof n&&n.endsWith("@")){this.modelQRCode=n;var l=n.split("|");l.length>1?(this.timKiem.MaBenhNhan=l[0],this.TimKiem(!0)):(this.timKiem.MaTiepNhan=n.slice(0,-1),this.TimKiem(!0))}else this.notificationService.showError("Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin c\u1ea7n t\xecm.");this.isScanF1=!1}onKey3(n){}changRange(n){}TimKiem(n){this.hoquerySearch=n;var l=this.dialog.open(V.a,{disableClose:!0,width:"200px",height:"90px",data:{Title:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."}});this.router.navigate(["nha-thuoc"],{queryParams:{page:this.timKiem.KiemTraThanhToan,hoQuerysearch:!0}});let e=new Date;this.quayThuocGridVo.MaBenhNhan=this.timKiem.MaBenhNhan,this.quayThuocGridVo.MaTiepNhan=this.timKiem.MaTiepNhan,this.quayThuocGridVo.HoTen=this.timKiem.HoTen,this.quayThuocGridVo.SoDienThoai=this.timKiem.SoDienThoai,1==this.kiemTraDanhSachThanhToan&&1==this.kiemTraDanhSachDaThanhToan&&(this.timKiem.KiemTraThanhToan=0),0==this.kiemTraDanhSachThanhToan&&0==this.kiemTraDanhSachDaThanhToan&&(this.timKiem.KiemTraThanhToan=3),this.quayThuocGridVo.KiemTraThanhToan=this.timKiem.KiemTraThanhToan,this.quayThuocGridVo.DieuKienLoadVaoChiTiet=!0,this.quayThuocGridVo.DateEnd=null!=this.timKiem.RangeDate.endDate?_.a.formatDate(this.timKiem.RangeDate.endDate,"mm/dd/yyyy")+" 11:59 PM":null,this.quayThuocGridVo.DateStart=null!=this.timKiem.RangeDate.startDate?_.a.formatDate(this.timKiem.RangeDate.startDate,"mm/dd/yyyy")+" 12:00 AM":null,this.quayThuocGridVo.DateNow=e;let t=JSON.stringify(this.quayThuocGridVo);X.a.setItem("additionalSearchStringChiTietNhaThuoc",t),1==this.searchUuTien&&(this.onHaddleUuTienSearch.emit(t),l.close())}KhachVangLai(){}onKey(n){"Enter"==n.key&&this.TimKiem(!0)}blurChange(n,l){}shareData1(){return this.benhNhanId}checkTrangThai(n,l){this.cd.detectChanges(),1==l&&1==n?(this.kiemTraDanhSachThanhToan=n,this.router.navigate(["nha-thuoc"],{queryParams:{page:l}})):1==l&&0==n&&(this.kiemTraDanhSachThanhToan=!1),2==l&&1==n?(this.kiemTraDanhSachDaThanhToan=n,this.router.navigate(["nha-thuoc"],{queryParams:{page:l}})):2==l&&0==n&&(this.kiemTraDanhSachDaThanhToan=!1),1==this.kiemTraDanhSachThanhToan&&(this.router.navigate(["nha-thuoc"],{queryParams:{page:1}}),this.timKiem.KiemTraThanhToan=1),1==this.kiemTraDanhSachDaThanhToan&&(this.router.navigate(["nha-thuoc"],{queryParams:{page:2}}),this.timKiem.KiemTraThanhToan=2),1==this.kiemTraDanhSachThanhToan&&1==this.kiemTraDanhSachDaThanhToan&&(this.router.navigate(["nha-thuoc"],{queryParams:{page:0}}),this.timKiem.KiemTraThanhToan=0),0==this.kiemTraDanhSachThanhToan&&0==this.kiemTraDanhSachDaThanhToan&&(this.router.navigate(["nha-thuoc"],{queryParams:{page:3}}),this.timKiem.KiemTraThanhToan=3),this.TimKiem(!0)}searchChangeMaBN(n){var l=this;null!=this.timeoutSearchChange&&(clearTimeout(this.timeoutSearchChange),this.timeoutSearchChange=null),this.timeoutSearchChange=setTimeout((function(){if(void 0!==n&&n.endsWith("@")){var e=n.split("|");e.length>1?(l.timKiem.MaBenhNhan=e[0],l.TimKiem(!0)):(l.timKiem.MaBenhNhan=null,l.timKiem.MaTiepNhan=n.slice(0,-1),l.TimKiem(!0))}}),100)}searchChangeMaTN(n){var l=this;null!=this.timeoutSearchChange&&(clearTimeout(this.timeoutSearchChange),this.timeoutSearchChange=null),this.timeoutSearchChange=setTimeout((function(){if(void 0!==n&&n.endsWith("@")){var e=n.split("|");e.length>1?(l.timKiem.MaTiepNhan=e[0],l.TimKiem(!0)):(l.timKiem.MaTiepNhan=null,l.timKiem.MaBenhNhan=n.slice(0,-1),l.TimKiem(!0))}}),100)}exportExcel(){const n=this;n.showPopupLoadingData();let l=new Date;this.quayThuocGridVo.MaBenhNhan=this.timKiem.MaBenhNhan,this.quayThuocGridVo.MaTiepNhan=this.timKiem.MaTiepNhan,this.quayThuocGridVo.HoTen=this.timKiem.HoTen,this.quayThuocGridVo.SoDienThoai=this.timKiem.SoDienThoai,this.quayThuocGridVo.KiemTraThanhToan=this.timKiem.KiemTraThanhToan,this.quayThuocGridVo.DieuKienLoadVaoChiTiet=!0,this.quayThuocGridVo.DateEnd=null!=this.timKiem.RangeDate.endDate?_.a.formatDateTime(this.timKiem.RangeDate.endDate,"mm/dd/yyyy"):null,this.quayThuocGridVo.DateStart=null!=this.timKiem.RangeDate.startDate?_.a.formatDateTime(this.timKiem.RangeDate.startDate,"mm/dd/yyyy"):null,this.quayThuocGridVo.DateNow=l;let e=JSON.stringify(this.quayThuocGridVo);n.exportQueryInfoQueryInfo.AdditionalSearchString=e,n.authService.hasPermission(n.documentType,O.a.Process)?n.apiService.postExportExcel("QuayThuoc/ExportDonThuocTrongNgay",n.exportQueryInfoQueryInfo).subscribe(l=>{n.closePopupLoadingData();const e=new Date;_.a.downLoadFile(l,"application/vnd.ms-excel","DonThuocTrongNgay"+e.getFullYear()+".xlsx")},l=>{n.notificationService.showError(l.Message)}):n.notificationService.showError(Q.B.UnAuthorizedMessage)}showPopupLoadingData(){this.dialog.open(V.a,{disableClose:!0,width:"200px",height:"90px",data:{Title:"\u0110ang xu\u1ea5t excel..."}})}closePopupLoadingData(){this.dialog.closeAll()}blur(n){this.TimKiem(!0)}}var Y=e("iInd"),z=e("7dP1"),W=e("Y4+Y"),U=t["\u0275crt"]({encapsulation:0,styles:[["fieldset[_ngcontent-%COMP%]{display:block;margin-left:2px;margin-right:2px;border:1px #e0e0e0;border-style:inherit;padding:.35em .75em .625em}fieldset[_ngcontent-%COMP%]   .item_right[_ngcontent-%COMP%]{text-align:right!important;float:right}fieldset[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:15px!important}fieldset[_ngcontent-%COMP%]   ul.inline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block!important}"]],data:{}});function Z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,53,"fieldset",[["class","m-0"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["T\xccM NG\u01af\u1edcI B\u1ec6NH"])),(n()(),t["\u0275eld"](3,0,null,null,50,"div",[["fxLayout","row wrap"],["fxLayout.lt-sm","column"],["fxLayoutGap","16px grid"],["fxLayoutGap.lt-sm","0"]],null,null,null,null,null)),t["\u0275did"](4,671744,null,0,u.c,[t.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-sm":[1,"fxLayout.lt-sm"]},null),t["\u0275did"](5,1720320,null,0,u.d,[t.ElementRef,t.NgZone,C.b,h.i,[2,u.h],h.f],{fxLayoutGap:[0,"fxLayoutGap"],"fxLayoutGap.lt-sm":[1,"fxLayoutGap.lt-sm"]},null),(n()(),t["\u0275eld"](6,0,null,null,14,"div",[["fxFlex","300px"],["fxFlex.sm","20%"],["style","position: relative;"]],null,null,null,null,null)),t["\u0275did"](7,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),(n()(),t["\u0275eld"](8,0,null,null,12,"div",[["style","background-color: rgba(0, 0, 0, 0.04);height: 100%;\n            width: 100% !important;\n            border-radius: 4px 4px 0 0;\n            padding: 0.75em 0.75em 0 0.75em;\n            border-bottom: 1px solid rgba(82, 63, 105, 0.42);"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,5,"app-checkbox",[["fxFlex","150px"],["fxFlex.lt-md","auto"],["fxHide.xs",""],["fxLayout","row"],["fxLayoutAlign","start center"],["label","Ch\u1edd thanh to\xe1n"],["name","dang-thanh-toan"],["value","dangthanhtoan"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.checkTrangThai(e,1)&&t),"modelChange"===l&&(t=!1!==(i.kiemTraDanhSachThanhToan=e)&&t),t}),x.b,x.a)),t["\u0275did"](10,671744,null,0,u.c,[t.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](11,671744,null,0,u.b,[t.ElementRef,h.i,[2,u.g],h.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](12,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.lt-md":[1,"fxFlex.lt-md"]},null),t["\u0275did"](13,4866048,null,0,S.b,[t.ElementRef,S.e,h.i,h.f,h.e,t.PLATFORM_ID,[2,h.g]],{"fxHide.xs":[0,"fxHide.xs"]},null),t["\u0275did"](14,638976,null,0,b.a,[],{label:[0,"label"],model:[1,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](15,0,null,null,5,"app-checkbox",[["fxFlex","150px"],["fxFlex.lt-md","auto"],["fxHide.xs",""],["fxLayout","row"],["fxLayoutAlign","start center"],["label","\u0110\xe3 thanh to\xe1n"],["name","da-thanh-toan"],["value","dathanhtoan"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==i.checkTrangThai(e,2)&&t),"modelChange"===l&&(t=!1!==(i.kiemTraDanhSachDaThanhToan=e)&&t),t}),x.b,x.a)),t["\u0275did"](16,671744,null,0,u.c,[t.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](17,671744,null,0,u.b,[t.ElementRef,h.i,[2,u.g],h.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),t["\u0275did"](18,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.lt-md":[1,"fxFlex.lt-md"]},null),t["\u0275did"](19,4866048,null,0,S.b,[t.ElementRef,S.e,h.i,h.f,h.e,t.PLATFORM_ID,[2,h.g]],{"fxHide.xs":[0,"fxHide.xs"]},null),t["\u0275did"](20,638976,null,0,b.a,[],{label:[0,"label"],model:[1,"model"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](21,0,null,null,8,"div",[["fxFlex","10%"],["fxFlex.sm","10%"],["style","position: relative;"]],null,null,null,null,null)),t["\u0275did"](22,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),(n()(),t["\u0275eld"](23,0,null,null,2,"app-textbox",[["fxFlex","100%"],["fxFlex.sm","100%"],["id","SoTheBHYT"],["label","M\xe3 NB"]],null,[[null,"modelChange"],[null,"keyup"],[null,"blurChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.timKiem.MaBenhNhan=e)&&t),"keyup"===l&&(t=!1!==i.onKey(e)&&t),"blurChange"===l&&(t=!1!==i.blurChange(e,!0)&&t),"modelChange"===l&&(t=!1!==i.searchChangeMaBN(e)&&t),t}),y.b,y.a)),t["\u0275did"](24,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](25,4833280,null,0,D.a,[t.ChangeDetectorRef,v.e],{id:[0,"id"],label:[1,"label"],model:[2,"model"],isAutoFocus:[3,"isAutoFocus"]},{modelChange:"modelChange",blurChange:"blurChange"}),(n()(),t["\u0275eld"](26,0,null,null,3,"button",[["color","primary"],["kendoTooltip",""],["mat-mini-fab",""],["style","position: absolute;right: 21px;margin-top: 10px;"],["title","Qu\xe9t m\xe3 v\u1ea1ch th\u1ebb BHYT"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.QuetMaQRCodeClick()&&t),t}),T.d,T.b)),t["\u0275did"](27,9125888,null,0,N.c,[t.ElementRef,t.NgZone,t.Renderer2,M.g,[2,N.e],[2,N.a]],null,null),t["\u0275did"](28,180224,null,0,g.b,[t.ElementRef,m.g,[2,p.a]],{color:[0,"color"]},null),(n()(),t["\u0275eld"](29,0,null,0,0,"img",[["alt","Scan barcode"],["src","assets/img/barcode.png"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,3,"app-textbox",[["fxFlex","10%"],["fxFlex.sm","15%"],["id","MaTN"],["label","M\xe3 TN"],["maxlength","4000"],["style","padding-left: 10px;"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.timKiem.MaTiepNhan=e)&&t),"keyup"===l&&(t=!1!==i.onKey(e)&&t),"modelChange"===l&&(t=!1!==i.searchChangeMaTN(e)&&t),t}),y.b,y.a)),t["\u0275did"](31,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](32,4833280,null,0,D.a,[t.ChangeDetectorRef,v.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],model:[3,"model"],validationerror:[4,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,L.a,[]),(n()(),t["\u0275eld"](34,0,null,null,3,"app-textbox",[["fxFlex","15%"],["fxFlex.sm","15%"],["id","HoTen"],["label","H\u1ecd T\xean"],["maxlength","4000"],["style","padding-left: 10px;"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.timKiem.HoTen=e)&&t),"keyup"===l&&(t=!1!==i.onKey(e)&&t),t}),y.b,y.a)),t["\u0275did"](35,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](36,4833280,null,0,D.a,[t.ChangeDetectorRef,v.e],{id:[0,"id"],label:[1,"label"],maxlength:[2,"maxlength"],model:[3,"model"],validationerror:[4,"validationerror"]},{modelChange:"modelChange"}),t["\u0275pid"](0,L.a,[]),(n()(),t["\u0275eld"](38,0,null,null,2,"app-textboxmask",[["fxFlex","10%"],["fxFlex.sm","10%"],["id","SoDienThoai"],["label","S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i"],["mask","000 000 0000"],["maxlength","10"],["onlynumber","true"]],null,[[null,"keyup"],[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"keyup"===l&&(t=!1!==i.onKey(e)&&t),"modelChange"===l&&(t=!1!==(i.timKiem.SoDienThoai=e)&&t),t}),P.b,P.a)),t["\u0275did"](39,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](40,1163264,null,0,G.a,[t.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],mask:[3,"mask"]},{modelChange:"modelChange"}),(n()(),t["\u0275eld"](41,0,null,null,2,"app-daterangepicker",[["fxFlex","20%"],["fxFlex.sm","20%"],["id","Daterange"],["label","T\u1eeb ng\xe0y - \u0110\u1ebfn ng\xe0y"]],null,[[null,"blur"],[null,"modelChange"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"blur"===l&&(t=!1!==i.blur(e)&&t),"modelChange"===l&&(t=!1!==(i.timKiem.RangeDate=e)&&t),"keyup"===l&&(t=!1!==i.onKey3(e)&&t),"modelChange"===l&&(t=!1!==i.changRange(e)&&t),t}),I.b,I.a)),t["\u0275did"](42,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),t["\u0275did"](43,1687552,null,0,R.a,[t.Injector],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange",blur:"blur"}),(n()(),t["\u0275eld"](44,0,null,null,7,"div",[["fxFlex","209px"]],null,null,null,null,null)),t["\u0275did"](45,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](46,0,null,null,2,"button",[["class","mr-1 mt-5"],["color","primary"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.TimKiem(!0)&&t),t}),T.d,T.b)),t["\u0275did"](47,180224,null,0,g.b,[t.ElementRef,m.g,[2,p.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["T\xecm ki\u1ebfm"])),(n()(),t["\u0275eld"](49,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.exportExcel()&&t),t}),T.d,T.b)),t["\u0275did"](50,180224,null,0,g.b,[t.ElementRef,m.g,[2,p.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["Xu\u1ea5t Excel"])),(n()(),t["\u0275eld"](52,0,null,null,1,"app-barcode",[["style","display: none;"]],null,[[null,"modelChange"]],(function(n,l,e){var t=!0,i=n.component;return"modelChange"===l&&(t=!1!==(i.modelQRCode=e)&&t),"modelChange"===l&&(t=!1!==i.changeQR(e)&&t),t}),w.b,w.a)),t["\u0275did"](53,114688,null,0,k.a,[H.a,v.e],{model:[0,"model"]},{modelChange:"modelChange"})],(function(n,l){var e=l.component;n(l,4,0,"row wrap","column"),n(l,5,0,"16px grid","0"),n(l,7,0,"300px","20%"),n(l,10,0,"row"),n(l,11,0,"start center"),n(l,12,0,"150px","auto"),n(l,13,0,""),n(l,14,0,"Ch\u1edd thanh to\xe1n",e.kiemTraDanhSachThanhToan),n(l,16,0,"row"),n(l,17,0,"start center"),n(l,18,0,"150px","auto"),n(l,19,0,""),n(l,20,0,"\u0110\xe3 thanh to\xe1n",e.kiemTraDanhSachDaThanhToan),n(l,22,0,"10%","10%"),n(l,24,0,"100%","100%"),n(l,25,0,"SoTheBHYT","M\xe3 NB",e.timKiem.MaBenhNhan,!0),n(l,27,0),n(l,28,0,"primary"),n(l,31,0,"10%","15%"),n(l,32,0,"MaTN","M\xe3 TN","4000",e.timKiem.MaTiepNhan,t["\u0275unv"](l,32,4,t["\u0275nov"](l,33).transform("MaTN",e.validationErrors))),n(l,35,0,"15%","15%"),n(l,36,0,"HoTen","H\u1ecd T\xean","4000",e.timKiem.HoTen,t["\u0275unv"](l,36,4,t["\u0275nov"](l,37).transform("HoTen",e.validationErrors))),n(l,39,0,"10%","10%"),n(l,40,0,"SoDienThoai","S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i",e.timKiem.SoDienThoai,"000 000 0000"),n(l,42,0,"20%","20%"),n(l,43,0,"Daterange","T\u1eeb ng\xe0y - \u0110\u1ebfn ng\xe0y",e.timKiem.RangeDate),n(l,45,0,"209px"),n(l,47,0,"primary"),n(l,50,0,"primary"),n(l,53,0,e.modelQRCode)}),(function(n,l){n(l,26,0,t["\u0275nov"](l,28).disabled||null,"NoopAnimations"===t["\u0275nov"](l,28)._animationMode),n(l,46,0,t["\u0275nov"](l,47).disabled||null,"NoopAnimations"===t["\u0275nov"](l,47)._animationMode),n(l,49,0,t["\u0275nov"](l,50).disabled||null,"NoopAnimations"===t["\u0275nov"](l,50)._animationMode)}))}var j=e("SVse"),J=e("uShY"),nn=e("7OI1"),ln=e("teW0"),en=e("s7LF"),tn=e("Mr+X"),an=e("Gi4r"),on=e("l+Q0"),un=e("cUpR"),hn=e("t7+x"),dn=t["\u0275crt"]({encapsulation:0,styles:[[".icon-bhyt[_ngcontent-%COMP%]{height:20px;top:2px;position:absolute;right:0}"]],data:{}});function cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"strong",[["class","text-color"],["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.TongGiaTriDonThuoc,"0.2-2","vi-VN"));n(l,1,0,e)}))}function sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"strong",[["class","text-color"],["style","color:blue"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.TongGiaTriDonThuoc,"0.2-2","vi-VN"));n(l,1,0,e)}))}function rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,cn)),t["\u0275did"](1,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,sn)),t["\u0275did"](3,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,"Ch\u01b0a thanh to\xe1n"==l.context.$implicit.TrangThaiHienThi),n(l,3,0,"\u0110\xe3 thanh to\xe1n"==l.context.$implicit.TrangThaiHienThi)}),null)}function Tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"strong",[["class","text-color"],["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.SoTienChoThanhToan,"0.2-2","vi-VN"));n(l,1,0,e)}))}function gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"strong",[["class","text-color"],["style","color:blue"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""])),t["\u0275ppd"](2,3)],null,(function(n,l){var e=t["\u0275unv"](l,1,0,n(l,2,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.SoTienChoThanhToan,"0.2-2","vi-VN"));n(l,1,0,e)}))}function mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](1,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](3,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,"Ch\u01b0a thanh to\xe1n"==l.context.$implicit.TrangThaiHienThi),n(l,3,0,"\u0110\xe3 thanh to\xe1n"==l.context.$implicit.TrangThaiHienThi)}),null)}function pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"strong",[["class","text-color"],["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.parent.context.$implicit.TrangThaiHienThi)}))}function fn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"strong",[["class","text-color"],["style","color:blue"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.parent.context.$implicit.TrangThaiHienThi)}))}function Cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](1,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,fn)),t["\u0275did"](3,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,"Ch\u01b0a thanh to\xe1n"==l.context.$implicit.TrangThaiHienThi),n(l,3,0,"\u0110\xe3 thanh to\xe1n"==l.context.$implicit.TrangThaiHienThi)}),null)}function xn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","text-center"],["kendoTooltip",""]],null,null,null,null,null)),t["\u0275did"](1,9125888,null,0,N.c,[t.ElementRef,t.NgZone,t.Renderer2,M.g,[2,N.e],[2,N.a]],null,null),(n()(),t["\u0275eld"](2,0,null,null,2,"button",[["class","mr-1 float-right"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.Xem(n.context.$implicit)&&t),t}),T.d,T.b)),t["\u0275did"](3,180224,null,0,g.b,[t.ElementRef,m.g,[2,p.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,[" Xem"]))],(function(n,l){n(l,1,0),n(l,3,0,"primary")}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).disabled||null,"NoopAnimations"===t["\u0275nov"](l,3)._animationMode)}))}function Sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.Xem(n.context.$implicit)&&t),t}),null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,(function(n,l){n(l,1,0,l.context.$implicit.MaTN)}))}function bn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-grid",[["baseRoute",""]],null,null,null,J.b,J.a)),t["\u0275did"](1,1818624,null,0,nn.a,[ln.a,z.a,Y.o,W.a,t.ChangeDetectorRef,en.g,v.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],baseRoute:[1,"baseRoute"],additionalSearchString:[2,"additionalSearchString"],useHeaderDefault:[3,"useHeaderDefault"],useActionDefault:[4,"useActionDefault"],pageable:[5,"pageable"],autoHeight:[6,"autoHeight"],documentType:[7,"documentType"],lazyLoadPage:[8,"lazyLoadPage"],useAddDeault:[9,"useAddDeault"],checkboxAble:[10,"checkboxAble"],urlGetData:[11,"urlGetData"]},null)],(function(n,l){var e=l.component;n(l,1,1,[e.gridChild,"",l.context.$implicit.Id+"-"+l.context.$implicit.DateStart+"-"+l.context.$implicit.DateEnd,!1,!1,!1,!0,e.documentType,!0,!1,!1,e.urlGetDataChild])}),null)}function yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,(function(n,l){n(l,1,0,l.context.value)}))}function Dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"button",[["kendoTooltip",""],["mat-icon-button",""],["title","In phi\u1ebfu"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.PrinAllDonThuocBenhNhan(n.parent.context.$implicit.DonThuocThanhToanId,n.parent.context.$implicit.LoaiDonThuoc,n.parent.context.$implicit.YeuCauKhambenhId)&&t),t}),T.d,T.b)),t["\u0275did"](2,9125888,null,0,N.c,[t.ElementRef,t.NgZone,t.Renderer2,M.g,[2,N.e],[2,N.a]],null,null),t["\u0275did"](3,180224,null,0,g.b,[t.ElementRef,m.g,[2,p.a]],null,null),(n()(),t["\u0275eld"](4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,tn.b,tn.a)),t["\u0275did"](5,9158656,null,0,an.b,[t.ElementRef,an.d,[8,null],[2,an.a],[2,t.ErrorHandler]],null,null),t["\u0275did"](6,606208,null,0,on.a,[un.b],{icIcon:[0,"icIcon"]},null)],(function(n,l){var e=l.component;n(l,2,0),n(l,5,0),n(l,6,0,e.icPrint)}),(function(n,l){n(l,1,0,t["\u0275nov"](l,3).disabled||null,"NoopAnimations"===t["\u0275nov"](l,3)._animationMode),n(l,4,0,t["\u0275nov"](l,5).inline,"primary"!==t["\u0275nov"](l,5).color&&"accent"!==t["\u0275nov"](l,5).color&&"warn"!==t["\u0275nov"](l,5).color,t["\u0275nov"](l,6).inline,t["\u0275nov"](l,6).size,t["\u0275nov"](l,6).iconHTML)}))}function vn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Dn)),t["\u0275did"](1,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,0==l.context.$implicit.DonThuocBacSiKeToa)}),null)}function Nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.context.$implicit.SoTienDisPlay)}))}function Mn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color:red"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.parent.context.$implicit.TinhTrang)}))}function Ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color:blue"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.parent.context.$implicit.TinhTrang)}))}function Pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["style","color: blue;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" ",""]))],null,(function(n,l){n(l,1,0,l.parent.context.$implicit.TinhTrang)}))}function Gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Mn)),t["\u0275did"](1,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](3,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](5,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,"Ch\u01b0a xu\u1ea5t thu\u1ed1c"==l.context.$implicit.TinhTrang||"Ch\u01b0a thanh to\xe1n"==l.context.$implicit.TinhTrang),n(l,3,0,"\u0110\xe3 thanh to\xe1n"==l.context.$implicit.TinhTrang),n(l,5,0,"\u0110\xe3 xu\u1ea5t thu\u1ed1c"==l.context.$implicit.TinhTrang)}),null)}function In(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["title","Ph\xedm t\u1eaft: Ng\u01b0\u01a1\u0300i b\xea\u0323nh kh\xf4ng mua thu\xf4\u0301c"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.nguoiBenhKhongMuaThuoc(n.parent.context.$implicit)&&t),t}),T.d,T.b)),t["\u0275did"](1,180224,null,0,g.b,[t.ElementRef,m.g,[2,p.a]],{color:[0,"color"]},null),(n()(),t["\u0275ted"](-1,0,["NB kh\xf4ng mua thu\xf4\u0301c"]))],(function(n,l){n(l,1,0,"primary")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).disabled||null,"NoopAnimations"===t["\u0275nov"](l,1)._animationMode)}))}function Rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,In)),t["\u0275did"](1,16384,null,0,j.p,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,1===l.context.$implicit.TrangThai)}),null)}function wn(n){return t["\u0275vid"](0,[t["\u0275pid"](0,j.g,[t.LOCALE_ID]),t["\u0275qud"](402653184,1,{gridD:0}),t["\u0275qud"](402653184,2,{actionTemplate:0}),t["\u0275qud"](402653184,3,{TongGiaTriDonThuocTemplate:0}),t["\u0275qud"](402653184,4,{SoTienChoThanhToanTemplate:0}),t["\u0275qud"](402653184,5,{trangThaiTemplate:0}),t["\u0275qud"](402653184,6,{nguoiDungKhongMuaThuocTemplate:0}),t["\u0275qud"](402653184,7,{maTNTemplate:0}),t["\u0275qud"](402653184,8,{templatePrint:0}),t["\u0275qud"](402653184,9,{TongCongDonThuocFooter:0}),t["\u0275qud"](402653184,10,{TonggiaTriThuocFooter:0}),t["\u0275qud"](671088640,11,{gridDonThuocTrongNgay:0}),t["\u0275qud"](402653184,12,{nhomGroupHeaderTemplate:0}),t["\u0275qud"](402653184,13,{SoTienThuoctemplate:0}),t["\u0275qud"](402653184,14,{TinhTrangThuoctemplate:0}),(n()(),t["\u0275eld"](15,0,null,null,1,"app-grid",[["heightToolbar","272"]],null,[[null,"extOnDataBound"]],(function(n,l,e){var t=!0;return"extOnDataBound"===l&&(t=!1!==n.component.onDataBound(e)&&t),t}),J.b,J.a)),t["\u0275did"](16,1818624,[[1,4],["gridD",4]],0,nn.a,[ln.a,z.a,Y.o,W.a,t.ChangeDetectorRef,en.g,v.e,t.Renderer2,t.NgZone],{gridColumns:[0,"gridColumns"],additionalSearchString:[1,"additionalSearchString"],useHeaderDefault:[2,"useHeaderDefault"],useActionDefault:[3,"useActionDefault"],heightToolbar:[4,"heightToolbar"],documentType:[5,"documentType"],lazyLoadPage:[6,"lazyLoadPage"],useAddDeault:[7,"useAddDeault"],sort:[8,"sort"],detailTemplate:[9,"detailTemplate"],checkboxAble:[10,"checkboxAble"],urlGetData:[11,"urlGetData"],urlGetTotalPage:[12,"urlGetTotalPage"]},{extOnDataBound:"extOnDataBound"}),(n()(),t["\u0275and"](0,[[3,2],["TongGiaTriDonThuocTemplate",2]],null,0,null,rn)),(n()(),t["\u0275and"](0,[[4,2],["SoTienChoThanhToanTemplate",2]],null,0,null,mn)),(n()(),t["\u0275and"](0,[[5,2],["trangThaiTemplate",2]],null,0,null,Cn)),(n()(),t["\u0275and"](0,[[2,2],["actionTemplate",2]],null,0,null,xn)),(n()(),t["\u0275and"](0,[[7,2],["maTNTemplate",2]],null,0,null,Sn)),(n()(),t["\u0275and"](0,[["detailTemplate",2]],null,0,null,bn)),(n()(),t["\u0275and"](0,[[12,2],["nhomGroupHeaderTemplate",2]],null,0,null,yn)),(n()(),t["\u0275and"](0,[[8,2],["templatePrint",2]],null,0,null,vn)),(n()(),t["\u0275and"](0,[[13,2],["SoTienThuoctemplate",2]],null,0,null,Nn)),(n()(),t["\u0275and"](0,[[14,2],["TinhTrangThuoctemplate",2]],null,0,null,Gn)),(n()(),t["\u0275and"](0,[[6,2],["nguoiDungKhongMuaThuocTemplate",2]],null,0,null,Rn))],(function(n,l){var e=l.component;n(l,16,1,[e.gridChildColumnsChoThanhToan,e.queryStringSearchUuTien,!1,!1,"272",e.documentType,!0,!1,e.sortConfig,t["\u0275nov"](l,22),!1,e.urlGetDataGridChild,e.urlGetTotalPageGridChild])}),null)}var kn=e("Uage");e.d(l,"a",(function(){return Fn}));var Hn=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function En(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{gridChild:0}),t["\u0275qud"](402653184,2,{gridQuayThuocList:0}),(n()(),t["\u0275eld"](2,0,null,null,32,"vex-page-layout",[["class","vex-page-layout"]],[[2,"vex-page-layout-card",null],[2,"vex-page-layout-simple",null]],null,null,i.b,i.a)),t["\u0275did"](3,49152,null,0,a.a,[],null,null),(n()(),t["\u0275eld"](4,0,null,0,16,"vex-page-layout-header",[["class","pb-16 vex-page-layout-header"],["fxLayout","column"],["fxLayoutAlign","center start"]],null,null,null,null,null)),t["\u0275did"](5,16384,null,0,o.a,[],null,null),t["\u0275did"](6,671744,null,0,u.c,[t.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](7,671744,null,0,u.b,[t.ElementRef,h.i,[2,u.g],h.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["\u0275eld"](8,0,null,null,12,"div",[["class","w-full flex justify-between"]],[[2,"px-gutter",null]],null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,4,"vex-breadcrumbs",[],null,null,null,d.b,d.a)),t["\u0275did"](10,114688,null,0,c.a,[],{crumbs:[0,"crumbs"]},null),t["\u0275pod"](11,{Title:0,Path:1}),t["\u0275pod"](12,{Title:0,Path:1,Active:2}),t["\u0275pad"](13,2),(n()(),t["\u0275eld"](14,0,null,null,3,"app-hot-key",[["style","position: absolute;right: 180px;top: 7px;"]],null,null,null,s.b,s.a)),t["\u0275did"](15,114688,null,0,r.a,[t.ChangeDetectorRef],{keys:[0,"keys"]},null),t["\u0275pod"](16,{Key:0,Description:1,End:2}),t["\u0275pad"](17,1),(n()(),t["\u0275eld"](18,0,null,null,2,"button",[["mat-button",""],["mat-raised-button",""],["style","position: absolute;right: 21px;top: 7px;"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=!1!==i.ToKhachVangLai(i.typeDanhSachThanhToan)&&t),t}),T.d,T.b)),t["\u0275did"](19,180224,null,0,g.b,[t.ElementRef,m.g,[2,p.a]],null,null),(n()(),t["\u0275ted"](-1,0,["Kh\xe1ch V\xe3ng Lai"])),(n()(),t["\u0275eld"](21,0,null,0,13,"vex-page-layout-content",[["class","-mt-6 vex-page-layout-content"]],[[2,"px-gutter",null]],null,null,null,null)),t["\u0275did"](22,16384,null,0,f.a,[],null,null),(n()(),t["\u0275eld"](23,0,null,null,11,"div",[["class","-mt-16"]],null,null,null,null,null)),(n()(),t["\u0275eld"](24,0,null,null,10,"div",[["fxLayout","row"],["fxLayout.lt-md","column"],["fxLayoutGap","20px"]],null,null,null,null,null)),t["\u0275did"](25,671744,null,0,u.c,[t.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"],"fxLayout.lt-md":[1,"fxLayout.lt-md"]},null),t["\u0275did"](26,1720320,null,0,u.d,[t.ElementRef,t.NgZone,C.b,h.i,[2,u.h],h.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(n()(),t["\u0275eld"](27,0,null,null,7,"div",[["class","card"],["fxFlex","100%"]],null,null,null,null,null)),t["\u0275did"](28,671744,null,0,u.a,[t.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["\u0275eld"](29,0,null,null,5,"div",[["class","px-6 py-4"],["fxLayout","column"],["style","position: relative;"]],null,null,null,null,null)),t["\u0275did"](30,671744,null,0,u.c,[t.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"]},null),(n()(),t["\u0275eld"](31,0,null,null,1,"app-quay-thuoc-tim-benh-nhan",[["class","mb-2"]],null,[[null,"dataSearch"],[null,"onHaddleeXportExel"],[null,"onHaddleUuTienSearch"],["document","keydown"]],(function(n,l,e){var i=!0,a=n.component;return"document:keydown"===l&&(i=!1!==t["\u0275nov"](n,32).keyEvent(e)&&i),"dataSearch"===l&&(i=!1!==a.getData(e)&&i),"onHaddleeXportExel"===l&&(i=!1!==a.KiemTraeXportExel(e)&&i),"onHaddleUuTienSearch"===l&&(i=!1!==a.getonHaddleUuTienSearch(e)&&i),i}),Z,U)),t["\u0275did"](32,638976,null,0,$,[H.a,v.e,Y.o,t.ChangeDetectorRef,z.a,W.a,Y.a],{typeDanhSachThanhToan:[0,"typeDanhSachThanhToan"],hoquerySearch:[1,"hoquerySearch"],dataQuayThuocSearch:[2,"dataQuayThuocSearch"]},{dataSearch:"dataSearch",onHaddleeXportExel:"onHaddleeXportExel",onHaddleUuTienSearch:"onHaddleUuTienSearch"}),(n()(),t["\u0275eld"](33,0,null,null,1,"app-quay-thuoc-list",[],null,[[null,"idChange"],[null,"OnHandleDataQuayThuocSearchList"]],(function(n,l,e){var t=!0,i=n.component;return"idChange"===l&&(t=!1!==(i.id=e)&&t),"OnHandleDataQuayThuocSearchList"===l&&(t=!1!==i.getonHaddleDataSearch(e)&&t),t}),wn,dn)),t["\u0275did"](34,638976,[[2,4]],0,hn.a,[Y.o,H.a,v.e,Y.a,z.a,W.a],{xacNhanIn:[0,"xacNhanIn"],id:[1,"id"],queryStringSearchUuTien:[2,"queryStringSearchUuTien"]},{OnHandleDataQuayThuocSearchList:"OnHandleDataQuayThuocSearchList"})],(function(n,l){var e=l.component;n(l,6,0,"column"),n(l,7,0,"center start");var t=n(l,13,0,n(l,11,0,"Nh\xe0 Thu\u1ed1c",""),n(l,12,0,"DS \u0110\u01a1n Thu\u1ed1c","/nha-thuoc",!0));n(l,10,0,t);var i=n(l,17,0,n(l,16,0,"Ctrl + Q","Qu\xe9t m\xe3 v\u1ea1ch",!0));n(l,15,0,i),n(l,25,0,"row","column"),n(l,26,0,"20px"),n(l,28,0,"100%"),n(l,30,0,"column"),n(l,32,0,e.typeDanhSachThanhToan,e.hoquerySearch,e.dataQuayThuocSearch),n(l,34,0,e.xacNhanIn,e.id,e.queryStringSearchUuTien)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,3).isCard,t["\u0275nov"](l,3).isSimple),n(l,8,0,!0),n(l,18,0,t["\u0275nov"](l,19).disabled||null,"NoopAnimations"===t["\u0275nov"](l,19)._animationMode),n(l,21,0,!0)}))}function Kn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-quay-thuoc-cho-thanh-toan",[],null,null,null,En,Hn)),t["\u0275did"](1,114688,null,0,kn.a,[Y.o,Y.a,t.ChangeDetectorRef,v.e],null,null)],(function(n,l){n(l,1,0)}),null)}var Fn=t["\u0275ccf"]("app-quay-thuoc-cho-thanh-toan",kn.a,Kn,{},{},[])},"t7+x":function(n,l,e){"use strict";e.d(l,"a",(function(){return f}));var t=e("8Y7J"),i=e("mkNU"),a=e.n(i),o=e("oHVF"),u=e.n(o),h=e("yHIK"),d=e.n(h),c=e("+tDV"),s=e.n(c),r=e("Y2dJ"),T=e("FIHo"),g=e("iPKF"),m=e("5fHe"),p=e("Pdl6");class f{constructor(n,l,e,i,o,h){this.router=n,this.apiService=l,this.dialog=e,this.route=i,this.authService=o,this.notificationService=h,this.icDone=a.a,this.icInfo=u.a,this.icPrint=d.a,this.icCheck=s.a,this.gridChildColumnsChoThanhToan=[],this.gridChildColumnsDaThanhToan=[],this.gridChildColumnsAll=[],this.gridChild=[],this.DieuKienLoadVaoChiTiet=!1,this.typeDanhSachThanhToan=0,this.xacNhanIn=!1,this.data=0,this.id=null,this.url1=null,this.url2=null,this.queryStringSearchUuTien=null,this.OnHandleDataQuayThuocSearchList=new t.EventEmitter,this.OnHandleDieuKienLoadXemChiTiet=new t.EventEmitter,this.urlGetDataGridChild="QuayThuoc/GetDataForGridTimBenhNhanAsync",this.urlGetTotalPageGridChild="QuayThuoc/GetTotalPageForGridTimBenhNhanAsync",this.urlGetDataChild="QuayThuoc/GetDanhSachThuocBenhNhanChild",this.validationErrors=[],this.groups=[{field:"LoaiDonThuoc"}],this.sortConfig=[{field:"TrangThai",dir:"asc"},{field:"Id",dir:"asc"}]}ngOnInit(){this.gridChildColumnsChoThanhToan=[{Field:"MaTN",Title:"M\xe3 TN",Width:100,Sortable:!0,Template:this.maTNTemplate},{Field:"MaBN",Title:"M\xe3 NB",Width:80,Sortable:!0},{Field:"HoTen",Title:"H\u1ecd T\xean",Width:200,Sortable:!0},{Field:"NamSinh",Title:"N\u0103m sinh",Width:80,Sortable:!0},{Field:"GioiTinhHienThi",Title:"Gi\u1edbi t\xednh",Width:80,Sortable:!0},{Field:"DiaChi",Title:"\u0110\u1ecba ch\u1ec9",MinWidth:120,Sortable:!0},{Field:"SoDienThoai",Title:"\u0110i\u1ec7n tho\u1ea1i",Width:120,Sortable:!0},{Field:"DoiTuong",Title:"\u0110\u1ed1i t\u01b0\u1ee3ng",Width:120,Sortable:!0},{Field:"TongGiaTriDonThuoc",Title:"T\u1ed5ng gi\xe1 tr\u1ecb \u0111\u01a1n thu\u1ed1c",Width:200,Sortable:!0,Template:this.TongGiaTriDonThuocTemplate},{Field:"TrangThaiHienThiString",Title:"Tr\u1ea1ng th\xe1i",Width:120,Sortable:!1,Template:this.trangThaiTemplate},{Field:"",Title:"",Width:200,Sortable:!1,Template:this.nguoiDungKhongMuaThuocTemplate}],this.gridChildColumnsDaThanhToan=[{Field:"MaTN",Title:"M\xe3 TN",Width:100,Sortable:!0,Template:this.maTNTemplate},{Field:"MaBN",Title:"M\xe3 NB",Width:80,Sortable:!0},{Field:"HoTen",Title:"H\u1ecd T\xean",Width:200,Sortable:!0},{Field:"NamSinh",Title:"N\u0103m sinh",Width:80,Sortable:!0},{Field:"GioiTinhHienThi",Title:"Gi\u1edbi t\xednh",Width:80,Sortable:!0},{Field:"DiaChi",Title:"\u0110\u1ecba ch\u1ec9",MinWidth:120,Sortable:!0},{Field:"SoDienThoai",Title:"\u0110i\u1ec7n tho\u1ea1i",Width:120,Sortable:!0},{Field:"DoiTuong",Title:"\u0110\u1ed1i t\u01b0\u1ee3ng",Width:120,Sortable:!0},{Field:"TongGiaTriDonThuoc",Title:"T\u1ed5ng gi\xe1 tr\u1ecb \u0111\u01a1n thu\u1ed1c",Width:200,Sortable:!0,Template:this.TongGiaTriDonThuocTemplate},{Field:"TrangThaiHienThiString",Title:"Tr\u1ea1ng th\xe1i",Width:120,Sortable:!1,Template:this.trangThaiTemplate}],this.gridChildColumnsAll=[{Field:"MaTN",Title:"M\xe3 TN",Width:100,Sortable:!0,Template:this.maTNTemplate},{Field:"MaBN",Title:"M\xe3 NB",Width:80,Sortable:!0},{Field:"HoTen",Title:"H\u1ecd T\xean",Width:200,Sortable:!0},{Field:"NamSinh",Title:"N\u0103m sinh",Width:80,Sortable:!0},{Field:"GioiTinhHienThi",Title:"Gi\u1edbi t\xednh",Width:80,Sortable:!0},{Field:"DiaChi",Title:"\u0110\u1ecba ch\u1ec9",MinWidth:120,Sortable:!0},{Field:"SoDienThoai",Title:"\u0110i\u1ec7n tho\u1ea1i",Width:120,Sortable:!0},{Field:"DoiTuong",Title:"\u0110\u1ed1i t\u01b0\u1ee3ng",Width:120,Sortable:!0},{Field:"SoTienChoThanhToan",Title:"S\u1ed1 ti\u1ec1n ch\u1edd thanh to\xe1n",Width:220,Sortable:!0,Template:this.SoTienChoThanhToanTemplate},{Field:"TongGiaTriDonThuoc",Title:"T\u1ed5ng gi\xe1 tr\u1ecb \u0111\u01a1n thu\u1ed1c",Width:200,Sortable:!0,Template:this.TongGiaTriDonThuocTemplate},{Field:"TrangThaiHienThiString",Title:"Tr\u1ea1ng th\xe1i",Width:120,Sortable:!1,Template:this.trangThaiTemplate}],this.gridChild=[{Field:"STT",Title:"#",Width:100,Sortable:!0},{Field:"LoaiDonThuoc",Title:"",Width:200,Sortable:!0,Hidden:!0,TemplateGroupHeader:this.nhomGroupHeaderTemplate},{Field:"MaDon",Title:"M\xe3 \u0110\u01a1n",Width:100,Sortable:!0},{Field:"NgayKeDon",Title:"Ng\xe0y k\xea \u0111\u01a1n",Width:200,Sortable:!0},{Field:"DVKham",Title:"D\u1ecbch v\u1ee5 kh\xe1m",minWidth:200,Sortable:!0},{Field:"BSKham",Title:"B\xe1c s\u0129 kh\xe1m",Width:200,Sortable:!0},{Field:"SoTienDisPlay",Title:"S\u1ed1 ti\u1ec1n ",Width:80,Sortable:!0,TemplateFooter:this.TongCongDonThuocFooter,Template:this.SoTienThuoctemplate},{Field:"TinhTrang",Title:"T\xecnh tr\u1ea1ng",Width:120,Sortable:!0,Template:this.TinhTrangThuoctemplate},{Field:"",Title:"",Width:120,Sortable:!0,Template:this.templatePrint}]}Xem(n){this.router.navigate(["nha-thuoc/mua-thuoc/"+n.YeuCauTiepNhanId+"/"+n.BenhNhanId+"/"+n.TrangThai+"/"+this.typeDanhSachThanhToan])}ngOnChanges(n){if(!(null==n.queryStringSearchUuTien&&null==n.queryStringSearchUuTien||null==n.queryStringSearchUuTien.currentValue&&null==n.queryStringSearchUuTien.currentValue||null==n.queryStringSearchUuTien.currentValue)){this.gridD._additionalSearchString=n.queryStringSearchUuTien.currentValue;let l=JSON.parse(n.queryStringSearchUuTien.currentValue);this.typeDanhSachThanhToan=l.KiemTraThanhToan,null!=l.DieuKienLoadVaoChiTiet&&(this.DieuKienLoadVaoChiTiet=l.DieuKienLoadVaoChiTiet),this.gridD.search()}}PrinAllDonThuocBenhNhan(n,l,e){var t={LoaiDonThuoc:l,YeuCauKhambenhId:e,Hosting:null,TiepNhanId:n};t.Hosting="http:"==window.location.protocol?"http://"+window.location.host:"https://"+window.location.host,this.apiService.post("QuayThuoc/InThuocBenhNhan",t).subscribe(n=>{this.dialog.open(r.a,{width:"1000px",data:{Model:n,InDonThuocDanhSachList:!1,InBangKe:!0,InPhieuThu:!1}}).afterClosed().subscribe(()=>{})},()=>{})}onDataBound(n){this.OnHandleDieuKienLoadXemChiTiet.emit(!0),this.OnHandleDataQuayThuocSearchList.emit(n)}nguoiBenhKhongMuaThuoc(n){var l=this;const e=n.Id;var t=new T.m;t.YeuCauTiepNhanId=e,l.dialog.open(p.a,{disableClose:!1,width:"400px",data:{Title:"X\xe1c nh\u1eadn",Message:"Ng\u01b0\u01a1\u0300i b\xea\u0323nh kh\xf4ng mu\xf4\u0301n mua thu\xf4\u0301c na\u0300y?"}}).afterClosed().subscribe(n=>{"Yes"==n&&l.apiService.post("QuayThuoc/NguoiBenhKhongMuaDonThuoc",t).subscribe(()=>{l.notificationService.showSuccess(g.a.format(m.B.ActionSuccessfully,["X\xf3a"])),this.gridD.search()},n=>{l.validationErrors=n.ValidationErrors,"Validation Failed"!=n.Message&&l.notificationService.showError(n.Message)})})}}},"wy6/":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{}}}]);