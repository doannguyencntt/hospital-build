(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{CqX7:function(n,e,l){"use strict";var a=l("8Y7J"),i=l("L4kb"),t=l("h6cf"),o=l("qwqc"),u=l("VDRc"),h=l("/q54"),s=l("ura0"),d=l("l+Q0"),r=l("cUpR"),c=l("s7LF"),g=l("bujt"),m=l("BHPW"),p=l("PrTX"),T=l("Fwaw"),f=l("5GAg"),C=l("omvX"),b=l("cHpR"),y=l("bDGK"),D=l("qc5V"),v=l("s6ns"),x=l("uShY"),K=l("7OI1"),N=l("teW0"),S=l("7dP1"),H=l("iInd"),L=l("Y4+Y"),P=l("wDUl"),k=l("f15K"),w=l("gM18"),R=l("byyG"),M=l("usaP"),I=l("Mr+X"),B=l("Gi4r"),O=l("SVse"),F=l("yg3i"),E=l("C8zy"),_=l("sF+I"),A=l.n(_),V=l("iPKF"),G=l("Pdl6"),j=l("pJhR"),Y=l("5fHe"),q=l("H+pe"),z=l("e8EJ"),U=l("4FRq"),W=l("6H0p"),$=l("U7lj"),X=l("Ha3d"),Q=l("SqwC"),J=l.n(Q),Z=l("yHIK"),nn=l.n(Z),en=l("FuoY"),ln=function(){function n(n,e,l,a,i){this.dialog=n,this.apiService=e,this.notificationService=l,this.route=a,this.authService=i,this.gridColumns=[],this.icSearch=A.a,this.hangDoiThucHienTiem=W.b.ThucHienTiem,this.urlGetData="TiemChung/GetDataForGridHoanThanhKhamSangLoc",this.urlGetTotalPage="TiemChung/GetTotalPageForGridHoanThanhKhamSangLoc",this.searchCtrl=new c.h,this.timKiemNangCaoObj=new $.d,this.strAdditionalSearchString="",this.icPrint=nn.a,this.icMoreHoriz=J.a,this.documentType=q.b.TiemChungKhamSangLoc,this.isReadOnly=!1,this.loaiHangDoi=W.b.KhamSangLoc}return n.prototype.ngOnInit=function(){this.loaiHangDoi==this.hangDoiThucHienTiem&&(this.urlGetData="TiemChung/GetDataForGridHoanThanhThucHienTiem",this.urlGetTotalPage="TiemChung/GetTotalPageForGridHoanThanhThucHienTiem"),this.timKiemNangCaoObj.LoaiHangDoi=this.loaiHangDoi;var n=new Date,e=new Date(n.getFullYear(),n.getMonth(),n.getDate());this.timKiemNangCaoObj.TuNgayDenNgay.startDate=this.timKiemNangCaoObj.TuNgayDenNgay.endDate=e,this.timKiemNangCaoObj.TuNgayDenNgay.TuNgay=this.timKiemNangCaoObj.TuNgayDenNgay.DenNgay=V.a.formatDateTime(this.timKiemNangCaoObj.TuNgayDenNgay.startDate,"mm/dd/yyyy"),this.gridChild.additionalSearchString=JSON.stringify(this.timKiemNangCaoObj),this.gridColumns=[{Field:"MaYeuCauTiepNhan",Title:"M\xe3 TN",Width:80,Sortable:!1,Template:this.maTiepNhanTemplate},{Field:"MaBN",Title:"M\xe3 NB",Width:80,Sortable:!1},{Field:"HoTen",Title:"T\xean NB",Width:120,Sortable:!1,Template:this.hoTenTemplate},{Field:"NamSinhDisplay",Title:"N\u0103m sinh",Width:70,Sortable:!1},{Field:"DiaChiDayDu",Title:"\u0110\u1ecba ch\u1ec9",Width:160,Sortable:!1},{Field:"ThoiDiemKhamDisplay",Title:"Th\u1eddi \u0111i\u1ec3m kh\xe1m",Width:90,Sortable:!1,Template:this.thoiDiemKhamTemplate},{Field:"BacSiKhamDisplay",Title:"B\xe1c s\u0129 kh\xe1m",Width:100,Sortable:!1},{Field:"MuiTiem",Title:"M\u0169i ti\xeam",Width:100,Sortable:!1,Template:this.vacxinTemplate,Hidden:this.loaiHangDoi!=this.hangDoiThucHienTiem},{Field:"NoiTheoDoiSauTiem",Title:"N\u01a1i theo d\xf5i sau ti\xeam",Width:100,Sortable:!1,Hidden:this.loaiHangDoi!=this.hangDoiThucHienTiem},{Field:"Action",Title:"",Width:130,Template:this.actionTemplate,Hidden:this.isReadOnly}]},n.prototype.searchChanges=function(n){null!=n&&""!=n||""==this.strAdditionalSearchString||this.timKiemNangCao()},n.prototype.onKey=function(n){"Enter"==n.key&&this.timKiemNangCao()},n.prototype.clearSearch=function(){this.timKiemNangCaoObj.SearchString=null,this.gridChild.searchString=null,this.timKiemNangCao()},n.prototype.timKiemNangCao=function(){this.timKiemNangCaoObj.TuNgayDenNgay.TuNgay=null!=this.timKiemNangCaoObj.TuNgayDenNgay&&null!=this.timKiemNangCaoObj.TuNgayDenNgay.startDate?V.a.formatDateTime(this.timKiemNangCaoObj.TuNgayDenNgay.startDate,"mm/dd/yyyy"):null,this.timKiemNangCaoObj.TuNgayDenNgay.DenNgay=null!=this.timKiemNangCaoObj.TuNgayDenNgay&&null!=this.timKiemNangCaoObj.TuNgayDenNgay.endDate?V.a.formatDateTime(this.timKiemNangCaoObj.TuNgayDenNgay.endDate,"mm/dd/yyyy"):null;var n=JSON.stringify(this.timKiemNangCaoObj);this.gridChild._additionalSearchString=this.strAdditionalSearchString=n,this.gridChild.search()},n.prototype.xemLichSuKham=function(n){this.dialog.open(X.a,{disableClose:!1,width:"1500px",height:"auto",data:{DocumentType:this.documentType,YeuCauKhamTiemChungId:n.Id,LoaiHangDoi:this.loaiHangDoi}}).afterClosed().subscribe((function(n){}))},n.prototype.showPopupLoadingData=function(n){void 0===n&&(n=z.d.View);var e="";switch(n){case z.d.View:e="\u0110ang t\u1ea3i d\u1eef li\u1ec7u...";break;case z.d.Update:e="\u0110ang l\u01b0u d\u1eef li\u1ec7u...";break;case z.d.Delete:e="\u0110ang x\xf3a d\u1eef li\u1ec7u...";break;case z.d.Cancel:e="\u0110ang h\u1ee7y d\u1eef li\u1ec7u...";break;default:e="\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."}this.popupLoadingData=this.dialog.open(j.a,{disableClose:!0,width:"200px",height:"90px",data:{Title:e}})},n.prototype.closePopupLoadingData=function(){null!=this.popupLoadingData&&null!=this.popupLoadingData&&this.popupLoadingData.close()},n.prototype.CapNhatKhamLaiKhamSangLoc=function(n){var e=this;this.authService.hasPermission(this.documentType,U.a.Update)?this.dialog.open(G.a,{disableClose:!1,width:"400px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n kh\xe1m l\u1ea1i b\xeanh nh\xe2n n\xe0y?"}}).afterClosed().subscribe((function(l){"Yes"==l&&(e.showPopupLoadingData(z.d.Update),e.apiService.put("TiemChung/CapNhatKhamLaiKhamSangLocTiemChung",{YeuCauKhamTiemChungId:n.Id,PhongBenhVienId:n.PhongBenhVienId}).subscribe((function(n){e.closePopupLoadingData(),e.notificationService.showSuccess(V.a.format(Y.B.ActionSuccessfully,["Kh\xe1m l\u1ea1i"])),e.timKiemNangCao()}),(function(n){"Validation Failed"!=n.Message&&e.notificationService.showError(n.Message),e.closePopupLoadingData()})))})):this.notificationService.showError(Y.B.UnAuthorizedMessage)},n.prototype.CapNhatKhamLaiThucHienTiemTheoPhong=function(n){var e=this;this.authService.hasPermission(this.documentType,U.a.Update)?this.dialog.open(G.a,{disableClose:!1,width:"400px",data:{Title:"X\xe1c nh\u1eadn",Message:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n t\u01b0\u1eddng tr\xecnh l\u1ea1i b\xeanh nh\xe2n n\xe0y?"}}).afterClosed().subscribe((function(l){"Yes"==l&&(e.showPopupLoadingData(z.d.Update),e.apiService.put("TiemChung/CapNhatKhamLaiThucHienTiemTheoPhong",{YeuCauKhamTiemChungId:n.Id,PhongBenhVienId:n.PhongBenhVienId}).subscribe((function(n){e.closePopupLoadingData(),e.notificationService.showSuccess(V.a.format(Y.B.ActionSuccessfully,["Tr\u01b0\u1eddng tr\xecnh l\u1ea1i"])),e.timKiemNangCao()}),(function(n){"Validation Failed"!=n.Message&&e.notificationService.showError(n.Message),e.closePopupLoadingData()})))})):this.notificationService.showError(Y.B.UnAuthorizedMessage)},n.prototype.inPhieuKhamSangLoc=function(n){var e=this;if(this.authService.hasPermission(this.documentType,U.a.Process)){this.showPopupLoadingData(z.d.View);var l={YeuCauDichVuKyThuatKhamSangLocId:n.KhamSangLocTiemChungId,Hosting:window.location.protocol+"//"+window.location.host};this.apiService.post("TiemChung/InBanKiemTruocTiemChungDoiVoiTreEm",l).subscribe((function(n){e.closePopupLoadingData(),e.dialog.open(en.a,{disableClose:!0,width:"1200px",data:n}).afterClosed().subscribe((function(){}))}),(function(n){"Validation Failed"!=n.Message&&e.notificationService.showError(n.Message),e.closePopupLoadingData()}))}else this.notificationService.showError(Y.B.UnAuthorizedMessage)},n}(),an=a["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function tn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),a["\u0275eld"](1,0,null,null,2,"app-combobox",[["class","ml-2 mt-5 on-header"],["fxFlex","300px"],["id","congTy"],["label","Vacxin"],["url","TiemChung/GetListVacXin"]],null,[[null,"modelChange"]],(function(n,e,l){var a=!0,i=n.component;return"modelChange"===e&&(a=!1!==(i.timKiemNangCaoObj.VacxinId=l)&&a),"modelChange"===e&&(a=!1!==i.timKiemNangCao()&&a),a}),R.b,R.a)),a["\u0275did"](2,671744,null,0,u.a,[a.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"]},null),a["\u0275did"](3,6012928,null,0,M.a,[D.a,w.a,a.ChangeDetectorRef],{id:[0,"id"],label:[1,"label"],model:[2,"model"],url:[3,"url"],popupSettings:[4,"popupSettings"],reloadForGrid:[5,"reloadForGrid"]},{modelChange:"modelChange"})],(function(n,e){var l=e.component;n(e,2,0,"300px"),n(e,3,0,"congTy","Vacxin",l.timKiemNangCaoObj.VacxinId,"TiemChung/GetListVacXin",null,!0)}),null)}function on(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,30,"div",[["class","bg-app-bar px-3 h-15 border-b sticky left-0"],["fxLayout","row"],["fxLayoutAlign","start center"]],null,null,null,null,null)),a["\u0275did"](1,671744,null,0,u.c,[a.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"]},null),a["\u0275did"](2,671744,null,0,u.b,[a.ElementRef,h.i,[2,u.g],h.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),a["\u0275eld"](3,0,null,null,12,"div",[["class","bg-card rounded-full border px-4 ml-2"],["fxFlex","400px"],["fxFlex.lt-md","auto"],["fxHide.xs",""],["fxLayout","row"],["fxLayoutAlign","start center"],["style","margin-top: 2px;"]],null,null,null,null,null)),a["\u0275did"](4,671744,null,0,u.c,[a.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"]},null),a["\u0275did"](5,671744,null,0,u.b,[a.ElementRef,h.i,[2,u.g],h.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),a["\u0275did"](6,671744,null,0,u.a,[a.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.lt-md":[1,"fxFlex.lt-md"]},null),a["\u0275did"](7,4866048,null,0,s.b,[a.ElementRef,s.e,h.i,h.f,h.e,a.PLATFORM_ID,[2,h.g]],{"fxHide.xs":[0,"fxHide.xs"]},null),(n()(),a["\u0275eld"](8,0,null,null,1,"ic-icon",[["size","20px"]],[[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,null,null)),a["\u0275did"](9,606208,null,0,d.a,[r.b],{icIcon:[0,"icIcon"],size:[1,"size"]},null),(n()(),a["\u0275eld"](10,0,null,null,5,"input",[["class","px-4 py-2 border-0 outline-none w-full bg-transparent"],["name","searchString"],["placeholder","T\xecm ki\u1ebfm theo M\xe3 NB, M\xe3 TN, H\u1ecd t\xean"],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,l){var i=!0,t=n.component;return"input"===e&&(i=!1!==a["\u0275nov"](n,11)._handleInput(l.target.value)&&i),"blur"===e&&(i=!1!==a["\u0275nov"](n,11).onTouched()&&i),"compositionstart"===e&&(i=!1!==a["\u0275nov"](n,11)._compositionStart()&&i),"compositionend"===e&&(i=!1!==a["\u0275nov"](n,11)._compositionEnd(l.target.value)&&i),"ngModelChange"===e&&(i=!1!==(t.timKiemNangCaoObj.SearchString=l)&&i),"keyup"===e&&(i=!1!==t.onKey(l)&&i),"ngModelChange"===e&&(i=!1!==t.searchChanges(l)&&i),i}),null,null)),a["\u0275did"](11,16384,null,0,c.e,[a.Renderer2,a.ElementRef,[2,c.a]],null,null),a["\u0275prd"](1024,null,c.p,(function(n){return[n]}),[c.e]),a["\u0275did"](13,540672,null,0,c.i,[[8,null],[8,null],[6,c.p],[2,c.A]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,c.q,null,[c.i]),a["\u0275did"](15,16384,null,0,c.r,[[4,c.q]],null,null),(n()(),a["\u0275eld"](16,0,null,null,6,"button",[["class","ml-4"],["fxFlex","none"],["fxHide.gt-xs",""],["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.clearSearch()&&a),a}),g.d,g.b)),a["\u0275did"](17,671744,null,0,u.a,[a.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"]},null),a["\u0275did"](18,4866048,null,0,s.b,[a.ElementRef,s.e,h.i,h.f,h.e,a.PLATFORM_ID,[2,h.g]],{"fxHide.gt-xs":[0,"fxHide.gt-xs"]},null),a["\u0275did"](19,180224,null,0,T.b,[a.ElementRef,f.g,[2,C.a]],null,null),(n()(),a["\u0275eld"](20,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null],[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,I.b,I.a)),a["\u0275did"](21,9158656,null,0,B.b,[a.ElementRef,B.d,[8,null],[2,B.a],[2,a.ErrorHandler]],null,null),a["\u0275did"](22,606208,null,0,d.a,[r.b],{icIcon:[0,"icIcon"]},null),(n()(),a["\u0275and"](16777216,null,null,1,null,tn)),a["\u0275did"](24,16384,null,0,O.p,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["\u0275eld"](25,0,null,null,2,"app-daterangepicker",[["class","mt-1 ml-2 on-header"],["fxFlex","300px"],["fxFlex.sm","auto"],["id","tuNgayDenNgay"]],null,[[null,"modelChange"],[null,"keyup"]],(function(n,e,l){var a=!0,i=n.component;return"modelChange"===e&&(a=!1!==(i.timKiemNangCaoObj.TuNgayDenNgay=l)&&a),"keyup"===e&&(a=!1!==i.onKey(l)&&a),a}),F.b,F.a)),a["\u0275did"](26,671744,null,0,u.a,[a.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.sm":[1,"fxFlex.sm"]},null),a["\u0275did"](27,1687552,null,0,E.a,[a.Injector],{id:[0,"id"],label:[1,"label"],model:[2,"model"]},{modelChange:"modelChange"}),(n()(),a["\u0275eld"](28,0,null,null,2,"button",[["class","ml-2"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.timKiemNangCao()&&a),a}),g.d,g.b)),a["\u0275did"](29,180224,null,0,T.b,[a.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),a["\u0275ted"](-1,0,["T\xecm"]))],(function(n,e){var l=e.component;n(e,1,0,"row"),n(e,2,0,"start center"),n(e,4,0,"row"),n(e,5,0,"start center"),n(e,6,0,"400px","auto"),n(e,7,0,""),n(e,9,0,l.icSearch,"20px"),n(e,13,0,l.searchCtrl,l.timKiemNangCaoObj.SearchString),n(e,17,0,"none"),n(e,18,0,""),n(e,21,0),n(e,22,0,l.icSearch),n(e,24,0,l.loaiHangDoi==l.hangDoiThucHienTiem),n(e,26,0,"300px","auto"),n(e,27,0,"tuNgayDenNgay",a["\u0275inlineInterpolate"](1,"T\u1eeb ng\xe0y - \u0111\u1ebfn ng\xe0y ",l.loaiHangDoi==l.hangDoiThucHienTiem?"Th\u1eddi \u0111i\u1ec3m ti\xeam":"Th\u1eddi \u0111i\u1ec3m kh\xe1m",""),l.timKiemNangCaoObj.TuNgayDenNgay),n(e,29,0,"primary")}),(function(n,e){n(e,8,0,a["\u0275nov"](e,9).inline,a["\u0275nov"](e,9).size,a["\u0275nov"](e,9).iconHTML),n(e,10,0,a["\u0275nov"](e,15).ngClassUntouched,a["\u0275nov"](e,15).ngClassTouched,a["\u0275nov"](e,15).ngClassPristine,a["\u0275nov"](e,15).ngClassDirty,a["\u0275nov"](e,15).ngClassValid,a["\u0275nov"](e,15).ngClassInvalid,a["\u0275nov"](e,15).ngClassPending),n(e,16,0,a["\u0275nov"](e,19).disabled||null,"NoopAnimations"===a["\u0275nov"](e,19)._animationMode),n(e,20,0,a["\u0275nov"](e,21).inline,"primary"!==a["\u0275nov"](e,21).color&&"accent"!==a["\u0275nov"](e,21).color&&"warn"!==a["\u0275nov"](e,21).color,a["\u0275nov"](e,22).inline,a["\u0275nov"](e,22).size,a["\u0275nov"](e,22).iconHTML),n(e,28,0,a["\u0275nov"](e,29).disabled||null,"NoopAnimations"===a["\u0275nov"](e,29)._animationMode)}))}function un(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.xemLichSuKham(n.context.$implicit)&&a),a}),null,null)),(n()(),a["\u0275ted"](1,null,["",""]))],null,(function(n,e){n(e,1,0,e.context.$implicit.MaYeuCauTiepNhan)}))}function hn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,0,"img",[["class","icon-bhyt"],["src","assets/img/logoBHXH.png"]],null,null,null,null,null))],null,null)}function sn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,3,"p",[["style","position: relative;"]],null,null,null,null,null)),(n()(),a["\u0275ted"](1,null,["",""])),(n()(),a["\u0275and"](16777216,null,null,1,null,hn)),a["\u0275did"](3,16384,null,0,O.p,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,3,0,e.context.$implicit.BaoHiemChiTra)}),(function(n,e){n(e,1,0,e.context.$implicit.HoTen)}))}function dn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,1,"div",[["class","reverse-ellipsis r"]],null,null,null,null,null)),(n()(),a["\u0275ted"](1,null,["",""]))],null,(function(n,e){n(e,1,0,e.context.$implicit.ThoiDiemKhamDisplay)}))}function rn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,0,"div",[["class","reverse-ellipsis r"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(n,e){n(e,0,0,e.context.$implicit.MuiTiem)}))}function cn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.CapNhatKhamLaiKhamSangLoc(n.parent.parent.context.$implicit)&&a),a}),g.d,g.b)),a["\u0275did"](1,180224,null,0,T.b,[a.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),a["\u0275ted"](-1,0,["Kh\xe1m L\u1ea1i"]))],(function(n,e){n(e,1,0,"primary")}),(function(n,e){n(e,0,0,a["\u0275nov"](e,1).disabled||null,"NoopAnimations"===a["\u0275nov"](e,1)._animationMode)}))}function gn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.CapNhatKhamLaiThucHienTiemTheoPhong(n.parent.parent.context.$implicit)&&a),a}),g.d,g.b)),a["\u0275did"](1,180224,null,0,T.b,[a.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),a["\u0275ted"](-1,0,["T\u01b0\u1eddng tr\xecnh l\u1ea1i"]))],(function(n,e){n(e,1,0,"primary")}),(function(n,e){n(e,0,0,a["\u0275nov"](e,1).disabled||null,"NoopAnimations"===a["\u0275nov"](e,1)._animationMode)}))}function mn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),a["\u0275and"](16777216,null,null,1,null,cn)),a["\u0275did"](2,16384,null,0,O.p,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["\u0275and"](16777216,null,null,1,null,gn)),a["\u0275did"](4,16384,null,0,O.p,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["\u0275eld"](5,0,null,null,2,"button",[["class","ml-2"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.inPhieuKhamSangLoc(n.parent.context.$implicit)&&a),a}),g.d,g.b)),a["\u0275did"](6,180224,null,0,T.b,[a.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),a["\u0275ted"](-1,0,["In Phi\u1ebfu Kh\xe1m"]))],(function(n,e){var l=e.component;n(e,2,0,l.loaiHangDoi!=l.hangDoiThucHienTiem),n(e,4,0,l.loaiHangDoi==l.hangDoiThucHienTiem),n(e,6,0,"primary")}),(function(n,e){n(e,5,0,a["\u0275nov"](e,6).disabled||null,"NoopAnimations"===a["\u0275nov"](e,6)._animationMode)}))}function pn(n){return a["\u0275vid"](0,[(n()(),a["\u0275and"](16777216,null,null,1,null,mn)),a["\u0275did"](1,16384,null,0,O.p,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["\u0275and"](0,null,null,0))],(function(n,e){n(e,1,0,1!=e.context.$implicit.BenhNhanDaTaoBenhAn)}),null)}function Tn(n){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{gridChild:0}),a["\u0275qud"](402653184,2,{maTiepNhanTemplate:0}),a["\u0275qud"](402653184,3,{hoTenTemplate:0}),a["\u0275qud"](402653184,4,{actionTemplate:0}),a["\u0275qud"](402653184,5,{thoiDiemKhamTemplate:0}),a["\u0275qud"](402653184,6,{vacxinTemplate:0}),(n()(),a["\u0275eld"](6,0,null,null,2,"div",[["class","card overflow-auto mb-4"]],null,null,null,null,null)),(n()(),a["\u0275eld"](7,0,null,null,1,"app-grid",[["heightToolbar","235"]],null,null,null,x.b,x.a)),a["\u0275did"](8,1818624,[[1,4],["gridDaKham",4]],0,K.a,[N.a,S.a,H.o,L.a,a.ChangeDetectorRef,c.g,v.e,a.Renderer2,a.NgZone],{gridColumns:[0,"gridColumns"],headerTemplate:[1,"headerTemplate"],useHeaderDefault:[2,"useHeaderDefault"],useActionDefault:[3,"useActionDefault"],heightToolbar:[4,"heightToolbar"],documentType:[5,"documentType"],lazyLoadPage:[6,"lazyLoadPage"],checkboxAble:[7,"checkboxAble"],urlGetData:[8,"urlGetData"],urlGetTotalPage:[9,"urlGetTotalPage"],allowSortDefault:[10,"allowSortDefault"]},null),(n()(),a["\u0275and"](0,[["headerTemplate",2]],null,0,null,on)),(n()(),a["\u0275and"](0,[[2,2],["maTiepNhanTemplate",2]],null,0,null,un)),(n()(),a["\u0275and"](0,[[3,2],["hoTenTemplate",2]],null,0,null,sn)),(n()(),a["\u0275and"](0,[[5,2],["thoiDiemKhamTemplate",2]],null,0,null,dn)),(n()(),a["\u0275and"](0,[[6,2],["vacxinTemplate",2]],null,0,null,rn)),(n()(),a["\u0275and"](0,[[4,2],["actionTemplate",2]],null,0,null,pn))],(function(n,e){var l=e.component;n(e,8,1,[l.gridColumns,a["\u0275nov"](e,9),!1,!1,"235",l.documentType,!0,!1,l.urlGetData,l.urlGetTotalPage,!1])}),null)}l("JiG1"),l.d(e,"a",(function(){return fn})),l.d(e,"b",(function(){return Nn}));var fn=a["\u0275crt"]({encapsulation:0,styles:[[".po-right[_ngcontent-%COMP%]{text-align:right;flex-grow:1}.d-unset[_ngcontent-%COMP%]{display:unset!important}kendo-splitter[_ngcontent-%COMP%]{border-width:0!important;min-height:100px}kendo-splitter[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.right-0[_ngcontent-%COMP%]{margin-right:0;padding-right:15px}fieldset[_ngcontent-%COMP%]{display:block;margin-left:2px;margin-right:2px;border:1px #e0e0e0;border-style:inherit;padding:.35em .75em .625em}fieldset[_ngcontent-%COMP%]   .item_right[_ngcontent-%COMP%]{text-align:right!important;float:right}fieldset[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:15px!important}fieldset[_ngcontent-%COMP%]   ul.inline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline!important}kendo-panelbar-item[_ngcontent-%COMP%]   ul.inline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:10px!important;padding-bottom:.625em;display:inline-block!important}kendo-panelbar-item[_ngcontent-%COMP%]   .inline_b[_ngcontent-%COMP%]{display:inline-block!important;margin-right:10px;padding-right:15px}kendo-panelbar-item[_ngcontent-%COMP%]   .panelbar-row[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}kendo-panelbar-item[_ngcontent-%COMP%]   .panelbar-row[_ngcontent-%COMP%]:hover{background:rgba(227,242,253,.5)}kendo-panelbar-item[_ngcontent-%COMP%]   .panelbar-group-b[_ngcontent-%COMP%]{border-top:1px outset rgba(0,0,0,.08)}.sticky-panelbar[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:64px}.sticky-button-action[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;bottom:0;background-color:#fff;border-top:1px solid var(--foreground-divider)}so-du-tai-khoan[_ngcontent-%COMP%]{color:#36b37e}so-du-uoc-luong-con-lai[_ngcontent-%COMP%]{color:#ff5630}"]],data:{}});function Cn(n){return a["\u0275vid"](0,[(n()(),a["\u0275ted"](-1,null,[" H\xc0NG \u0110\u1ee2I "]))],null,null)}function bn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,41,"kendo-splitter",[],[[2,"k-widget",null],[2,"k-splitter",null],[2,"k-splitter-flex",null],[2,"k-splitter-horizontal",null],[2,"k-splitter-vertical",null],[1,"dir",0],[1,"role",0]],null,null,i.i,i.c)),a["\u0275prd"](512,null,t.s,t.s,[a.NgZone]),a["\u0275prd"](256,null,o.b,"kendo.spliter",[]),a["\u0275prd"](131584,null,o.c,o.c,[o.b,[2,o.d],[2,o.e]]),a["\u0275did"](4,1753088,null,1,t.p,[a.ElementRef,t.s,o.c,[8,null]],null,null),a["\u0275qud"](603979776,9,{panes:1}),(n()(),a["\u0275eld"](6,0,null,0,31,"kendo-splitter-pane",[["class","sticky-panelbar"],["size","25%"],["style","max-height: 800px;"]],[[2,"k-pane-flex",null],[2,"k-pane",null],[2,"k-pane-static",null],[2,"k-scrollable",null]],null,null,i.j,i.d)),a["\u0275did"](7,8437760,[[9,4]],0,t.r,[a.ElementRef,a.Renderer2,a.ChangeDetectorRef],{size:[0,"size"],collapsible:[1,"collapsible"]},null),(n()(),a["\u0275eld"](8,0,null,0,25,"div",[["class","px-2 py-3"],["fxLayout","row"],["fxLayoutAlign","start center"]],null,null,null,null,null)),a["\u0275did"](9,671744,null,0,u.c,[a.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"]},null),a["\u0275did"](10,671744,null,0,u.b,[a.ElementRef,h.i,[2,u.g],h.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),a["\u0275eld"](11,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),a["\u0275eld"](12,0,null,null,1,"h3",[["class","title m-0"]],null,null,null,null,null)),(n()(),a["\u0275ted"](-1,null,["H\xc0NG \u0110\u1ee2I"])),(n()(),a["\u0275eld"](14,0,null,null,19,"div",[["class","po-right d-unset"]],null,null,null,null,null)),(n()(),a["\u0275eld"](15,0,null,null,16,"div",[["class","bg-card rounded-full border px-2"],["fxFlex","260px"],["fxFlex.lt-md","auto"],["fxHide.xs",""],["fxLayout","row"],["fxLayoutAlign","start center"],["style","margin-top: 2px; float: right;"]],null,null,null,null,null)),a["\u0275did"](16,671744,null,0,u.c,[a.ElementRef,h.i,[2,u.i],h.f],{fxLayout:[0,"fxLayout"]},null),a["\u0275did"](17,671744,null,0,u.b,[a.ElementRef,h.i,[2,u.g],h.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),a["\u0275did"](18,671744,null,0,u.a,[a.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"],"fxFlex.lt-md":[1,"fxFlex.lt-md"]},null),a["\u0275did"](19,4866048,null,0,s.b,[a.ElementRef,s.e,h.i,h.f,h.e,a.PLATFORM_ID,[2,h.g]],{"fxHide.xs":[0,"fxHide.xs"]},null),(n()(),a["\u0275eld"](20,0,null,null,1,"ic-icon",[["size","20px"]],[[2,"ic-inline",null],[4,"font-size",null],[8,"innerHTML",1]],null,null,null,null)),a["\u0275did"](21,606208,null,0,d.a,[r.b],{icIcon:[0,"icIcon"],size:[1,"size"]},null),(n()(),a["\u0275eld"](22,0,null,null,5,"input",[["class","px-1 py-2 border-0 outline-none w-full bg-transparent"],["name","searchString"],["placeholder","T\xecm ki\u1ebfm m\xe3 TN/BN"],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,e,l){var i=!0,t=n.component;return"input"===e&&(i=!1!==a["\u0275nov"](n,23)._handleInput(l.target.value)&&i),"blur"===e&&(i=!1!==a["\u0275nov"](n,23).onTouched()&&i),"compositionstart"===e&&(i=!1!==a["\u0275nov"](n,23)._compositionStart()&&i),"compositionend"===e&&(i=!1!==a["\u0275nov"](n,23)._compositionEnd(l.target.value)&&i),"ngModelChange"===e&&(i=!1!==(t.searchBenhNhan=l)&&i),"keyup"===e&&(i=!1!==t.timKiemBenhNhan(l)&&i),"ngModelChange"===e&&(i=!1!==t.searchChange(l)&&i),i}),null,null)),a["\u0275did"](23,16384,null,0,c.e,[a.Renderer2,a.ElementRef,[2,c.a]],null,null),a["\u0275prd"](1024,null,c.p,(function(n){return[n]}),[c.e]),a["\u0275did"](25,671744,null,0,c.u,[[8,null],[8,null],[8,null],[6,c.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,c.q,null,[c.u]),a["\u0275did"](27,16384,null,0,c.r,[[4,c.q]],null,null),(n()(),a["\u0275eld"](28,0,null,null,3,"button",[["class","button-barcoe-in-search"],["color","primary"],["kendoTooltip",""],["mat-mini-fab",""],["title","Ph\xedm t\u1eaft: Ch\u01b0a c\xf3"],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.QuetMaQRCodeClick()&&a),a}),g.d,g.b)),a["\u0275did"](29,9125888,null,0,m.c,[a.ElementRef,a.NgZone,a.Renderer2,p.g,[2,m.e],[2,m.a]],null,null),a["\u0275did"](30,180224,null,0,T.b,[a.ElementRef,f.g,[2,C.a]],{color:[0,"color"]},null),(n()(),a["\u0275eld"](31,0,null,0,0,"img",[["alt","Scan barcode"],["src","assets/img/barcode.png"]],null,null,null,null,null)),(n()(),a["\u0275eld"](32,0,null,null,1,"app-barcode",[["style","display: none;"]],null,[[null,"modelChange"]],(function(n,e,l){var a=!0,i=n.component;return"modelChange"===e&&(a=!1!==(i.modelQRCode=l)&&a),"modelChange"===e&&(a=!1!==i.changeQR(l)&&a),a}),b.b,b.a)),a["\u0275did"](33,114688,null,0,y.a,[D.a,v.e],{model:[0,"model"]},{modelChange:"modelChange"}),(n()(),a["\u0275eld"](34,0,null,0,3,"div",[["class",""]],null,null,null,null,null)),(n()(),a["\u0275eld"](35,0,null,null,2,"app-grid",[["class","k-grid-border"],["fxFlex","100%"],["style","width: 1px;"]],null,[[null,"extEnterChangePage"],[null,"extDoubleClick"]],(function(n,e,l){var a=!0,i=n.component;return"extEnterChangePage"===e&&(a=!1!==i.batDauKham(l)&&a),"extDoubleClick"===e&&(a=!1!==i.batDauKham(l)&&a),a}),x.b,x.a)),a["\u0275did"](36,671744,null,0,u.a,[a.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"]},null),a["\u0275did"](37,1818624,[["gridHangDoiKhamSangLoc",4]],0,K.a,[N.a,S.a,H.o,L.a,a.ChangeDetectorRef,c.g,v.e,a.Renderer2,a.NgZone],{gridColumns:[0,"gridColumns"],gridDataSource:[1,"gridDataSource"],useHeaderDefault:[2,"useHeaderDefault"],useActionDefault:[3,"useActionDefault"],pageable:[4,"pageable"],autoHeight:[5,"autoHeight"],documentType:[6,"documentType"],lazyLoadPage:[7,"lazyLoadPage"],useAddDeault:[8,"useAddDeault"],checkboxAble:[9,"checkboxAble"],allowSortDefault:[10,"allowSortDefault"],autoRefreshDataSource:[11,"autoRefreshDataSource"],showStt:[12,"showStt"]},{extEnterChangePage:"extEnterChangePage",extDoubleClick:"extDoubleClick"}),(n()(),a["\u0275eld"](38,0,null,0,3,"kendo-splitter-pane",[["style","overflow:initial;"]],[[2,"k-pane-flex",null],[2,"k-pane",null],[2,"k-pane-static",null],[2,"k-scrollable",null]],null,null,i.j,i.d)),a["\u0275did"](39,8437760,[[9,4]],0,t.r,[a.ElementRef,a.Renderer2,a.ChangeDetectorRef],null,null),(n()(),a["\u0275eld"](40,0,null,0,1,"app-thong-tin-tiem-chung-shared",[],null,[[null,"outputKhamSangLocBenhNhanTiepTheo"],[null,"outputKhamSangLocLuuThanhCong"],[null,"outputClearBenhNhanHienTai"],["document","keydown"]],(function(n,e,l){var i=!0,t=n.component;return"document:keydown"===e&&(i=!1!==a["\u0275nov"](n,41).keyEvent(l)&&i),"outputKhamSangLocBenhNhanTiepTheo"===e&&(i=!1!==t.evtKhamSangLocBenhNhanTiepTheo(l)&&i),"outputKhamSangLocLuuThanhCong"===e&&(i=!1!==t.evtKhamSangLocLuuThanhCong(l)&&i),"outputClearBenhNhanHienTai"===e&&(i=!1!==t.evtClearBenhNhanHienTai(l)&&i),i}),P.b,P.a)),a["\u0275did"](41,1818624,[[5,4]],0,k.a,[v.e,L.a,w.a,D.a,S.a],{documentType:[0,"documentType"],thongTinBenhNhan:[1,"thongTinBenhNhan"],phongKhamHienTai:[2,"phongKhamHienTai"],isTabKhamLocChungReadOnly:[3,"isTabKhamLocChungReadOnly"],isTabThucHienTiemReadOnly:[4,"isTabThucHienTiemReadOnly"],isTabThucHienTiemDisplayed:[5,"isTabThucHienTiemDisplayed"],isTabThucHienTiemDefault:[6,"isTabThucHienTiemDefault"],isTabTheoDoiDefault:[7,"isTabTheoDoiDefault"]},{outputKhamSangLocBenhNhanTiepTheo:"outputKhamSangLocBenhNhanTiepTheo",outputKhamSangLocLuuThanhCong:"outputKhamSangLocLuuThanhCong",outputClearBenhNhanHienTai:"outputClearBenhNhanHienTai"})],(function(n,e){var l=e.component;n(e,7,0,"25%",!0),n(e,9,0,"row"),n(e,10,0,"start center"),n(e,16,0,"row"),n(e,17,0,"start center"),n(e,18,0,"260px","auto"),n(e,19,0,""),n(e,21,0,l.icSearch,"20px"),n(e,25,0,"searchString",l.searchBenhNhan),n(e,29,0),n(e,30,0,"primary"),n(e,33,0,l.modelQRCode),n(e,36,0,"100%"),n(e,37,1,[l.gridHangDoiColumns,l.dataSourceChuanBiKham,!1,!1,!1,!0,l.documentType,!0,!1,!1,!1,!0,!0]),n(e,41,0,l.documentType,l.yeuCauKhamTiemChung,l.phongKhamHienTai,l.isTabKhamLocChungReadOnly,l.isTabThucHienTiemReadOnly,l.isTabThucHienTiemDisplayed,l.isTabThucHienTiemDefault,l.isTabTheoDoiDefault)}),(function(n,e){n(e,0,0,a["\u0275nov"](e,4).hostClasses,a["\u0275nov"](e,4).hostClasses,a["\u0275nov"](e,4).hostClasses,a["\u0275nov"](e,4).horizontalHostClasses,a["\u0275nov"](e,4).verticalHostClasses,a["\u0275nov"](e,4).dir,a["\u0275nov"](e,4).ariaRole),n(e,6,0,a["\u0275nov"](e,7).styleDisplayFlex,a["\u0275nov"](e,7).hostClass,a["\u0275nov"](e,7).staticPaneClass,a["\u0275nov"](e,7).scrollablePaneClass),n(e,20,0,a["\u0275nov"](e,21).inline,a["\u0275nov"](e,21).size,a["\u0275nov"](e,21).iconHTML),n(e,22,0,a["\u0275nov"](e,27).ngClassUntouched,a["\u0275nov"](e,27).ngClassTouched,a["\u0275nov"](e,27).ngClassPristine,a["\u0275nov"](e,27).ngClassDirty,a["\u0275nov"](e,27).ngClassValid,a["\u0275nov"](e,27).ngClassInvalid,a["\u0275nov"](e,27).ngClassPending),n(e,28,0,a["\u0275nov"](e,30).disabled||null,"NoopAnimations"===a["\u0275nov"](e,30)._animationMode),n(e,38,0,a["\u0275nov"](e,39).styleDisplayFlex,a["\u0275nov"](e,39).hostClass,a["\u0275nov"](e,39).staticPaneClass,a["\u0275nov"](e,39).scrollablePaneClass)}))}function yn(n){return a["\u0275vid"](0,[(n()(),a["\u0275ted"](-1,null,[" DANH S\xc1CH HO\xc0N TH\xc0NH KH\xc1M "]))],null,null)}function Dn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,1,"app-hoan-thanh-kham-list-shared",[],null,null,null,Tn,an)),a["\u0275did"](1,114688,null,0,ln,[v.e,D.a,L.a,H.a,S.a],{documentType:[0,"documentType"],isReadOnly:[1,"isReadOnly"],loaiHangDoi:[2,"loaiHangDoi"]},null)],(function(n,e){var l=e.component;n(e,1,0,l.documentType,l.loaiHangDoi!=l.hangDoiThucHienTiem&&l.isTabKhamLocChungReadOnly||l.loaiHangDoi==l.hangDoiThucHienTiem&&l.isTabThucHienTiemReadOnly,l.loaiHangDoi)}),null)}function vn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,3,"a",[],null,[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.batDauKham(n.context.$implicit)&&a),a}),null,null)),(n()(),a["\u0275eld"](1,0,null,null,2,"p",[["class","reverse-ellipsis l"],["kendoTooltip",""]],[[8,"title",0]],null,null,null,null)),a["\u0275did"](2,9125888,null,0,m.c,[a.ElementRef,a.NgZone,a.Renderer2,p.g,[2,m.e],[2,m.a]],null,null),(n()(),a["\u0275ted"](3,null,[""," "]))],(function(n,e){n(e,2,0)}),(function(n,e){n(e,1,0,a["\u0275inlineInterpolate"](1,"",e.context.$implicit.MaYeuCauTiepNhan,"")),n(e,3,0,e.context.$implicit.MaYeuCauTiepNhan)}))}function xn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,0,"img",[["class","icon-bhyt"],["src","assets/img/logoBHXH.png"]],null,null,null,null,null))],null,null)}function Kn(n){return a["\u0275vid"](0,[(n()(),a["\u0275eld"](0,0,null,null,3,"p",[["style","position: relative;"]],null,[[null,"click"]],(function(n,e,l){var a=!0;return"click"===e&&(a=!1!==n.component.batDauKham(n.context.$implicit)&&a),a}),null,null)),(n()(),a["\u0275ted"](1,null,["",""])),(n()(),a["\u0275and"](16777216,null,null,1,null,xn)),a["\u0275did"](3,16384,null,0,O.p,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,3,0,e.context.$implicit.CoBaoHiem)}),(function(n,e){n(e,1,0,e.context.$implicit.HoTen)}))}function Nn(n){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{maTNTemplate:0}),a["\u0275qud"](402653184,2,{hoTenTemplate:0}),a["\u0275qud"](402653184,3,{gioiTinhTemplate:0}),a["\u0275qud"](402653184,4,{tuoiTemplate:0}),a["\u0275qud"](671088640,5,{ThongTinTiemChungSharedComponent:0}),(n()(),a["\u0275eld"](5,0,null,null,21,"kendo-tabstrip",[["class","tab-no-padding-content field-set-p"],["fxFlex","100%"]],[[2,"k-widget",null],[2,"k-tabstrip",null],[2,"k-floatwrap",null],[2,"k-header",null],[2,"k-tabstrip-top",null],[2,"k-tabstrip-right",null],[2,"k-tabstrip-bottom",null],[2,"k-tabstrip-left",null],[1,"dir",0]],[[null,"tabSelect"]],(function(n,e,l){var a=!0;return"tabSelect"===e&&(a=!1!==n.component.onParentTabSelect(l)&&a),a}),i.k,i.e)),a["\u0275did"](6,671744,null,0,u.a,[a.ElementRef,h.i,h.e,u.f,h.f],{fxFlex:[0,"fxFlex"]},null),a["\u0275prd"](256,null,o.b,"kendo.tabstrip",[]),a["\u0275prd"](131584,null,o.c,o.c,[o.b,[2,o.d],[2,o.e]]),a["\u0275did"](9,245760,null,1,t.u,[o.c,a.Renderer2,a.ElementRef],null,{tabSelect:"tabSelect"}),a["\u0275qud"](603979776,6,{tabs:1}),(n()(),a["\u0275eld"](11,0,null,null,7,"kendo-tabstrip-tab",[],null,null,null,i.l,i.f)),a["\u0275did"](12,1622016,[[6,4]],2,t.w,[],{selected:[0,"selected"]},null),a["\u0275qud"](603979776,7,{_tabContent:1}),a["\u0275qud"](335544320,8,{tabTitle:0}),(n()(),a["\u0275and"](0,null,null,1,null,Cn)),a["\u0275did"](16,16384,[[8,4]],0,t.x,[a.TemplateRef],null,null),(n()(),a["\u0275and"](0,null,null,1,null,bn)),a["\u0275did"](18,16384,[[7,4]],0,t.t,[a.TemplateRef],null,null),(n()(),a["\u0275eld"](19,0,null,null,7,"kendo-tabstrip-tab",[],null,null,null,i.l,i.f)),a["\u0275did"](20,1622016,[[6,4]],2,t.w,[],{selected:[0,"selected"]},null),a["\u0275qud"](603979776,10,{_tabContent:1}),a["\u0275qud"](335544320,11,{tabTitle:0}),(n()(),a["\u0275and"](0,null,null,1,null,yn)),a["\u0275did"](24,16384,[[11,4]],0,t.x,[a.TemplateRef],null,null),(n()(),a["\u0275and"](0,null,null,1,null,Dn)),a["\u0275did"](26,16384,[[10,4]],0,t.t,[a.TemplateRef],null,null),(n()(),a["\u0275and"](0,[[1,2],["maTNTemplate",2]],null,0,null,vn)),(n()(),a["\u0275and"](0,[[2,2],["hoTenTemplate",2]],null,0,null,Kn))],(function(n,e){var l=e.component;n(e,6,0,"100%"),n(e,9,0),n(e,12,0,l.lstParentTabStatus.tabHangDoiSelected),n(e,20,0,l.lstParentTabStatus.tabDanhSachHoanThanhKhamSelected)}),(function(n,e){n(e,5,0,a["\u0275nov"](e,9).hostClasses,a["\u0275nov"](e,9).hostClasses,a["\u0275nov"](e,9).hostClasses,a["\u0275nov"](e,9).hostClasses,a["\u0275nov"](e,9).tabsAtTop,a["\u0275nov"](e,9).tabsAtRight,a["\u0275nov"](e,9).tabsAtBottom,a["\u0275nov"](e,9).tabsAtLeft,a["\u0275nov"](e,9).dir)}))}},JiG1:function(n,e,l){"use strict";l.d(e,"a",(function(){return m}));var a=l("H+pe"),i=l("sF+I"),t=l.n(i),o=l("U7lj"),u=l("6H0p"),h=l("e8EJ"),s=l("pJhR"),d=l("ORmt"),r=l("iPKF"),c=l("5fHe"),g=l("4FRq");l("f15K");var m=function(){function n(n,e,l,i,h,s,d){this.dialog=n,this.authService=e,this.apiService=l,this.notificationService=i,this.broadcastService=h,this.route=s,this.router=d,this.phongKhamHienTai={DisplayName:null,KeyId:Number(this.authService.getPhongLamViecId())},this.isScanF1=!1,this.gridHangDoiColumns=[],this.dataSourceChuanBiKham={data:[],total:0},this.icSearch=t.a,this.lstParentTabStatus=new o.g,this.hangDoiThucHienTiem=u.b.ThucHienTiem,this.documentType=a.b.TiemChungThucHienTiem,this.loaiHangDoi=u.b.KhamSangLoc,this.isTabKhamLocChungReadOnly=!1,this.isTabThucHienTiemDisplayed=!1,this.isTabThucHienTiemReadOnly=!1,this.isTabThucHienTiemDefault=!1,this.isTabTheoDoiDefault=!1}return n.prototype.ngOnInit=function(){this.gridHangDoiColumns=[{Field:"MaYeuCauTiepNhan",Title:"M\xe3 TN",Width:75,Sortable:!0,Template:this.maTNTemplate},{Field:"HoTen",Title:"H\u1ecd t\xean",Width:100,Sortable:!0,ShowTooltip:!0,Template:this.hoTenTemplate},{Field:"TenGioiTinh",Title:"GT",Width:35,Sortable:!0},{Field:"Tuoi",Title:"Tu\u1ed5i",Width:30,Sortable:!0}],this.phongKhamHienTai.KeyId=Number(this.authService.getPhongLamViecId()),this.getDanhSachBenhNhanChoKhamHienTai(this.phongKhamHienTai.KeyId),this.getBenhNhanDangKham(this.phongKhamHienTai.KeyId)},n.prototype.ngAfterContentInit=function(){var n=this;this.subscription=this.broadcastService.on("ChuyenPhong",(function(e){e.message&&n.ChuyenPhongNoiBo(e.message)})),this.subscription=this.broadcastService.on("TiemChungThemChiDinhGoiDichVuTheoBenhNhanThanhCong",(function(e){e.message&&n.getBenhNhanDangKham(n.phongKhamHienTai.KeyId)}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.showPopupLoadingData=function(n){void 0===n&&(n=h.d.View);var e="";switch(n){case h.d.View:e="\u0110ang t\u1ea3i d\u1eef li\u1ec7u...";break;case h.d.Update:e="\u0110ang l\u01b0u d\u1eef li\u1ec7u...";break;case h.d.Delete:e="\u0110ang x\xf3a d\u1eef li\u1ec7u...";break;case h.d.Cancel:e="\u0110ang h\u1ee7y d\u1eef li\u1ec7u...";break;default:e="\u0110ang t\u1ea3i d\u1eef li\u1ec7u..."}this.popupLoadingData=this.dialog.open(s.a,{disableClose:!0,width:"200px",height:"90px",data:{Title:e}})},n.prototype.closePopupLoadingData=function(){null!=this.popupLoadingData&&null!=this.popupLoadingData&&this.popupLoadingData.close()},n.prototype.onParentTabSelect=function(n){0==n.index||"H\xc0NG \u0110\u1ee2I"==n.title?(this.lstParentTabStatus.tabHangDoiSelected=!0,this.getDanhSachBenhNhanChoKhamHienTai(this.phongKhamHienTai.KeyId,null==this.searchBenhNhan?"":this.searchBenhNhan)):this.lstParentTabStatus.tabHangDoiSelected=!1},n.prototype.getDanhSachBenhNhanChoKhamHienTai=function(n,e){var l=this;void 0===e&&(e=""),this.apiService.post("TiemChung/GetDanhSachChoKhamHienTai",{PhongKhamHienTaiId:n,SearchString:e,LoaiHangDoi:this.loaiHangDoi}).subscribe((function(n){l.dataSourceChuanBiKham=void 0!==n&&null!=n?{data:n,total:n.length}:{data:[],total:0}}))},n.prototype.timKiemBenhNhan=function(n){"Enter"==n.key&&this.getDanhSachBenhNhanChoKhamHienTai(this.phongKhamHienTai.KeyId,null==this.searchBenhNhan?"":this.searchBenhNhan)},n.prototype.searchChange=function(n){var e=this;null!=n&&"string"==typeof n&&n.endsWith("@")?e.timeoutSearchChange=setTimeout((function(){e.modelQRCode=n,e.changeQR(e.modelQRCode)}),10):null!=n&&""!=n||(this.modelQRCode=null,this.getDanhSachBenhNhanChoKhamHienTai(this.phongKhamHienTai.KeyId))},n.prototype.QuetMaQRCodeClick=function(){var n=document.getElementById("barcodeActive");null!=n&&n.click()},n.prototype.changeQR=function(n){if(null!=n&&"string"==typeof n&&n.endsWith("@")){var e=n.split("|");this.searchBenhNhan=e.length>1?e[0]:n.slice(0,-1),this.getDanhSachBenhNhanChoKhamHienTai(this.phongKhamHienTai.KeyId,null==this.searchBenhNhan?"":this.searchBenhNhan)}else this.notificationService.showError("Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin c\u1ea7n t\xecm.");this.isScanF1=!1},n.prototype.batDauKham=function(n){null!=n&&null!=n&&n.Id!=this.yeuCauKhamTiemChung.Id&&(this.authService.hasPermission(this.documentType,g.a.Update)?(this.showPopupLoadingData(),0!=this.yeuCauKhamTiemChung.Id&&this.yeuCauKhamTiemChung.isDataKhamSangLocChungChange?this.ThongTinTiemChungSharedComponent.luuKhamSangLoc(n):this.XuLyBatDauKhamBenhNhan(n.Id,n.YeuCauTiemVacxinId)):this.notificationService.showError(c.B.UnAuthorizedMessage))},n.prototype.XuLyBatDauKhamBenhNhan=function(n,e,l){var a=this;void 0===e&&(e=null),void 0===l&&(l=!1);var i=new o.c;i.HangDoiDangKhamId=this.yeuCauKhamTiemChung.Id,i.HangDoiBatDauKhamId=n,i.HangDoiVacXinId=e,i.HoanThanhKham=l,i.LoaiHangDoi=this.loaiHangDoi,this.apiService.post("TiemChung/XuLyBatDauKhamBenhNhan",i).subscribe((function(e){a.getDanhSachBenhNhanChoKhamHienTai(a.phongKhamHienTai.KeyId,a.searchBenhNhan),a.getBenhNhanDangKham(a.phongKhamHienTai.KeyId,n),a.notificationService.showSuccess(r.a.format(c.B.ActionSuccessfully,["B\u1eaft \u0111\u1ea7u kh\xe1m"]))}),(function(n){"Validation Failed"!=n.Message&&a.notificationService.showError(n.Message),a.closePopupLoadingData()}))},n.prototype.getBenhNhanDangKham=function(n,e){var l=this;void 0===e&&(e=null),this.closePopupLoadingData(),this.yeuCauKhamTiemChung=new o.j,this.showPopupLoadingData(),this.apiService.post("TiemChung/GetYeuCauKhamTiemChungDangKhamTheoPhongKham",{PhongKhamHienTaiId:n,YeuCauKhamTiemChungId:e,TrangThaiHangDoi:u.a.DangKham,LoaiHangDoi:this.loaiHangDoi}).subscribe((function(n){if(void 0!==n&&null!=n){if(l.yeuCauKhamTiemChung=n,null!=l.yeuCauKhamTiemChung.YeuCauTiepNhan.NamSinh&&null!=l.yeuCauKhamTiemChung.YeuCauTiepNhan.ThangSinh&&null!=l.yeuCauKhamTiemChung.YeuCauTiepNhan.NgaySinh){var e=new Date(l.yeuCauKhamTiemChung.YeuCauTiepNhan.ThangSinh+"/"+l.yeuCauKhamTiemChung.YeuCauTiepNhan.NgaySinh+"/"+l.yeuCauKhamTiemChung.YeuCauTiepNhan.NamSinh+"/");l.getAge(e,new Date)}l.closePopupLoadingData()}else l.yeuCauKhamTiemChung=new o.j,l.closePopupLoadingData()}),(function(n){"Validation Failed"!=n.Message&&l.notificationService.showError(n.Message),l.closePopupLoadingData()}))},n.prototype.getAge=function(n,e){var l=e.getDate()-n.getDate();l<0&&(e.setMonth(e.getMonth()-1),l+=this.DaysInMonth(e));var a=e.getMonth()-n.getMonth();a<0&&(e.setFullYear(e.getFullYear()-1),a+=12);var i=e.getFullYear()-n.getFullYear();this.yeuCauKhamTiemChung.IsDuoi6Tuoi=i<6&&i>=0||6==i&&0==a&&0==l,this.yeuCauKhamTiemChung.Duoi6TuoiDisplay=i+" Tu\xf4\u0309i "+a+" Tha\u0301ng "+l+" Nga\u0300y "},n.prototype.DaysInMonth=function(n){var e=new Date(n.getFullYear(),n.getMonth(),1);return(new Date(n.getFullYear(),n.getMonth()+1,1)-e)/864e5},n.prototype.evtKhamSangLocBenhNhanTiepTheo=function(n){null!=n.clearDataBenhNhan&&1==n.clearDataBenhNhan&&(this.yeuCauKhamTiemChung=new o.j),this.XuLyBatDauKhamBenhNhan(n.Id,n.YeuCauTiemVacxinId,n.hoanThanhKham)},n.prototype.evtKhamSangLocLuuThanhCong=function(n){n&&(n.phongBenhVien?this.xuLyChuyenPhongKham(n.phongBenhVien):!n.isHoanThanhKhamSangLoc&&n.isGetData&&this.getBenhNhanDangKham(this.phongKhamHienTai.KeyId))},n.prototype.ChuyenPhongNoiBo=function(n){this.authService.getPhongLamViecId()!==n.KeyId?this.yeuCauKhamTiemChung&&0!=this.yeuCauKhamTiemChung.Id&&this.yeuCauKhamTiemChung.isDataKhamSangLocChungChange&&this.ThongTinTiemChungSharedComponent.lstTabStatus.tabKhamSangLocChungSelected?this.ThongTinTiemChungSharedComponent.luuKhamSangLoc(null,null,n,"B\u1ea1n c\xf3 mu\u1ed1n l\u01b0u kh\xe1m s\xe0ng l\u1ecdc cho kh\xe1ch h\xe0ng n\xe0y hay kh\xf4ng?"):this.xuLyChuyenPhongKham(n):this.broadcastService.broadcast({name:"ChuyenPhongThanhCong",message:!0})},n.prototype.xuLyChuyenPhongKham=function(n){this.phongKhamHienTai.KeyId=n.KeyId,this.yeuCauKhamTiemChung=new o.j,this.luuHoatDongNhanVien(n.KeyId)},n.prototype.refreshPage=function(){var n=this,e=this.router.url.lastIndexOf("?")>=0?this.router.url.substr(0,this.router.url.lastIndexOf("?")):this.router.url,l=null;this.route.queryParams.subscribe((function(n){l=n})),this.router.navigateByUrl("/",{skipLocationChange:!0}).then((function(){return n.router.navigate([e],{queryParams:l})}))},n.prototype.luuHoatDongNhanVien=function(n){var e=this,l=new d.b(n);this.authService.setPhongLamViecId(n),this.apiService.post("HoatDongNhanVien/LuuHoatDongNhanVien",l).subscribe((function(n){e.broadcastService.broadcast({name:"ChuyenPhongThanhCong",message:!0}),e.refreshPage()}))},n.prototype.evtClearBenhNhanHienTai=function(n){n&&(this.yeuCauKhamTiemChung=new o.j,this.getDanhSachBenhNhanChoKhamHienTai(this.phongKhamHienTai.KeyId,null==this.searchBenhNhan?"":this.searchBenhNhan))},n}()}}]);